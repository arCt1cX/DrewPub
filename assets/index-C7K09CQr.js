function dv(h,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in h)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(h,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Il={exports:{}},ys={},Ol={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function pv(){if(xh)return vt;xh=1;var h=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function C(W){return W===null||typeof W!="object"?null:(W=w&&W[w]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function g(W,ne,Le){this.props=W,this.context=ne,this.refs=k,this.updater=Le||S}g.prototype.isReactComponent={},g.prototype.setState=function(W,ne){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ne,"setState")},g.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function E(){}E.prototype=g.prototype;function _(W,ne,Le){this.props=W,this.context=ne,this.refs=k,this.updater=Le||S}var R=_.prototype=new E;R.constructor=_,j(R,g.prototype),R.isPureReactComponent=!0;var M=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function U(W,ne,Le){var Ce,Be={},We=null,Ge=null;if(ne!=null)for(Ce in ne.ref!==void 0&&(Ge=ne.ref),ne.key!==void 0&&(We=""+ne.key),ne)D.call(ne,Ce)&&!F.hasOwnProperty(Ce)&&(Be[Ce]=ne[Ce]);var ce=arguments.length-2;if(ce===1)Be.children=Le;else if(1<ce){for(var ze=Array(ce),qe=0;qe<ce;qe++)ze[qe]=arguments[qe+2];Be.children=ze}if(W&&W.defaultProps)for(Ce in ce=W.defaultProps,ce)Be[Ce]===void 0&&(Be[Ce]=ce[Ce]);return{$$typeof:h,type:W,key:We,ref:Ge,props:Be,_owner:L.current}}function z(W,ne){return{$$typeof:h,type:W.type,key:ne,ref:W.ref,props:W.props,_owner:W._owner}}function q(W){return typeof W=="object"&&W!==null&&W.$$typeof===h}function ae(W){var ne={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Le){return ne[Le]})}var $=/\/+/g;function oe(W,ne){return typeof W=="object"&&W!==null&&W.key!=null?ae(""+W.key):ne.toString(36)}function xe(W,ne,Le,Ce,Be){var We=typeof W;(We==="undefined"||We==="boolean")&&(W=null);var Ge=!1;if(W===null)Ge=!0;else switch(We){case"string":case"number":Ge=!0;break;case"object":switch(W.$$typeof){case h:case t:Ge=!0}}if(Ge)return Ge=W,Be=Be(Ge),W=Ce===""?"."+oe(Ge,0):Ce,M(Be)?(Le="",W!=null&&(Le=W.replace($,"$&/")+"/"),xe(Be,ne,Le,"",function(qe){return qe})):Be!=null&&(q(Be)&&(Be=z(Be,Le+(!Be.key||Ge&&Ge.key===Be.key?"":(""+Be.key).replace($,"$&/")+"/")+W)),ne.push(Be)),1;if(Ge=0,Ce=Ce===""?".":Ce+":",M(W))for(var ce=0;ce<W.length;ce++){We=W[ce];var ze=Ce+oe(We,ce);Ge+=xe(We,ne,Le,ze,Be)}else if(ze=C(W),typeof ze=="function")for(W=ze.call(W),ce=0;!(We=W.next()).done;)We=We.value,ze=Ce+oe(We,ce++),Ge+=xe(We,ne,Le,ze,Be);else if(We==="object")throw ne=String(W),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ge}function we(W,ne,Le){if(W==null)return W;var Ce=[],Be=0;return xe(W,Ce,"","",function(We){return ne.call(Le,We,Be++)}),Ce}function Te(W){if(W._status===-1){var ne=W._result;ne=ne(),ne.then(function(Le){(W._status===0||W._status===-1)&&(W._status=1,W._result=Le)},function(Le){(W._status===0||W._status===-1)&&(W._status=2,W._result=Le)}),W._status===-1&&(W._status=0,W._result=ne)}if(W._status===1)return W._result.default;throw W._result}var ve={current:null},te={transition:null},pe={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:te,ReactCurrentOwner:L};function me(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:we,forEach:function(W,ne,Le){we(W,function(){ne.apply(this,arguments)},Le)},count:function(W){var ne=0;return we(W,function(){ne++}),ne},toArray:function(W){return we(W,function(ne){return ne})||[]},only:function(W){if(!q(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},vt.Component=g,vt.Fragment=n,vt.Profiler=a,vt.PureComponent=_,vt.StrictMode=i,vt.Suspense=f,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,vt.act=me,vt.cloneElement=function(W,ne,Le){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ce=j({},W.props),Be=W.key,We=W.ref,Ge=W._owner;if(ne!=null){if(ne.ref!==void 0&&(We=ne.ref,Ge=L.current),ne.key!==void 0&&(Be=""+ne.key),W.type&&W.type.defaultProps)var ce=W.type.defaultProps;for(ze in ne)D.call(ne,ze)&&!F.hasOwnProperty(ze)&&(Ce[ze]=ne[ze]===void 0&&ce!==void 0?ce[ze]:ne[ze])}var ze=arguments.length-2;if(ze===1)Ce.children=Le;else if(1<ze){ce=Array(ze);for(var qe=0;qe<ze;qe++)ce[qe]=arguments[qe+2];Ce.children=ce}return{$$typeof:h,type:W.type,key:Be,ref:We,props:Ce,_owner:Ge}},vt.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},vt.createElement=U,vt.createFactory=function(W){var ne=U.bind(null,W);return ne.type=W,ne},vt.createRef=function(){return{current:null}},vt.forwardRef=function(W){return{$$typeof:c,render:W}},vt.isValidElement=q,vt.lazy=function(W){return{$$typeof:x,_payload:{_status:-1,_result:W},_init:Te}},vt.memo=function(W,ne){return{$$typeof:v,type:W,compare:ne===void 0?null:ne}},vt.startTransition=function(W){var ne=te.transition;te.transition={};try{W()}finally{te.transition=ne}},vt.unstable_act=me,vt.useCallback=function(W,ne){return ve.current.useCallback(W,ne)},vt.useContext=function(W){return ve.current.useContext(W)},vt.useDebugValue=function(){},vt.useDeferredValue=function(W){return ve.current.useDeferredValue(W)},vt.useEffect=function(W,ne){return ve.current.useEffect(W,ne)},vt.useId=function(){return ve.current.useId()},vt.useImperativeHandle=function(W,ne,Le){return ve.current.useImperativeHandle(W,ne,Le)},vt.useInsertionEffect=function(W,ne){return ve.current.useInsertionEffect(W,ne)},vt.useLayoutEffect=function(W,ne){return ve.current.useLayoutEffect(W,ne)},vt.useMemo=function(W,ne){return ve.current.useMemo(W,ne)},vt.useReducer=function(W,ne,Le){return ve.current.useReducer(W,ne,Le)},vt.useRef=function(W){return ve.current.useRef(W)},vt.useState=function(W){return ve.current.useState(W)},vt.useSyncExternalStore=function(W,ne,Le){return ve.current.useSyncExternalStore(W,ne,Le)},vt.useTransition=function(){return ve.current.useTransition()},vt.version="18.3.1",vt}var _h;function qu(){return _h||(_h=1,Ol.exports=pv()),Ol.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function mv(){if(Eh)return ys;Eh=1;var h=qu(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,v){var x,w={},C=null,S=null;v!==void 0&&(C=""+v),f.key!==void 0&&(C=""+f.key),f.ref!==void 0&&(S=f.ref);for(x in f)i.call(f,x)&&!o.hasOwnProperty(x)&&(w[x]=f[x]);if(c&&c.defaultProps)for(x in f=c.defaultProps,f)w[x]===void 0&&(w[x]=f[x]);return{$$typeof:t,type:c,key:C,ref:S,props:w,_owner:a.current}}return ys.Fragment=n,ys.jsx=u,ys.jsxs=u,ys}var bh;function vv(){return bh||(bh=1,Il.exports=mv()),Il.exports}var O=vv(),de=qu();const Gd=Mn(de),gv=dv({__proto__:null,default:Gd},[de]);var Ia={},Ll={exports:{}},Cr={},Pl={exports:{}},Bl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function yv(){return Sh||(Sh=1,(function(h){function t(te,pe){var me=te.length;te.push(pe);e:for(;0<me;){var W=me-1>>>1,ne=te[W];if(0<a(ne,pe))te[W]=pe,te[me]=ne,me=W;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var pe=te[0],me=te.pop();if(me!==pe){te[0]=me;e:for(var W=0,ne=te.length,Le=ne>>>1;W<Le;){var Ce=2*(W+1)-1,Be=te[Ce],We=Ce+1,Ge=te[We];if(0>a(Be,me))We<ne&&0>a(Ge,Be)?(te[W]=Ge,te[We]=me,W=We):(te[W]=Be,te[Ce]=me,W=Ce);else if(We<ne&&0>a(Ge,me))te[W]=Ge,te[We]=me,W=We;else break e}}return pe}function a(te,pe){var me=te.sortIndex-pe.sortIndex;return me!==0?me:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;h.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();h.unstable_now=function(){return u.now()-c}}var f=[],v=[],x=1,w=null,C=3,S=!1,j=!1,k=!1,g=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(te){for(var pe=n(v);pe!==null;){if(pe.callback===null)i(v);else if(pe.startTime<=te)i(v),pe.sortIndex=pe.expirationTime,t(f,pe);else break;pe=n(v)}}function M(te){if(k=!1,R(te),!j)if(n(f)!==null)j=!0,Te(D);else{var pe=n(v);pe!==null&&ve(M,pe.startTime-te)}}function D(te,pe){j=!1,k&&(k=!1,E(U),U=-1),S=!0;var me=C;try{for(R(pe),w=n(f);w!==null&&(!(w.expirationTime>pe)||te&&!ae());){var W=w.callback;if(typeof W=="function"){w.callback=null,C=w.priorityLevel;var ne=W(w.expirationTime<=pe);pe=h.unstable_now(),typeof ne=="function"?w.callback=ne:w===n(f)&&i(f),R(pe)}else i(f);w=n(f)}if(w!==null)var Le=!0;else{var Ce=n(v);Ce!==null&&ve(M,Ce.startTime-pe),Le=!1}return Le}finally{w=null,C=me,S=!1}}var L=!1,F=null,U=-1,z=5,q=-1;function ae(){return!(h.unstable_now()-q<z)}function $(){if(F!==null){var te=h.unstable_now();q=te;var pe=!0;try{pe=F(!0,te)}finally{pe?oe():(L=!1,F=null)}}else L=!1}var oe;if(typeof _=="function")oe=function(){_($)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,we=xe.port2;xe.port1.onmessage=$,oe=function(){we.postMessage(null)}}else oe=function(){g($,0)};function Te(te){F=te,L||(L=!0,oe())}function ve(te,pe){U=g(function(){te(h.unstable_now())},pe)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(te){te.callback=null},h.unstable_continueExecution=function(){j||S||(j=!0,Te(D))},h.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},h.unstable_getCurrentPriorityLevel=function(){return C},h.unstable_getFirstCallbackNode=function(){return n(f)},h.unstable_next=function(te){switch(C){case 1:case 2:case 3:var pe=3;break;default:pe=C}var me=C;C=pe;try{return te()}finally{C=me}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var me=C;C=te;try{return pe()}finally{C=me}},h.unstable_scheduleCallback=function(te,pe,me){var W=h.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?W+me:W):me=W,te){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=me+ne,te={id:x++,callback:pe,priorityLevel:te,startTime:me,expirationTime:ne,sortIndex:-1},me>W?(te.sortIndex=me,t(v,te),n(f)===null&&te===n(v)&&(k?(E(U),U=-1):k=!0,ve(M,me-W))):(te.sortIndex=ne,t(f,te),j||S||(j=!0,Te(D))),te},h.unstable_shouldYield=ae,h.unstable_wrapCallback=function(te){var pe=C;return function(){var me=C;C=pe;try{return te.apply(this,arguments)}finally{C=me}}}})(Bl)),Bl}var Ch;function wv(){return Ch||(Ch=1,Pl.exports=yv()),Pl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function xv(){if(Dh)return Cr;Dh=1;var h=qu(),t=wv();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,r){u(e,r),u(e+"Capture",r)}function u(e,r){for(a[e]=r,e=0;e<r.length;e++)i.add(r[e])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function C(e){return f.call(w,e)?!0:f.call(x,e)?!1:v.test(e)?w[e]=!0:(x[e]=!0,!1)}function S(e,r,s,l){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,r,s,l){if(r===null||typeof r>"u"||S(e,r,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(e,r,s,l,m,y,T){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=m,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=y,this.removeEmptyString=T}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];g[r]=new k(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(E,_);g[r]=new k(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(E,_);g[r]=new k(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(E,_);g[r]=new k(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,r,s,l){var m=g.hasOwnProperty(r)?g[r]:null;(m!==null?m.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,s,m,l)&&(s=null),l||m===null?C(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):m.mustUseProperty?e[m.propertyName]=s===null?m.type===3?!1:"":s:(r=m.attributeName,l=m.attributeNamespace,s===null?e.removeAttribute(r):(m=m.type,s=m===3||m===4&&s===!0?"":""+s,l?e.setAttributeNS(l,r,s):e.setAttribute(r,s))))}var M=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ae=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,W;function ne(e){if(W===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);W=r&&r[1]||""}return`
`+W+e}var Le=!1;function Ce(e,r){if(!e||Le)return"";Le=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(he){var l=he}Reflect.construct(e,[],r)}else{try{r.call()}catch(he){l=he}e.call(r.prototype)}else{try{throw Error()}catch(he){l=he}e()}}catch(he){if(he&&l&&typeof he.stack=="string"){for(var m=he.stack.split(`
`),y=l.stack.split(`
`),T=m.length-1,H=y.length-1;1<=T&&0<=H&&m[T]!==y[H];)H--;for(;1<=T&&0<=H;T--,H--)if(m[T]!==y[H]){if(T!==1||H!==1)do if(T--,H--,0>H||m[T]!==y[H]){var X=`
`+m[T].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=T&&0<=H);break}}}finally{Le=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ne(e):""}function Be(e){switch(e.tag){case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return e=Ce(e.type,!1),e;case 11:return e=Ce(e.type.render,!1),e;case 1:return e=Ce(e.type,!0),e;default:return""}}function We(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case L:return"Portal";case z:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ae:return(e.displayName||"Context")+".Consumer";case q:return(e._context.displayName||"Context")+".Provider";case $:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return r=e.displayName||null,r!==null?r:We(e.type)||"Memo";case Te:r=e._payload,e=e._init;try{return We(e(r))}catch{}}return null}function Ge(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(r);case 8:return r===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ze(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qe(e){var r=ze(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,y=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ve(e){e._valueTracker||(e._valueTracker=qe(e))}function ft(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=ze(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function et(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ot(e,r){var s=r.checked;return me({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function yt(e,r){var s=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;s=ce(r.value!=null?r.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function pt(e,r){r=r.checked,r!=null&&R(e,"checked",r,!1)}function ht(e,r){pt(e,r);var s=ce(r.value),l=r.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?st(e,r.type,s):r.hasOwnProperty("defaultValue")&&st(e,r.type,ce(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function bt(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function st(e,r,s){(r!=="number"||et(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var lt=Array.isArray;function Qe(e,r,s,l){if(e=e.options,r){r={};for(var m=0;m<s.length;m++)r["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=r.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ce(s),r=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,l&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function nt(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return me({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Je(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(n(92));if(lt(s)){if(1<s.length)throw Error(n(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:ce(s)}}function kt(e,r){var s=ce(r.value),l=ce(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function rr(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Xt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Xt(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var At,Kt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,l,m){MSApp.execUnsafeLocalFunction(function(){return e(r,s,l,m)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=At.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function It(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(e){Qt.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Wt[r]=Wt[e]})});function Ie(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Wt.hasOwnProperty(e)&&Wt[e]?(""+r).trim():r+"px"}function Pe(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var l=s.indexOf("--")===0,m=Ie(s,r[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,m):e[s]=m}}var Xe=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N(e,r){if(r){if(Xe[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ue(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function _e(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y=null,fe=null,p=null;function b(e){if(e=ns(e)){if(typeof Y!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Ys(r),Y(e.stateNode,e.type,r))}}function P(e){fe?p?p.push(e):p=[e]:fe=e}function d(){if(fe){var e=fe,r=p;if(p=fe=null,b(e),r)for(e=0;e<r.length;e++)b(r[e])}}function V(e,r){return e(r)}function Q(){}var A=!1;function G(e,r,s){if(A)return e(r,s);A=!0;try{return V(e,r,s)}finally{A=!1,(fe!==null||p!==null)&&(Q(),d())}}function ie(e,r){var s=e.stateNode;if(s===null)return null;var l=Ys(s);if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,r,typeof s));return s}var je=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{je=!1}function Fe(e,r,s,l,m,y,T,H,X){var he=Array.prototype.slice.call(arguments,3);try{r.apply(s,he)}catch(be){this.onError(be)}}var it=!1,Ft=null,mt=!1,ut=null,Dt={onError:function(e){it=!0,Ft=e}};function gt(e,r,s,l,m,y,T,H,X){it=!1,Ft=null,Fe.apply(Dt,arguments)}function Gt(e,r,s,l,m,y,T,H,X){if(gt.apply(this,arguments),it){if(it){var he=Ft;it=!1,Ft=null}else throw Error(n(198));mt||(mt=!0,ut=he)}}function Yt(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function Rr(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Lt(e){if(Yt(e)!==e)throw Error(n(188))}function ur(e){var r=e.alternate;if(!r){if(r=Yt(e),r===null)throw Error(n(188));return r!==e?null:e}for(var s=e,l=r;;){var m=s.return;if(m===null)break;var y=m.alternate;if(y===null){if(l=m.return,l!==null){s=l;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===s)return Lt(m),e;if(y===l)return Lt(m),r;y=y.sibling}throw Error(n(188))}if(s.return!==l.return)s=m,l=y;else{for(var T=!1,H=m.child;H;){if(H===s){T=!0,s=m,l=y;break}if(H===l){T=!0,l=m,s=y;break}H=H.sibling}if(!T){for(H=y.child;H;){if(H===s){T=!0,s=y,l=m;break}if(H===l){T=!0,l=y,s=m;break}H=H.sibling}if(!T)throw Error(n(189))}}if(s.alternate!==l)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:r}function qt(e){return e=ur(e),e!==null?yr(e):null}function yr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=yr(e);if(r!==null)return r;e=e.sibling}return null}var pr=t.unstable_scheduleCallback,Wn=t.unstable_cancelCallback,to=t.unstable_shouldYield,ks=t.unstable_requestPaint,Tt=t.unstable_now,As=t.unstable_getCurrentPriorityLevel,Kr=t.unstable_ImmediatePriority,Ts=t.unstable_UserBlockingPriority,an=t.unstable_NormalPriority,Mi=t.unstable_LowPriority,Ns=t.unstable_IdlePriority,ii=null,wr=null;function ro(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:B,I=Math.log,Z=Math.LN2;function B(e){return e>>>=0,e===0?32:31-(I(e)/Z|0)|0}var ee=64,re=4194304;function K(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ge(e,r){var s=e.pendingLanes;if(s===0)return 0;var l=0,m=e.suspendedLanes,y=e.pingedLanes,T=s&268435455;if(T!==0){var H=T&~m;H!==0?l=K(H):(y&=T,y!==0&&(l=K(y)))}else T=s&~m,T!==0?l=K(T):y!==0&&(l=K(y));if(l===0)return 0;if(r!==0&&r!==l&&(r&m)===0&&(m=l&-l,y=r&-r,m>=y||m===16&&(y&4194240)!==0))return r;if((l&4)!==0&&(l|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)s=31-Dr(r),m=1<<s,l|=e[s],r&=~m;return l}function Se(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,m=e.expirationTimes,y=e.pendingLanes;0<y;){var T=31-Dr(y),H=1<<T,X=m[T];X===-1?((H&s)===0||(H&l)!==0)&&(m[T]=Se(H,r)):X<=r&&(e.expiredLanes|=H),y&=~H}}function ke(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oe(){var e=ee;return ee<<=1,(ee&4194240)===0&&(ee=64),e}function Ye(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function dt(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Dr(r),e[r]=s}function St(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var m=31-Dr(s),y=1<<m;r[m]=0,l[m]=-1,e[m]=-1,s&=~y}}function _t(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-Dr(s),m=1<<l;m&r|e[l]&r&&(e[l]|=r),s&=~m}}var at=0;function zt(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var mr,on,si,Rs,ai,Is=!1,oi=[],Qr=null,Mr=null,xn=null,Ui=new Map,Wi=new Map,_n=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,r){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ui.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(r.pointerId)}}function qi(e,r,s,l,m,y){return e===null||e.nativeEvent!==y?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ns(r),r!==null&&on(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function Bp(e,r,s,l,m){switch(r){case"focusin":return Qr=qi(Qr,e,r,s,l,m),!0;case"dragenter":return Mr=qi(Mr,e,r,s,l,m),!0;case"mouseover":return xn=qi(xn,e,r,s,l,m),!0;case"pointerover":var y=m.pointerId;return Ui.set(y,qi(Ui.get(y)||null,e,r,s,l,m)),!0;case"gotpointercapture":return y=m.pointerId,Wi.set(y,qi(Wi.get(y)||null,e,r,s,l,m)),!0}return!1}function nc(e){var r=qn(e.target);if(r!==null){var s=Yt(r);if(s!==null){if(r=s.tag,r===13){if(r=Rr(s),r!==null){e.blockedOn=r,ai(e.priority,function(){si(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=io(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);ye=l,s.target.dispatchEvent(l),ye=null}else return r=ns(s),r!==null&&on(r),e.blockedOn=s,!1;r.shift()}return!0}function ic(e,r,s){Os(e)&&s.delete(r)}function Fp(){Is=!1,Qr!==null&&Os(Qr)&&(Qr=null),Mr!==null&&Os(Mr)&&(Mr=null),xn!==null&&Os(xn)&&(xn=null),Ui.forEach(ic),Wi.forEach(ic)}function Vi(e,r){e.blockedOn===r&&(e.blockedOn=null,Is||(Is=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fp)))}function Hi(e){function r(m){return Vi(m,e)}if(0<oi.length){Vi(oi[0],e);for(var s=1;s<oi.length;s++){var l=oi[s];l.blockedOn===e&&(l.blockedOn=null)}}for(Qr!==null&&Vi(Qr,e),Mr!==null&&Vi(Mr,e),xn!==null&&Vi(xn,e),Ui.forEach(r),Wi.forEach(r),s=0;s<_n.length;s++)l=_n[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<_n.length&&(s=_n[0],s.blockedOn===null);)nc(s),s.blockedOn===null&&_n.shift()}var li=M.ReactCurrentBatchConfig,Ls=!0;function zp(e,r,s,l){var m=at,y=li.transition;li.transition=null;try{at=1,no(e,r,s,l)}finally{at=m,li.transition=y}}function jp(e,r,s,l){var m=at,y=li.transition;li.transition=null;try{at=4,no(e,r,s,l)}finally{at=m,li.transition=y}}function no(e,r,s,l){if(Ls){var m=io(e,r,s,l);if(m===null)Eo(e,r,l,Ps,s),rc(e,l);else if(Bp(m,e,r,s,l))l.stopPropagation();else if(rc(e,l),r&4&&-1<Pp.indexOf(e)){for(;m!==null;){var y=ns(m);if(y!==null&&mr(y),y=io(e,r,s,l),y===null&&Eo(e,r,l,Ps,s),y===m)break;m=y}m!==null&&l.stopPropagation()}else Eo(e,r,l,null,s)}}var Ps=null;function io(e,r,s,l){if(Ps=null,e=_e(l),e=qn(e),e!==null)if(r=Yt(e),r===null)e=null;else if(s=r.tag,s===13){if(e=Rr(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Ps=e,null}function sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(As()){case Kr:return 1;case Ts:return 4;case an:case Mi:return 16;case Ns:return 536870912;default:return 16}default:return 16}}var En=null,so=null,Bs=null;function ac(){if(Bs)return Bs;var e,r=so,s=r.length,l,m="value"in En?En.value:En.textContent,y=m.length;for(e=0;e<s&&r[e]===m[e];e++);var T=s-e;for(l=1;l<=T&&r[s-l]===m[y-l];l++);return Bs=m.slice(e,1<l?1-l:void 0)}function Fs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function oc(){return!1}function kr(e){function r(s,l,m,y,T){this._reactName=s,this._targetInst=m,this.type=l,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(s=e[H],this[H]=s?s(y):y[H]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zs:oc,this.isPropagationStopped=oc,this}return me(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),r}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=kr(ui),Gi=me({},ui,{view:0,detail:0}),Mp=kr(Gi),oo,lo,Yi,js=me({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(oo=e.screenX-Yi.screenX,lo=e.screenY-Yi.screenY):lo=oo=0,Yi=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),lc=kr(js),Up=me({},js,{dataTransfer:0}),Wp=kr(Up),qp=me({},Gi,{relatedTarget:0}),uo=kr(qp),Vp=me({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=kr(Vp),Gp=me({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yp=kr(Gp),Zp=me({},ui,{data:0}),uc=kr(Zp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Kp[e])?!!r[e]:!1}function co(){return Qp}var Jp=me({},Gi,{key:function(e){if(e.key){var r=Xp[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$p[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=kr(Jp),tm=me({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=kr(tm),rm=me({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),nm=kr(rm),im=me({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=kr(im),am=me({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),om=kr(am),lm=[9,13,27,32],fo=c&&"CompositionEvent"in window,Zi=null;c&&"documentMode"in document&&(Zi=document.documentMode);var um=c&&"TextEvent"in window&&!Zi,fc=c&&(!fo||Zi&&8<Zi&&11>=Zi),hc=" ",dc=!1;function pc(e,r){switch(e){case"keyup":return lm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ci=!1;function cm(e,r){switch(e){case"compositionend":return mc(r);case"keypress":return r.which!==32?null:(dc=!0,hc);case"textInput":return e=r.data,e===hc&&dc?null:e;default:return null}}function fm(e,r){if(ci)return e==="compositionend"||!fo&&pc(e,r)?(e=ac(),Bs=so=En=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return fc&&r.locale!=="ko"?null:r.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!hm[e.type]:r==="textarea"}function gc(e,r,s,l){P(l),r=Vs(r,"onChange"),0<r.length&&(s=new ao("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var Xi=null,$i=null;function dm(e){Pc(e,0)}function Ms(e){var r=mi(e);if(ft(r))return e}function pm(e,r){if(e==="change")return r}var yc=!1;if(c){var ho;if(c){var po="oninput"in document;if(!po){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),po=typeof wc.oninput=="function"}ho=po}else ho=!1;yc=ho&&(!document.documentMode||9<document.documentMode)}function xc(){Xi&&(Xi.detachEvent("onpropertychange",_c),$i=Xi=null)}function _c(e){if(e.propertyName==="value"&&Ms($i)){var r=[];gc(r,$i,e,_e(e)),G(dm,r)}}function mm(e,r,s){e==="focusin"?(xc(),Xi=r,$i=s,Xi.attachEvent("onpropertychange",_c)):e==="focusout"&&xc()}function vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms($i)}function gm(e,r){if(e==="click")return Ms(r)}function ym(e,r){if(e==="input"||e==="change")return Ms(r)}function wm(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ur=typeof Object.is=="function"?Object.is:wm;function Ki(e,r){if(Ur(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var m=s[l];if(!f.call(r,m)||!Ur(e[m],r[m]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,r){var s=Ec(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ec(s)}}function Sc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Sc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Cc(){for(var e=window,r=et();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=et(e.document)}return r}function mo(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function xm(e){var r=Cc(),s=e.focusedElem,l=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Sc(s.ownerDocument.documentElement,s)){if(l!==null&&mo(s)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var m=s.textContent.length,y=Math.min(l.start,m);l=l.end===void 0?y:Math.min(l.end,m),!e.extend&&y>l&&(m=l,l=y,y=m),m=bc(s,y);var T=bc(s,l);m&&T&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==T.node||e.focusOffset!==T.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),e.removeAllRanges(),y>l?(e.addRange(r),e.extend(T.node,T.offset)):(r.setEnd(T.node,T.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _m=c&&"documentMode"in document&&11>=document.documentMode,fi=null,vo=null,Qi=null,go=!1;function Dc(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;go||fi==null||fi!==et(l)||(l=fi,"selectionStart"in l&&mo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qi&&Ki(Qi,l)||(Qi=l,l=Vs(vo,"onSelect"),0<l.length&&(r=new ao("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=fi)))}function Us(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var hi={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},yo={},kc={};c&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Ws(e){if(yo[e])return yo[e];if(!hi[e])return e;var r=hi[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in kc)return yo[e]=r[s];return e}var Ac=Ws("animationend"),Tc=Ws("animationiteration"),Nc=Ws("animationstart"),Rc=Ws("transitionend"),Ic=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,r){Ic.set(e,r),o(r,[e])}for(var wo=0;wo<Oc.length;wo++){var xo=Oc[wo],Em=xo.toLowerCase(),bm=xo[0].toUpperCase()+xo.slice(1);bn(Em,"on"+bm)}bn(Ac,"onAnimationEnd"),bn(Tc,"onAnimationIteration"),bn(Nc,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Rc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Lc(e,r,s){var l=e.type||"unknown-event";e.currentTarget=s,Gt(l,r,void 0,e),e.currentTarget=null}function Pc(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],m=l.event;l=l.listeners;e:{var y=void 0;if(r)for(var T=l.length-1;0<=T;T--){var H=l[T],X=H.instance,he=H.currentTarget;if(H=H.listener,X!==y&&m.isPropagationStopped())break e;Lc(m,H,he),y=X}else for(T=0;T<l.length;T++){if(H=l[T],X=H.instance,he=H.currentTarget,H=H.listener,X!==y&&m.isPropagationStopped())break e;Lc(m,H,he),y=X}}}if(mt)throw e=ut,mt=!1,ut=null,e}function Pt(e,r){var s=r[Ao];s===void 0&&(s=r[Ao]=new Set);var l=e+"__bubble";s.has(l)||(Bc(r,e,2,!1),s.add(l))}function _o(e,r,s){var l=0;r&&(l|=4),Bc(s,e,l,r)}var qs="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[qs]){e[qs]=!0,i.forEach(function(s){s!=="selectionchange"&&(Sm.has(s)||_o(s,!1,e),_o(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[qs]||(r[qs]=!0,_o("selectionchange",!1,r))}}function Bc(e,r,s,l){switch(sc(r)){case 1:var m=zp;break;case 4:m=jp;break;default:m=no}s=m.bind(null,r,s,e),m=void 0,!je||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),l?m!==void 0?e.addEventListener(r,s,{capture:!0,passive:m}):e.addEventListener(r,s,!0):m!==void 0?e.addEventListener(r,s,{passive:m}):e.addEventListener(r,s,!1)}function Eo(e,r,s,l,m){var y=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var H=l.stateNode.containerInfo;if(H===m||H.nodeType===8&&H.parentNode===m)break;if(T===4)for(T=l.return;T!==null;){var X=T.tag;if((X===3||X===4)&&(X=T.stateNode.containerInfo,X===m||X.nodeType===8&&X.parentNode===m))return;T=T.return}for(;H!==null;){if(T=qn(H),T===null)return;if(X=T.tag,X===5||X===6){l=y=T;continue e}H=H.parentNode}}l=l.return}G(function(){var he=y,be=_e(s),De=[];e:{var Ee=Ic.get(e);if(Ee!==void 0){var Ue=ao,Ze=e;switch(e){case"keypress":if(Fs(s)===0)break e;case"keydown":case"keyup":Ue=em;break;case"focusin":Ze="focus",Ue=uo;break;case"focusout":Ze="blur",Ue=uo;break;case"beforeblur":case"afterblur":Ue=uo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=nm;break;case Ac:case Tc:case Nc:Ue=Hp;break;case Rc:Ue=sm;break;case"scroll":Ue=Mp;break;case"wheel":Ue=om;break;case"copy":case"cut":case"paste":Ue=Yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=cc}var $e=(r&4)!==0,Zt=!$e&&e==="scroll",se=$e?Ee!==null?Ee+"Capture":null:Ee;$e=[];for(var J=he,le;J!==null;){le=J;var Re=le.stateNode;if(le.tag===5&&Re!==null&&(le=Re,se!==null&&(Re=ie(J,se),Re!=null&&$e.push(ts(J,Re,le)))),Zt)break;J=J.return}0<$e.length&&(Ee=new Ue(Ee,Ze,null,s,be),De.push({event:Ee,listeners:$e}))}}if((r&7)===0){e:{if(Ee=e==="mouseover"||e==="pointerover",Ue=e==="mouseout"||e==="pointerout",Ee&&s!==ye&&(Ze=s.relatedTarget||s.fromElement)&&(qn(Ze)||Ze[ln]))break e;if((Ue||Ee)&&(Ee=be.window===be?be:(Ee=be.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ue?(Ze=s.relatedTarget||s.toElement,Ue=he,Ze=Ze?qn(Ze):null,Ze!==null&&(Zt=Yt(Ze),Ze!==Zt||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):(Ue=null,Ze=he),Ue!==Ze)){if($e=lc,Re="onMouseLeave",se="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&($e=cc,Re="onPointerLeave",se="onPointerEnter",J="pointer"),Zt=Ue==null?Ee:mi(Ue),le=Ze==null?Ee:mi(Ze),Ee=new $e(Re,J+"leave",Ue,s,be),Ee.target=Zt,Ee.relatedTarget=le,Re=null,qn(be)===he&&($e=new $e(se,J+"enter",Ze,s,be),$e.target=le,$e.relatedTarget=Zt,Re=$e),Zt=Re,Ue&&Ze)t:{for($e=Ue,se=Ze,J=0,le=$e;le;le=di(le))J++;for(le=0,Re=se;Re;Re=di(Re))le++;for(;0<J-le;)$e=di($e),J--;for(;0<le-J;)se=di(se),le--;for(;J--;){if($e===se||se!==null&&$e===se.alternate)break t;$e=di($e),se=di(se)}$e=null}else $e=null;Ue!==null&&Fc(De,Ee,Ue,$e,!1),Ze!==null&&Zt!==null&&Fc(De,Zt,Ze,$e,!0)}}e:{if(Ee=he?mi(he):window,Ue=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Ee.type==="file")var Ke=pm;else if(vc(Ee))if(yc)Ke=ym;else{Ke=vm;var tt=mm}else(Ue=Ee.nodeName)&&Ue.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Ke=gm);if(Ke&&(Ke=Ke(e,he))){gc(De,Ke,s,be);break e}tt&&tt(e,Ee,he),e==="focusout"&&(tt=Ee._wrapperState)&&tt.controlled&&Ee.type==="number"&&st(Ee,"number",Ee.value)}switch(tt=he?mi(he):window,e){case"focusin":(vc(tt)||tt.contentEditable==="true")&&(fi=tt,vo=he,Qi=null);break;case"focusout":Qi=vo=fi=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Dc(De,s,be);break;case"selectionchange":if(_m)break;case"keydown":case"keyup":Dc(De,s,be)}var rt;if(fo)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ci?pc(e,s)&&(ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ct="onCompositionStart");ct&&(fc&&s.locale!=="ko"&&(ci||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ci&&(rt=ac()):(En=be,so="value"in En?En.value:En.textContent,ci=!0)),tt=Vs(he,ct),0<tt.length&&(ct=new uc(ct,e,null,s,be),De.push({event:ct,listeners:tt}),rt?ct.data=rt:(rt=mc(s),rt!==null&&(ct.data=rt)))),(rt=um?cm(e,s):fm(e,s))&&(he=Vs(he,"onBeforeInput"),0<he.length&&(be=new uc("onBeforeInput","beforeinput",null,s,be),De.push({event:be,listeners:he}),be.data=rt))}Pc(De,r)})}function ts(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Vs(e,r){for(var s=r+"Capture",l=[];e!==null;){var m=e,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ie(e,s),y!=null&&l.unshift(ts(e,y,m)),y=ie(e,r),y!=null&&l.push(ts(e,y,m))),e=e.return}return l}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fc(e,r,s,l,m){for(var y=r._reactName,T=[];s!==null&&s!==l;){var H=s,X=H.alternate,he=H.stateNode;if(X!==null&&X===l)break;H.tag===5&&he!==null&&(H=he,m?(X=ie(s,y),X!=null&&T.unshift(ts(s,X,H))):m||(X=ie(s,y),X!=null&&T.push(ts(s,X,H)))),s=s.return}T.length!==0&&e.push({event:r,listeners:T})}var Cm=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function zc(e){return(typeof e=="string"?e:""+e).replace(Cm,`
`).replace(Dm,"")}function Hs(e,r,s){if(r=zc(r),zc(e)!==r&&s)throw Error(n(425))}function Gs(){}var bo=null,So=null;function Co(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,km=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,Am=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(Tm)}:Do;function Tm(e){setTimeout(function(){throw e})}function ko(e,r){var s=r,l=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(l===0){e.removeChild(m),Hi(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=m}while(s);Hi(r)}function Sn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Mc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),Jr="__reactFiber$"+pi,rs="__reactProps$"+pi,ln="__reactContainer$"+pi,Ao="__reactEvents$"+pi,Nm="__reactListeners$"+pi,Rm="__reactHandles$"+pi;function qn(e){var r=e[Jr];if(r)return r;for(var s=e.parentNode;s;){if(r=s[ln]||s[Jr]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Mc(e);e!==null;){if(s=e[Jr])return s;e=Mc(e)}return r}e=s,s=e.parentNode}return null}function ns(e){return e=e[Jr]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ys(e){return e[rs]||null}var To=[],vi=-1;function Cn(e){return{current:e}}function Bt(e){0>vi||(e.current=To[vi],To[vi]=null,vi--)}function Ot(e,r){vi++,To[vi]=e.current,e.current=r}var Dn={},cr=Cn(Dn),xr=Cn(!1),Vn=Dn;function gi(e,r){var s=e.type.contextTypes;if(!s)return Dn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in s)m[y]=r[y];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=m),m}function _r(e){return e=e.childContextTypes,e!=null}function Zs(){Bt(xr),Bt(cr)}function Uc(e,r,s){if(cr.current!==Dn)throw Error(n(168));Ot(cr,r),Ot(xr,s)}function Wc(e,r,s){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var m in l)if(!(m in r))throw Error(n(108,Ge(e)||"Unknown",m));return me({},s,l)}function Xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Vn=cr.current,Ot(cr,e),Ot(xr,xr.current),!0}function qc(e,r,s){var l=e.stateNode;if(!l)throw Error(n(169));s?(e=Wc(e,r,Vn),l.__reactInternalMemoizedMergedChildContext=e,Bt(xr),Bt(cr),Ot(cr,e)):Bt(xr),Ot(xr,s)}var un=null,$s=!1,No=!1;function Vc(e){un===null?un=[e]:un.push(e)}function Im(e){$s=!0,Vc(e)}function kn(){if(!No&&un!==null){No=!0;var e=0,r=at;try{var s=un;for(at=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}un=null,$s=!1}catch(m){throw un!==null&&(un=un.slice(e+1)),pr(Kr,kn),m}finally{at=r,No=!1}}return null}var yi=[],wi=0,Ks=null,Qs=0,Ir=[],Or=0,Hn=null,cn=1,fn="";function Gn(e,r){yi[wi++]=Qs,yi[wi++]=Ks,Ks=e,Qs=r}function Hc(e,r,s){Ir[Or++]=cn,Ir[Or++]=fn,Ir[Or++]=Hn,Hn=e;var l=cn;e=fn;var m=32-Dr(l)-1;l&=~(1<<m),s+=1;var y=32-Dr(r)+m;if(30<y){var T=m-m%5;y=(l&(1<<T)-1).toString(32),l>>=T,m-=T,cn=1<<32-Dr(r)+m|s<<m|l,fn=y+e}else cn=1<<y|s<<m|l,fn=e}function Ro(e){e.return!==null&&(Gn(e,1),Hc(e,1,0))}function Io(e){for(;e===Ks;)Ks=yi[--wi],yi[wi]=null,Qs=yi[--wi],yi[wi]=null;for(;e===Hn;)Hn=Ir[--Or],Ir[Or]=null,fn=Ir[--Or],Ir[Or]=null,cn=Ir[--Or],Ir[Or]=null}var Ar=null,Tr=null,jt=!1,Wr=null;function Gc(e,r){var s=Fr(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function Yc(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Ar=e,Tr=Sn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Ar=e,Tr=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Hn!==null?{id:cn,overflow:fn}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Fr(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,Ar=e,Tr=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(jt){var r=Tr;if(r){var s=r;if(!Yc(e,r)){if(Oo(e))throw Error(n(418));r=Sn(s.nextSibling);var l=Ar;r&&Yc(e,r)?Gc(l,s):(e.flags=e.flags&-4097|2,jt=!1,Ar=e)}}else{if(Oo(e))throw Error(n(418));e.flags=e.flags&-4097|2,jt=!1,Ar=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function Js(e){if(e!==Ar)return!1;if(!jt)return Zc(e),jt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Co(e.type,e.memoizedProps)),r&&(r=Tr)){if(Oo(e))throw Xc(),Error(n(418));for(;r;)Gc(e,r),r=Sn(r.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){Tr=Sn(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}Tr=null}}else Tr=Ar?Sn(e.stateNode.nextSibling):null;return!0}function Xc(){for(var e=Tr;e;)e=Sn(e.nextSibling)}function xi(){Tr=Ar=null,jt=!1}function Po(e){Wr===null?Wr=[e]:Wr.push(e)}var Om=M.ReactCurrentBatchConfig;function is(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var l=s.stateNode}if(!l)throw Error(n(147,e));var m=l,y=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(T){var H=m.refs;T===null?delete H[y]:H[y]=T},r._stringRef=y,r)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function ea(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function $c(e){var r=e._init;return r(e._payload)}function Kc(e){function r(se,J){if(e){var le=se.deletions;le===null?(se.deletions=[J],se.flags|=16):le.push(J)}}function s(se,J){if(!e)return null;for(;J!==null;)r(se,J),J=J.sibling;return null}function l(se,J){for(se=new Map;J!==null;)J.key!==null?se.set(J.key,J):se.set(J.index,J),J=J.sibling;return se}function m(se,J){return se=Pn(se,J),se.index=0,se.sibling=null,se}function y(se,J,le){return se.index=le,e?(le=se.alternate,le!==null?(le=le.index,le<J?(se.flags|=2,J):le):(se.flags|=2,J)):(se.flags|=1048576,J)}function T(se){return e&&se.alternate===null&&(se.flags|=2),se}function H(se,J,le,Re){return J===null||J.tag!==6?(J=Dl(le,se.mode,Re),J.return=se,J):(J=m(J,le),J.return=se,J)}function X(se,J,le,Re){var Ke=le.type;return Ke===F?be(se,J,le.props.children,Re,le.key):J!==null&&(J.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Te&&$c(Ke)===J.type)?(Re=m(J,le.props),Re.ref=is(se,J,le),Re.return=se,Re):(Re=Sa(le.type,le.key,le.props,null,se.mode,Re),Re.ref=is(se,J,le),Re.return=se,Re)}function he(se,J,le,Re){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=kl(le,se.mode,Re),J.return=se,J):(J=m(J,le.children||[]),J.return=se,J)}function be(se,J,le,Re,Ke){return J===null||J.tag!==7?(J=ei(le,se.mode,Re,Ke),J.return=se,J):(J=m(J,le),J.return=se,J)}function De(se,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Dl(""+J,se.mode,le),J.return=se,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return le=Sa(J.type,J.key,J.props,null,se.mode,le),le.ref=is(se,null,J),le.return=se,le;case L:return J=kl(J,se.mode,le),J.return=se,J;case Te:var Re=J._init;return De(se,Re(J._payload),le)}if(lt(J)||pe(J))return J=ei(J,se.mode,le,null),J.return=se,J;ea(se,J)}return null}function Ee(se,J,le,Re){var Ke=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ke!==null?null:H(se,J,""+le,Re);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case D:return le.key===Ke?X(se,J,le,Re):null;case L:return le.key===Ke?he(se,J,le,Re):null;case Te:return Ke=le._init,Ee(se,J,Ke(le._payload),Re)}if(lt(le)||pe(le))return Ke!==null?null:be(se,J,le,Re,null);ea(se,le)}return null}function Ue(se,J,le,Re,Ke){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return se=se.get(le)||null,H(J,se,""+Re,Ke);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case D:return se=se.get(Re.key===null?le:Re.key)||null,X(J,se,Re,Ke);case L:return se=se.get(Re.key===null?le:Re.key)||null,he(J,se,Re,Ke);case Te:var tt=Re._init;return Ue(se,J,le,tt(Re._payload),Ke)}if(lt(Re)||pe(Re))return se=se.get(le)||null,be(J,se,Re,Ke,null);ea(J,Re)}return null}function Ze(se,J,le,Re){for(var Ke=null,tt=null,rt=J,ct=J=0,sr=null;rt!==null&&ct<le.length;ct++){rt.index>ct?(sr=rt,rt=null):sr=rt.sibling;var Ct=Ee(se,rt,le[ct],Re);if(Ct===null){rt===null&&(rt=sr);break}e&&rt&&Ct.alternate===null&&r(se,rt),J=y(Ct,J,ct),tt===null?Ke=Ct:tt.sibling=Ct,tt=Ct,rt=sr}if(ct===le.length)return s(se,rt),jt&&Gn(se,ct),Ke;if(rt===null){for(;ct<le.length;ct++)rt=De(se,le[ct],Re),rt!==null&&(J=y(rt,J,ct),tt===null?Ke=rt:tt.sibling=rt,tt=rt);return jt&&Gn(se,ct),Ke}for(rt=l(se,rt);ct<le.length;ct++)sr=Ue(rt,se,ct,le[ct],Re),sr!==null&&(e&&sr.alternate!==null&&rt.delete(sr.key===null?ct:sr.key),J=y(sr,J,ct),tt===null?Ke=sr:tt.sibling=sr,tt=sr);return e&&rt.forEach(function(Bn){return r(se,Bn)}),jt&&Gn(se,ct),Ke}function $e(se,J,le,Re){var Ke=pe(le);if(typeof Ke!="function")throw Error(n(150));if(le=Ke.call(le),le==null)throw Error(n(151));for(var tt=Ke=null,rt=J,ct=J=0,sr=null,Ct=le.next();rt!==null&&!Ct.done;ct++,Ct=le.next()){rt.index>ct?(sr=rt,rt=null):sr=rt.sibling;var Bn=Ee(se,rt,Ct.value,Re);if(Bn===null){rt===null&&(rt=sr);break}e&&rt&&Bn.alternate===null&&r(se,rt),J=y(Bn,J,ct),tt===null?Ke=Bn:tt.sibling=Bn,tt=Bn,rt=sr}if(Ct.done)return s(se,rt),jt&&Gn(se,ct),Ke;if(rt===null){for(;!Ct.done;ct++,Ct=le.next())Ct=De(se,Ct.value,Re),Ct!==null&&(J=y(Ct,J,ct),tt===null?Ke=Ct:tt.sibling=Ct,tt=Ct);return jt&&Gn(se,ct),Ke}for(rt=l(se,rt);!Ct.done;ct++,Ct=le.next())Ct=Ue(rt,se,ct,Ct.value,Re),Ct!==null&&(e&&Ct.alternate!==null&&rt.delete(Ct.key===null?ct:Ct.key),J=y(Ct,J,ct),tt===null?Ke=Ct:tt.sibling=Ct,tt=Ct);return e&&rt.forEach(function(hv){return r(se,hv)}),jt&&Gn(se,ct),Ke}function Zt(se,J,le,Re){if(typeof le=="object"&&le!==null&&le.type===F&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case D:e:{for(var Ke=le.key,tt=J;tt!==null;){if(tt.key===Ke){if(Ke=le.type,Ke===F){if(tt.tag===7){s(se,tt.sibling),J=m(tt,le.props.children),J.return=se,se=J;break e}}else if(tt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Te&&$c(Ke)===tt.type){s(se,tt.sibling),J=m(tt,le.props),J.ref=is(se,tt,le),J.return=se,se=J;break e}s(se,tt);break}else r(se,tt);tt=tt.sibling}le.type===F?(J=ei(le.props.children,se.mode,Re,le.key),J.return=se,se=J):(Re=Sa(le.type,le.key,le.props,null,se.mode,Re),Re.ref=is(se,J,le),Re.return=se,se=Re)}return T(se);case L:e:{for(tt=le.key;J!==null;){if(J.key===tt)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){s(se,J.sibling),J=m(J,le.children||[]),J.return=se,se=J;break e}else{s(se,J);break}else r(se,J);J=J.sibling}J=kl(le,se.mode,Re),J.return=se,se=J}return T(se);case Te:return tt=le._init,Zt(se,J,tt(le._payload),Re)}if(lt(le))return Ze(se,J,le,Re);if(pe(le))return $e(se,J,le,Re);ea(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,J!==null&&J.tag===6?(s(se,J.sibling),J=m(J,le),J.return=se,se=J):(s(se,J),J=Dl(le,se.mode,Re),J.return=se,se=J),T(se)):s(se,J)}return Zt}var _i=Kc(!0),Qc=Kc(!1),ta=Cn(null),ra=null,Ei=null,Bo=null;function Fo(){Bo=Ei=ra=null}function zo(e){var r=ta.current;Bt(ta),e._currentValue=r}function jo(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function bi(e,r){ra=e,Bo=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Er=!0),e.firstContext=null)}function Lr(e){var r=e._currentValue;if(Bo!==e)if(e={context:e,memoizedValue:r,next:null},Ei===null){if(ra===null)throw Error(n(308));Ei=e,ra.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return r}var Yn=null;function Mo(e){Yn===null?Yn=[e]:Yn.push(e)}function Jc(e,r,s,l){var m=r.interleaved;return m===null?(s.next=s,Mo(r)):(s.next=m.next,m.next=s),r.interleaved=s,hn(e,l)}function hn(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var An=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Tn(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Et&2)!==0){var m=l.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),l.pending=r,hn(e,s)}return m=l.interleaved,m===null?(r.next=r,Mo(l)):(r.next=m.next,m.next=r),l.interleaved=r,hn(e,s)}function na(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,_t(e,s)}}function tf(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var m=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var T={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};y===null?m=y=T:y=y.next=T,s=s.next}while(s!==null);y===null?m=y=r:y=y.next=r}else m=y=r;s={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function ia(e,r,s,l){var m=e.updateQueue;An=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,H=m.shared.pending;if(H!==null){m.shared.pending=null;var X=H,he=X.next;X.next=null,T===null?y=he:T.next=he,T=X;var be=e.alternate;be!==null&&(be=be.updateQueue,H=be.lastBaseUpdate,H!==T&&(H===null?be.firstBaseUpdate=he:H.next=he,be.lastBaseUpdate=X))}if(y!==null){var De=m.baseState;T=0,be=he=X=null,H=y;do{var Ee=H.lane,Ue=H.eventTime;if((l&Ee)===Ee){be!==null&&(be=be.next={eventTime:Ue,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ze=e,$e=H;switch(Ee=r,Ue=s,$e.tag){case 1:if(Ze=$e.payload,typeof Ze=="function"){De=Ze.call(Ue,De,Ee);break e}De=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=$e.payload,Ee=typeof Ze=="function"?Ze.call(Ue,De,Ee):Ze,Ee==null)break e;De=me({},De,Ee);break e;case 2:An=!0}}H.callback!==null&&H.lane!==0&&(e.flags|=64,Ee=m.effects,Ee===null?m.effects=[H]:Ee.push(H))}else Ue={eventTime:Ue,lane:Ee,tag:H.tag,payload:H.payload,callback:H.callback,next:null},be===null?(he=be=Ue,X=De):be=be.next=Ue,T|=Ee;if(H=H.next,H===null){if(H=m.shared.pending,H===null)break;Ee=H,H=Ee.next,Ee.next=null,m.lastBaseUpdate=Ee,m.shared.pending=null}}while(!0);if(be===null&&(X=De),m.baseState=X,m.firstBaseUpdate=he,m.lastBaseUpdate=be,r=m.shared.interleaved,r!==null){m=r;do T|=m.lane,m=m.next;while(m!==r)}else y===null&&(m.shared.lanes=0);$n|=T,e.lanes=T,e.memoizedState=De}}function rf(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],m=l.callback;if(m!==null){if(l.callback=null,l=s,typeof m!="function")throw Error(n(191,m));m.call(l)}}}var ss={},en=Cn(ss),as=Cn(ss),os=Cn(ss);function Zn(e){if(e===ss)throw Error(n(174));return e}function Wo(e,r){switch(Ot(os,r),Ot(as,e),Ot(en,ss),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Rt(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Rt(r,e)}Bt(en),Ot(en,r)}function Si(){Bt(en),Bt(as),Bt(os)}function nf(e){Zn(os.current);var r=Zn(en.current),s=Rt(r,e.type);r!==s&&(Ot(as,e),Ot(en,s))}function qo(e){as.current===e&&(Bt(en),Bt(as))}var Mt=Cn(0);function sa(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vo=[];function Ho(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var aa=M.ReactCurrentDispatcher,Go=M.ReactCurrentBatchConfig,Xn=0,Ut=null,Jt=null,nr=null,oa=!1,ls=!1,us=0,Lm=0;function fr(){throw Error(n(321))}function Yo(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Ur(e[s],r[s]))return!1;return!0}function Zo(e,r,s,l,m,y){if(Xn=y,Ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,aa.current=e===null||e.memoizedState===null?zm:jm,e=s(l,m),ls){y=0;do{if(ls=!1,us=0,25<=y)throw Error(n(301));y+=1,nr=Jt=null,r.updateQueue=null,aa.current=Mm,e=s(l,m)}while(ls)}if(aa.current=ca,r=Jt!==null&&Jt.next!==null,Xn=0,nr=Jt=Ut=null,oa=!1,r)throw Error(n(300));return e}function Xo(){var e=us!==0;return us=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Ut.memoizedState=nr=e:nr=nr.next=e,nr}function Pr(){if(Jt===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var r=nr===null?Ut.memoizedState:nr.next;if(r!==null)nr=r,Jt=e;else{if(e===null)throw Error(n(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},nr===null?Ut.memoizedState=nr=e:nr=nr.next=e}return nr}function cs(e,r){return typeof r=="function"?r(e):r}function $o(e){var r=Pr(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var l=Jt,m=l.baseQueue,y=s.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}l.baseQueue=m=y,s.pending=null}if(m!==null){y=m.next,l=l.baseState;var H=T=null,X=null,he=y;do{var be=he.lane;if((Xn&be)===be)X!==null&&(X=X.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),l=he.hasEagerState?he.eagerState:e(l,he.action);else{var De={lane:be,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};X===null?(H=X=De,T=l):X=X.next=De,Ut.lanes|=be,$n|=be}he=he.next}while(he!==null&&he!==y);X===null?T=l:X.next=H,Ur(l,r.memoizedState)||(Er=!0),r.memoizedState=l,r.baseState=T,r.baseQueue=X,s.lastRenderedState=l}if(e=s.interleaved,e!==null){m=e;do y=m.lane,Ut.lanes|=y,$n|=y,m=m.next;while(m!==e)}else m===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Ko(e){var r=Pr(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var l=s.dispatch,m=s.pending,y=r.memoizedState;if(m!==null){s.pending=null;var T=m=m.next;do y=e(y,T.action),T=T.next;while(T!==m);Ur(y,r.memoizedState)||(Er=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,l]}function sf(){}function af(e,r){var s=Ut,l=Pr(),m=r(),y=!Ur(l.memoizedState,m);if(y&&(l.memoizedState=m,Er=!0),l=l.queue,Qo(uf.bind(null,s,l,e),[e]),l.getSnapshot!==r||y||nr!==null&&nr.memoizedState.tag&1){if(s.flags|=2048,fs(9,lf.bind(null,s,l,m,r),void 0,null),ir===null)throw Error(n(349));(Xn&30)!==0||of(s,r,m)}return m}function of(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ut.updateQueue,r===null?(r={lastEffect:null,stores:null},Ut.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function lf(e,r,s,l){r.value=s,r.getSnapshot=l,cf(r)&&ff(e)}function uf(e,r,s){return s(function(){cf(r)&&ff(e)})}function cf(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Ur(e,s)}catch{return!0}}function ff(e){var r=hn(e,1);r!==null&&Gr(r,e,1,-1)}function hf(e){var r=tn();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},r.queue=e,e=e.dispatch=Fm.bind(null,Ut,e),[r.memoizedState,e]}function fs(e,r,s,l){return e={tag:e,create:r,destroy:s,deps:l,next:null},r=Ut.updateQueue,r===null?(r={lastEffect:null,stores:null},Ut.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e)),e}function df(){return Pr().memoizedState}function la(e,r,s,l){var m=tn();Ut.flags|=e,m.memoizedState=fs(1|r,s,void 0,l===void 0?null:l)}function ua(e,r,s,l){var m=Pr();l=l===void 0?null:l;var y=void 0;if(Jt!==null){var T=Jt.memoizedState;if(y=T.destroy,l!==null&&Yo(l,T.deps)){m.memoizedState=fs(r,s,y,l);return}}Ut.flags|=e,m.memoizedState=fs(1|r,s,y,l)}function pf(e,r){return la(8390656,8,e,r)}function Qo(e,r){return ua(2048,8,e,r)}function mf(e,r){return ua(4,2,e,r)}function vf(e,r){return ua(4,4,e,r)}function gf(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function yf(e,r,s){return s=s!=null?s.concat([e]):null,ua(4,4,gf.bind(null,r,e),s)}function Jo(){}function wf(e,r){var s=Pr();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Yo(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function xf(e,r){var s=Pr();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Yo(r,l[1])?l[0]:(e=e(),s.memoizedState=[e,r],e)}function _f(e,r,s){return(Xn&21)===0?(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=s):(Ur(s,r)||(s=Oe(),Ut.lanes|=s,$n|=s,e.baseState=!0),r)}function Pm(e,r){var s=at;at=s!==0&&4>s?s:4,e(!0);var l=Go.transition;Go.transition={};try{e(!1),r()}finally{at=s,Go.transition=l}}function Ef(){return Pr().memoizedState}function Bm(e,r,s){var l=On(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},bf(e))Sf(r,s);else if(s=Jc(e,r,s,l),s!==null){var m=gr();Gr(s,e,l,m),Cf(s,r,l)}}function Fm(e,r,s){var l=On(e),m={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(bf(e))Sf(r,m);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,H=y(T,s);if(m.hasEagerState=!0,m.eagerState=H,Ur(H,T)){var X=r.interleaved;X===null?(m.next=m,Mo(r)):(m.next=X.next,X.next=m),r.interleaved=m;return}}catch{}finally{}s=Jc(e,r,m,l),s!==null&&(m=gr(),Gr(s,e,l,m),Cf(s,r,l))}}function bf(e){var r=e.alternate;return e===Ut||r!==null&&r===Ut}function Sf(e,r){ls=oa=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Cf(e,r,s){if((s&4194240)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,_t(e,s)}}var ca={readContext:Lr,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},zm={readContext:Lr,useCallback:function(e,r){return tn().memoizedState=[e,r===void 0?null:r],e},useContext:Lr,useEffect:pf,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,la(4194308,4,gf.bind(null,r,e),s)},useLayoutEffect:function(e,r){return la(4194308,4,e,r)},useInsertionEffect:function(e,r){return la(4,2,e,r)},useMemo:function(e,r){var s=tn();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var l=tn();return r=s!==void 0?s(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Bm.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var r=tn();return e={current:e},r.memoizedState=e},useState:hf,useDebugValue:Jo,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=hf(!1),r=e[0];return e=Pm.bind(null,e[1]),tn().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var l=Ut,m=tn();if(jt){if(s===void 0)throw Error(n(407));s=s()}else{if(s=r(),ir===null)throw Error(n(349));(Xn&30)!==0||of(l,r,s)}m.memoizedState=s;var y={value:s,getSnapshot:r};return m.queue=y,pf(uf.bind(null,l,y,e),[e]),l.flags|=2048,fs(9,lf.bind(null,l,y,s,r),void 0,null),s},useId:function(){var e=tn(),r=ir.identifierPrefix;if(jt){var s=fn,l=cn;s=(l&~(1<<32-Dr(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=us++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Lm++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},jm={readContext:Lr,useCallback:wf,useContext:Lr,useEffect:Qo,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:vf,useMemo:xf,useReducer:$o,useRef:df,useState:function(){return $o(cs)},useDebugValue:Jo,useDeferredValue:function(e){var r=Pr();return _f(r,Jt.memoizedState,e)},useTransition:function(){var e=$o(cs)[0],r=Pr().memoizedState;return[e,r]},useMutableSource:sf,useSyncExternalStore:af,useId:Ef,unstable_isNewReconciler:!1},Mm={readContext:Lr,useCallback:wf,useContext:Lr,useEffect:Qo,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:vf,useMemo:xf,useReducer:Ko,useRef:df,useState:function(){return Ko(cs)},useDebugValue:Jo,useDeferredValue:function(e){var r=Pr();return Jt===null?r.memoizedState=e:_f(r,Jt.memoizedState,e)},useTransition:function(){var e=Ko(cs)[0],r=Pr().memoizedState;return[e,r]},useMutableSource:sf,useSyncExternalStore:af,useId:Ef,unstable_isNewReconciler:!1};function qr(e,r){if(e&&e.defaultProps){r=me({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function el(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:me({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fa={isMounted:function(e){return(e=e._reactInternals)?Yt(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var l=gr(),m=On(e),y=dn(l,m);y.payload=r,s!=null&&(y.callback=s),r=Tn(e,y,m),r!==null&&(Gr(r,e,m,l),na(r,e,m))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=gr(),m=On(e),y=dn(l,m);y.tag=1,y.payload=r,s!=null&&(y.callback=s),r=Tn(e,y,m),r!==null&&(Gr(r,e,m,l),na(r,e,m))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=gr(),l=On(e),m=dn(s,l);m.tag=2,r!=null&&(m.callback=r),r=Tn(e,m,l),r!==null&&(Gr(r,e,l,s),na(r,e,l))}};function Df(e,r,s,l,m,y,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,T):r.prototype&&r.prototype.isPureReactComponent?!Ki(s,l)||!Ki(m,y):!0}function kf(e,r,s){var l=!1,m=Dn,y=r.contextType;return typeof y=="object"&&y!==null?y=Lr(y):(m=_r(r)?Vn:cr.current,l=r.contextTypes,y=(l=l!=null)?gi(e,m):Dn),r=new r(s,y),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=fa,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=y),r}function Af(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&fa.enqueueReplaceState(r,r.state,null)}function tl(e,r,s,l){var m=e.stateNode;m.props=s,m.state=e.memoizedState,m.refs={},Uo(e);var y=r.contextType;typeof y=="object"&&y!==null?m.context=Lr(y):(y=_r(r)?Vn:cr.current,m.context=gi(e,y)),m.state=e.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(el(e,r,y,s),m.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&fa.enqueueReplaceState(m,m.state,null),ia(e,s,m,l),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function Ci(e,r){try{var s="",l=r;do s+=Be(l),l=l.return;while(l);var m=s}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:r,stack:m,digest:null}}function rl(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function nl(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function Tf(e,r,s){s=dn(-1,s),s.tag=3,s.payload={element:null};var l=r.value;return s.callback=function(){ya||(ya=!0,yl=l),nl(e,r)},s}function Nf(e,r,s){s=dn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var m=r.value;s.payload=function(){return l(m)},s.callback=function(){nl(e,r)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(s.callback=function(){nl(e,r),typeof l!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})}),s}function Rf(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Um;var m=new Set;l.set(r,m)}else m=l.get(r),m===void 0&&(m=new Set,l.set(r,m));m.has(s)||(m.add(s),e=tv.bind(null,e,r,s),r.then(e,e))}function If(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Of(e,r,s,l,m){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=dn(-1,1),r.tag=2,Tn(s,r,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Wm=M.ReactCurrentOwner,Er=!1;function vr(e,r,s,l){r.child=e===null?Qc(r,null,s,l):_i(r,e.child,s,l)}function Lf(e,r,s,l,m){s=s.render;var y=r.ref;return bi(r,m),l=Zo(e,r,s,l,y,m),s=Xo(),e!==null&&!Er?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~m,pn(e,r,m)):(jt&&s&&Ro(r),r.flags|=1,vr(e,r,l,m),r.child)}function Pf(e,r,s,l,m){if(e===null){var y=s.type;return typeof y=="function"&&!Cl(y)&&y.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=y,Bf(e,r,y,l,m)):(e=Sa(s.type,null,l,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(y=e.child,(e.lanes&m)===0){var T=y.memoizedProps;if(s=s.compare,s=s!==null?s:Ki,s(T,l)&&e.ref===r.ref)return pn(e,r,m)}return r.flags|=1,e=Pn(y,l),e.ref=r.ref,e.return=r,r.child=e}function Bf(e,r,s,l,m){if(e!==null){var y=e.memoizedProps;if(Ki(y,l)&&e.ref===r.ref)if(Er=!1,r.pendingProps=l=y,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Er=!0);else return r.lanes=e.lanes,pn(e,r,m)}return il(e,r,s,l,m)}function Ff(e,r,s){var l=r.pendingProps,m=l.children,y=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ki,Nr),Nr|=s;else{if((s&1073741824)===0)return e=y!==null?y.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ot(ki,Nr),Nr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=y!==null?y.baseLanes:s,Ot(ki,Nr),Nr|=l}else y!==null?(l=y.baseLanes|s,r.memoizedState=null):l=s,Ot(ki,Nr),Nr|=l;return vr(e,r,m,s),r.child}function zf(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function il(e,r,s,l,m){var y=_r(s)?Vn:cr.current;return y=gi(r,y),bi(r,m),s=Zo(e,r,s,l,y,m),l=Xo(),e!==null&&!Er?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~m,pn(e,r,m)):(jt&&l&&Ro(r),r.flags|=1,vr(e,r,s,m),r.child)}function jf(e,r,s,l,m){if(_r(s)){var y=!0;Xs(r)}else y=!1;if(bi(r,m),r.stateNode===null)da(e,r),kf(r,s,l),tl(r,s,l,m),l=!0;else if(e===null){var T=r.stateNode,H=r.memoizedProps;T.props=H;var X=T.context,he=s.contextType;typeof he=="object"&&he!==null?he=Lr(he):(he=_r(s)?Vn:cr.current,he=gi(r,he));var be=s.getDerivedStateFromProps,De=typeof be=="function"||typeof T.getSnapshotBeforeUpdate=="function";De||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==l||X!==he)&&Af(r,T,l,he),An=!1;var Ee=r.memoizedState;T.state=Ee,ia(r,l,T,m),X=r.memoizedState,H!==l||Ee!==X||xr.current||An?(typeof be=="function"&&(el(r,s,be,l),X=r.memoizedState),(H=An||Df(r,s,H,l,Ee,X,he))?(De||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4194308)):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=X),T.props=l,T.state=X,T.context=he,l=H):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{T=r.stateNode,ef(e,r),H=r.memoizedProps,he=r.type===r.elementType?H:qr(r.type,H),T.props=he,De=r.pendingProps,Ee=T.context,X=s.contextType,typeof X=="object"&&X!==null?X=Lr(X):(X=_r(s)?Vn:cr.current,X=gi(r,X));var Ue=s.getDerivedStateFromProps;(be=typeof Ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==De||Ee!==X)&&Af(r,T,l,X),An=!1,Ee=r.memoizedState,T.state=Ee,ia(r,l,T,m);var Ze=r.memoizedState;H!==De||Ee!==Ze||xr.current||An?(typeof Ue=="function"&&(el(r,s,Ue,l),Ze=r.memoizedState),(he=An||Df(r,s,he,l,Ee,Ze,X)||!1)?(be||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(l,Ze,X),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(l,Ze,X)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof T.componentDidUpdate!="function"||H===e.memoizedProps&&Ee===e.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&Ee===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Ze),T.props=l,T.state=Ze,T.context=X,l=he):(typeof T.componentDidUpdate!="function"||H===e.memoizedProps&&Ee===e.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&Ee===e.memoizedState||(r.flags|=1024),l=!1)}return sl(e,r,s,l,y,m)}function sl(e,r,s,l,m,y){zf(e,r);var T=(r.flags&128)!==0;if(!l&&!T)return m&&qc(r,s,!1),pn(e,r,y);l=r.stateNode,Wm.current=r;var H=T&&typeof s.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&T?(r.child=_i(r,e.child,null,y),r.child=_i(r,null,H,y)):vr(e,r,H,y),r.memoizedState=l.state,m&&qc(r,s,!0),r.child}function Mf(e){var r=e.stateNode;r.pendingContext?Uc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&Uc(e,r.context,!1),Wo(e,r.containerInfo)}function Uf(e,r,s,l,m){return xi(),Po(m),r.flags|=256,vr(e,r,s,l),r.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,r,s){var l=r.pendingProps,m=Mt.current,y=!1,T=(r.flags&128)!==0,H;if((H=T)||(H=e!==null&&e.memoizedState===null?!1:(m&2)!==0),H?(y=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),Ot(Mt,m&1),e===null)return Lo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(T=l.children,e=l.fallback,y?(l=r.mode,y=r.child,T={mode:"hidden",children:T},(l&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Ca(T,l,0,null),e=ei(e,l,s,null),y.return=r,e.return=r,y.sibling=e,r.child=y,r.child.memoizedState=ol(s),r.memoizedState=al,e):ll(r,T));if(m=e.memoizedState,m!==null&&(H=m.dehydrated,H!==null))return qm(e,r,T,l,H,m,s);if(y){y=l.fallback,T=r.mode,m=e.child,H=m.sibling;var X={mode:"hidden",children:l.children};return(T&1)===0&&r.child!==m?(l=r.child,l.childLanes=0,l.pendingProps=X,r.deletions=null):(l=Pn(m,X),l.subtreeFlags=m.subtreeFlags&14680064),H!==null?y=Pn(H,y):(y=ei(y,T,s,null),y.flags|=2),y.return=r,l.return=r,l.sibling=y,r.child=l,l=y,y=r.child,T=e.child.memoizedState,T=T===null?ol(s):{baseLanes:T.baseLanes|s,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=e.childLanes&~s,r.memoizedState=al,l}return y=e.child,e=y.sibling,l=Pn(y,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=s),l.return=r,l.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=l,r.memoizedState=null,l}function ll(e,r){return r=Ca({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ha(e,r,s,l){return l!==null&&Po(l),_i(r,e.child,null,s),e=ll(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function qm(e,r,s,l,m,y,T){if(s)return r.flags&256?(r.flags&=-257,l=rl(Error(n(422))),ha(e,r,T,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(y=l.fallback,m=r.mode,l=Ca({mode:"visible",children:l.children},m,0,null),y=ei(y,m,T,null),y.flags|=2,l.return=r,y.return=r,l.sibling=y,r.child=l,(r.mode&1)!==0&&_i(r,e.child,null,T),r.child.memoizedState=ol(T),r.memoizedState=al,y);if((r.mode&1)===0)return ha(e,r,T,null);if(m.data==="$!"){if(l=m.nextSibling&&m.nextSibling.dataset,l)var H=l.dgst;return l=H,y=Error(n(419)),l=rl(y,l,void 0),ha(e,r,T,l)}if(H=(T&e.childLanes)!==0,Er||H){if(l=ir,l!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(l.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,hn(e,m),Gr(l,e,m,-1))}return Sl(),l=rl(Error(n(421))),ha(e,r,T,l)}return m.data==="$?"?(r.flags|=128,r.child=e.child,r=rv.bind(null,e),m._reactRetry=r,null):(e=y.treeContext,Tr=Sn(m.nextSibling),Ar=r,jt=!0,Wr=null,e!==null&&(Ir[Or++]=cn,Ir[Or++]=fn,Ir[Or++]=Hn,cn=e.id,fn=e.overflow,Hn=r),r=ll(r,l.children),r.flags|=4096,r)}function qf(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),jo(e.return,r,s)}function ul(e,r,s,l,m){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=m)}function Vf(e,r,s){var l=r.pendingProps,m=l.revealOrder,y=l.tail;if(vr(e,r,l.children,s),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,s,r);else if(e.tag===19)qf(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ot(Mt,l),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(s=r.child,m=null;s!==null;)e=s.alternate,e!==null&&sa(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=r.child,r.child=null):(m=s.sibling,s.sibling=null),ul(r,!1,m,s,y);break;case"backwards":for(s=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&sa(e)===null){r.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}ul(r,!0,s,null,y);break;case"together":ul(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function da(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function pn(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),$n|=r.lanes,(s&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,s=Pn(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Vm(e,r,s){switch(r.tag){case 3:Mf(r),xi();break;case 5:nf(r);break;case 1:_r(r.type)&&Xs(r);break;case 4:Wo(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,m=r.memoizedProps.value;Ot(ta,l._currentValue),l._currentValue=m;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ot(Mt,Mt.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?Wf(e,r,s):(Ot(Mt,Mt.current&1),e=pn(e,r,s),e!==null?e.sibling:null);Ot(Mt,Mt.current&1);break;case 19:if(l=(s&r.childLanes)!==0,(e.flags&128)!==0){if(l)return Vf(e,r,s);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ot(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ff(e,r,s)}return pn(e,r,s)}var Hf,cl,Gf,Yf;Hf=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},cl=function(){},Gf=function(e,r,s,l){var m=e.memoizedProps;if(m!==l){e=r.stateNode,Zn(en.current);var y=null;switch(s){case"input":m=ot(e,m),l=ot(e,l),y=[];break;case"select":m=me({},m,{value:void 0}),l=me({},l,{value:void 0}),y=[];break;case"textarea":m=nt(e,m),l=nt(e,l),y=[];break;default:typeof m.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Gs)}N(s,l);var T;s=null;for(he in m)if(!l.hasOwnProperty(he)&&m.hasOwnProperty(he)&&m[he]!=null)if(he==="style"){var H=m[he];for(T in H)H.hasOwnProperty(T)&&(s||(s={}),s[T]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(a.hasOwnProperty(he)?y||(y=[]):(y=y||[]).push(he,null));for(he in l){var X=l[he];if(H=m!=null?m[he]:void 0,l.hasOwnProperty(he)&&X!==H&&(X!=null||H!=null))if(he==="style")if(H){for(T in H)!H.hasOwnProperty(T)||X&&X.hasOwnProperty(T)||(s||(s={}),s[T]="");for(T in X)X.hasOwnProperty(T)&&H[T]!==X[T]&&(s||(s={}),s[T]=X[T])}else s||(y||(y=[]),y.push(he,s)),s=X;else he==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,H=H?H.__html:void 0,X!=null&&H!==X&&(y=y||[]).push(he,X)):he==="children"?typeof X!="string"&&typeof X!="number"||(y=y||[]).push(he,""+X):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(a.hasOwnProperty(he)?(X!=null&&he==="onScroll"&&Pt("scroll",e),y||H===X||(y=[])):(y=y||[]).push(he,X))}s&&(y=y||[]).push("style",s);var he=y;(r.updateQueue=he)&&(r.flags|=4)}},Yf=function(e,r,s,l){s!==l&&(r.flags|=4)};function hs(e,r){if(!jt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function hr(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags&14680064,l|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function Hm(e,r,s){var l=r.pendingProps;switch(Io(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(r),null;case 1:return _r(r.type)&&Zs(),hr(r),null;case 3:return l=r.stateNode,Si(),Bt(xr),Bt(cr),Ho(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Js(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wr!==null&&(_l(Wr),Wr=null))),cl(e,r),hr(r),null;case 5:qo(r);var m=Zn(os.current);if(s=r.type,e!==null&&r.stateNode!=null)Gf(e,r,s,l,m),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(n(166));return hr(r),null}if(e=Zn(en.current),Js(r)){l=r.stateNode,s=r.type;var y=r.memoizedProps;switch(l[Jr]=r,l[rs]=y,e=(r.mode&1)!==0,s){case"dialog":Pt("cancel",l),Pt("close",l);break;case"iframe":case"object":case"embed":Pt("load",l);break;case"video":case"audio":for(m=0;m<Ji.length;m++)Pt(Ji[m],l);break;case"source":Pt("error",l);break;case"img":case"image":case"link":Pt("error",l),Pt("load",l);break;case"details":Pt("toggle",l);break;case"input":yt(l,y),Pt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!y.multiple},Pt("invalid",l);break;case"textarea":Je(l,y),Pt("invalid",l)}N(s,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var H=y[T];T==="children"?typeof H=="string"?l.textContent!==H&&(y.suppressHydrationWarning!==!0&&Hs(l.textContent,H,e),m=["children",H]):typeof H=="number"&&l.textContent!==""+H&&(y.suppressHydrationWarning!==!0&&Hs(l.textContent,H,e),m=["children",""+H]):a.hasOwnProperty(T)&&H!=null&&T==="onScroll"&&Pt("scroll",l)}switch(s){case"input":Ve(l),bt(l,y,!0);break;case"textarea":Ve(l),rr(l);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(l.onclick=Gs)}l=m,r.updateQueue=l,l!==null&&(r.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=T.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=T.createElement(s,{is:l.is}):(e=T.createElement(s),s==="select"&&(T=e,l.multiple?T.multiple=!0:l.size&&(T.size=l.size))):e=T.createElementNS(e,s),e[Jr]=r,e[rs]=l,Hf(e,r,!1,!1),r.stateNode=e;e:{switch(T=ue(s,l),s){case"dialog":Pt("cancel",e),Pt("close",e),m=l;break;case"iframe":case"object":case"embed":Pt("load",e),m=l;break;case"video":case"audio":for(m=0;m<Ji.length;m++)Pt(Ji[m],e);m=l;break;case"source":Pt("error",e),m=l;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),m=l;break;case"details":Pt("toggle",e),m=l;break;case"input":yt(e,l),m=ot(e,l),Pt("invalid",e);break;case"option":m=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},m=me({},l,{value:void 0}),Pt("invalid",e);break;case"textarea":Je(e,l),m=nt(e,l),Pt("invalid",e);break;default:m=l}N(s,m),H=m;for(y in H)if(H.hasOwnProperty(y)){var X=H[y];y==="style"?Pe(e,X):y==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Kt(e,X)):y==="children"?typeof X=="string"?(s!=="textarea"||X!=="")&&It(e,X):typeof X=="number"&&It(e,""+X):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?X!=null&&y==="onScroll"&&Pt("scroll",e):X!=null&&R(e,y,X,T))}switch(s){case"input":Ve(e),bt(e,l,!1);break;case"textarea":Ve(e),rr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,y=l.value,y!=null?Qe(e,!!l.multiple,y,!1):l.defaultValue!=null&&Qe(e,!!l.multiple,l.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Gs)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return hr(r),null;case 6:if(e&&r.stateNode!=null)Yf(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(n(166));if(s=Zn(os.current),Zn(en.current),Js(r)){if(l=r.stateNode,s=r.memoizedProps,l[Jr]=r,(y=l.nodeValue!==s)&&(e=Ar,e!==null))switch(e.tag){case 3:Hs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(l.nodeValue,s,(e.mode&1)!==0)}y&&(r.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Jr]=r,r.stateNode=l}return hr(r),null;case 13:if(Bt(Mt),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Tr!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Xc(),xi(),r.flags|=98560,y=!1;else if(y=Js(r),l!==null&&l.dehydrated!==null){if(e===null){if(!y)throw Error(n(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Jr]=r}else xi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;hr(r),y=!1}else Wr!==null&&(_l(Wr),Wr=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Mt.current&1)!==0?er===0&&(er=3):Sl())),r.updateQueue!==null&&(r.flags|=4),hr(r),null);case 4:return Si(),cl(e,r),e===null&&es(r.stateNode.containerInfo),hr(r),null;case 10:return zo(r.type._context),hr(r),null;case 17:return _r(r.type)&&Zs(),hr(r),null;case 19:if(Bt(Mt),y=r.memoizedState,y===null)return hr(r),null;if(l=(r.flags&128)!==0,T=y.rendering,T===null)if(l)hs(y,!1);else{if(er!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(T=sa(e),T!==null){for(r.flags|=128,hs(y,!1),l=T.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=s,s=r.child;s!==null;)y=s,e=l,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,e=T.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ot(Mt,Mt.current&1|2),r.child}e=e.sibling}y.tail!==null&&Tt()>Ai&&(r.flags|=128,l=!0,hs(y,!1),r.lanes=4194304)}else{if(!l)if(e=sa(T),e!==null){if(r.flags|=128,l=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),hs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!jt)return hr(r),null}else 2*Tt()-y.renderingStartTime>Ai&&s!==1073741824&&(r.flags|=128,l=!0,hs(y,!1),r.lanes=4194304);y.isBackwards?(T.sibling=r.child,r.child=T):(s=y.last,s!==null?s.sibling=T:r.child=T,y.last=T)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Tt(),r.sibling=null,s=Mt.current,Ot(Mt,l?s&1|2:s&1),r):(hr(r),null);case 22:case 23:return bl(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?(Nr&1073741824)!==0&&(hr(r),r.subtreeFlags&6&&(r.flags|=8192)):hr(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Gm(e,r){switch(Io(r),r.tag){case 1:return _r(r.type)&&Zs(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Si(),Bt(xr),Bt(cr),Ho(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return qo(r),null;case 13:if(Bt(Mt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));xi()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Bt(Mt),null;case 4:return Si(),null;case 10:return zo(r.type._context),null;case 22:case 23:return bl(),null;case 24:return null;default:return null}}var pa=!1,dr=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,He=null;function Di(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Vt(e,r,l)}else s.current=null}function fl(e,r,s){try{s()}catch(l){Vt(e,r,l)}}var Zf=!1;function Zm(e,r){if(bo=Ls,e=Cc(),mo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var m=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var T=0,H=-1,X=-1,he=0,be=0,De=e,Ee=null;t:for(;;){for(var Ue;De!==s||m!==0&&De.nodeType!==3||(H=T+m),De!==y||l!==0&&De.nodeType!==3||(X=T+l),De.nodeType===3&&(T+=De.nodeValue.length),(Ue=De.firstChild)!==null;)Ee=De,De=Ue;for(;;){if(De===e)break t;if(Ee===s&&++he===m&&(H=T),Ee===y&&++be===l&&(X=T),(Ue=De.nextSibling)!==null)break;De=Ee,Ee=De.parentNode}De=Ue}s=H===-1||X===-1?null:{start:H,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(So={focusedElem:e,selectionRange:s},Ls=!1,He=r;He!==null;)if(r=He,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,He=e;else for(;He!==null;){r=He;try{var Ze=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var $e=Ze.memoizedProps,Zt=Ze.memoizedState,se=r.stateNode,J=se.getSnapshotBeforeUpdate(r.elementType===r.type?$e:qr(r.type,$e),Zt);se.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var le=r.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Re){Vt(r,r.return,Re)}if(e=r.sibling,e!==null){e.return=r.return,He=e;break}He=r.return}return Ze=Zf,Zf=!1,Ze}function ds(e,r,s){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&e)===e){var y=m.destroy;m.destroy=void 0,y!==void 0&&fl(r,s,y)}m=m.next}while(m!==l)}}function ma(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==r)}}function hl(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function Xf(e){var r=e.alternate;r!==null&&(e.alternate=null,Xf(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Jr],delete r[rs],delete r[Ao],delete r[Nm],delete r[Rm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $f(e){return e.tag===5||e.tag===3||e.tag===4}function Kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$f(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dl(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Gs));else if(l!==4&&(e=e.child,e!==null))for(dl(e,r,s),e=e.sibling;e!==null;)dl(e,r,s),e=e.sibling}function pl(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(pl(e,r,s),e=e.sibling;e!==null;)pl(e,r,s),e=e.sibling}var ar=null,Vr=!1;function Nn(e,r,s){for(s=s.child;s!==null;)Qf(e,r,s),s=s.sibling}function Qf(e,r,s){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(ii,s)}catch{}switch(s.tag){case 5:dr||Di(s,r);case 6:var l=ar,m=Vr;ar=null,Nn(e,r,s),ar=l,Vr=m,ar!==null&&(Vr?(e=ar,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ar.removeChild(s.stateNode));break;case 18:ar!==null&&(Vr?(e=ar,s=s.stateNode,e.nodeType===8?ko(e.parentNode,s):e.nodeType===1&&ko(e,s),Hi(e)):ko(ar,s.stateNode));break;case 4:l=ar,m=Vr,ar=s.stateNode.containerInfo,Vr=!0,Nn(e,r,s),ar=l,Vr=m;break;case 0:case 11:case 14:case 15:if(!dr&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){m=l=l.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&fl(s,r,T),m=m.next}while(m!==l)}Nn(e,r,s);break;case 1:if(!dr&&(Di(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(H){Vt(s,r,H)}Nn(e,r,s);break;case 21:Nn(e,r,s);break;case 22:s.mode&1?(dr=(l=dr)||s.memoizedState!==null,Nn(e,r,s),dr=l):Nn(e,r,s);break;default:Nn(e,r,s)}}function Jf(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ym),r.forEach(function(l){var m=nv.bind(null,e,l);s.has(l)||(s.add(l),l.then(m,m))})}}function Hr(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var m=s[l];try{var y=e,T=r,H=T;e:for(;H!==null;){switch(H.tag){case 5:ar=H.stateNode,Vr=!1;break e;case 3:ar=H.stateNode.containerInfo,Vr=!0;break e;case 4:ar=H.stateNode.containerInfo,Vr=!0;break e}H=H.return}if(ar===null)throw Error(n(160));Qf(y,T,m),ar=null,Vr=!1;var X=m.alternate;X!==null&&(X.return=null),m.return=null}catch(he){Vt(m,r,he)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)eh(r,e),r=r.sibling}function eh(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(r,e),rn(e),l&4){try{ds(3,e,e.return),ma(3,e)}catch($e){Vt(e,e.return,$e)}try{ds(5,e,e.return)}catch($e){Vt(e,e.return,$e)}}break;case 1:Hr(r,e),rn(e),l&512&&s!==null&&Di(s,s.return);break;case 5:if(Hr(r,e),rn(e),l&512&&s!==null&&Di(s,s.return),e.flags&32){var m=e.stateNode;try{It(m,"")}catch($e){Vt(e,e.return,$e)}}if(l&4&&(m=e.stateNode,m!=null)){var y=e.memoizedProps,T=s!==null?s.memoizedProps:y,H=e.type,X=e.updateQueue;if(e.updateQueue=null,X!==null)try{H==="input"&&y.type==="radio"&&y.name!=null&&pt(m,y),ue(H,T);var he=ue(H,y);for(T=0;T<X.length;T+=2){var be=X[T],De=X[T+1];be==="style"?Pe(m,De):be==="dangerouslySetInnerHTML"?Kt(m,De):be==="children"?It(m,De):R(m,be,De,he)}switch(H){case"input":ht(m,y);break;case"textarea":kt(m,y);break;case"select":var Ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Ue=y.value;Ue!=null?Qe(m,!!y.multiple,Ue,!1):Ee!==!!y.multiple&&(y.defaultValue!=null?Qe(m,!!y.multiple,y.defaultValue,!0):Qe(m,!!y.multiple,y.multiple?[]:"",!1))}m[rs]=y}catch($e){Vt(e,e.return,$e)}}break;case 6:if(Hr(r,e),rn(e),l&4){if(e.stateNode===null)throw Error(n(162));m=e.stateNode,y=e.memoizedProps;try{m.nodeValue=y}catch($e){Vt(e,e.return,$e)}}break;case 3:if(Hr(r,e),rn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Hi(r.containerInfo)}catch($e){Vt(e,e.return,$e)}break;case 4:Hr(r,e),rn(e);break;case 13:Hr(r,e),rn(e),m=e.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(gl=Tt())),l&4&&Jf(e);break;case 22:if(be=s!==null&&s.memoizedState!==null,e.mode&1?(dr=(he=dr)||be,Hr(r,e),dr=he):Hr(r,e),rn(e),l&8192){if(he=e.memoizedState!==null,(e.stateNode.isHidden=he)&&!be&&(e.mode&1)!==0)for(He=e,be=e.child;be!==null;){for(De=He=be;He!==null;){switch(Ee=He,Ue=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:ds(4,Ee,Ee.return);break;case 1:Di(Ee,Ee.return);var Ze=Ee.stateNode;if(typeof Ze.componentWillUnmount=="function"){l=Ee,s=Ee.return;try{r=l,Ze.props=r.memoizedProps,Ze.state=r.memoizedState,Ze.componentWillUnmount()}catch($e){Vt(l,s,$e)}}break;case 5:Di(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){nh(De);continue}}Ue!==null?(Ue.return=Ee,He=Ue):nh(De)}be=be.sibling}e:for(be=null,De=e;;){if(De.tag===5){if(be===null){be=De;try{m=De.stateNode,he?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(H=De.stateNode,X=De.memoizedProps.style,T=X!=null&&X.hasOwnProperty("display")?X.display:null,H.style.display=Ie("display",T))}catch($e){Vt(e,e.return,$e)}}}else if(De.tag===6){if(be===null)try{De.stateNode.nodeValue=he?"":De.memoizedProps}catch($e){Vt(e,e.return,$e)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===e)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===e)break e;for(;De.sibling===null;){if(De.return===null||De.return===e)break e;be===De&&(be=null),De=De.return}be===De&&(be=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:Hr(r,e),rn(e),l&4&&Jf(e);break;case 21:break;default:Hr(r,e),rn(e)}}function rn(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if($f(s)){var l=s;break e}s=s.return}throw Error(n(160))}switch(l.tag){case 5:var m=l.stateNode;l.flags&32&&(It(m,""),l.flags&=-33);var y=Kf(e);pl(e,y,m);break;case 3:case 4:var T=l.stateNode.containerInfo,H=Kf(e);dl(e,H,T);break;default:throw Error(n(161))}}catch(X){Vt(e,e.return,X)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Xm(e,r,s){He=e,th(e)}function th(e,r,s){for(var l=(e.mode&1)!==0;He!==null;){var m=He,y=m.child;if(m.tag===22&&l){var T=m.memoizedState!==null||pa;if(!T){var H=m.alternate,X=H!==null&&H.memoizedState!==null||dr;H=pa;var he=dr;if(pa=T,(dr=X)&&!he)for(He=m;He!==null;)T=He,X=T.child,T.tag===22&&T.memoizedState!==null?ih(m):X!==null?(X.return=T,He=X):ih(m);for(;y!==null;)He=y,th(y),y=y.sibling;He=m,pa=H,dr=he}rh(e)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,He=y):rh(e)}}function rh(e){for(;He!==null;){var r=He;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:dr||ma(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!dr)if(s===null)l.componentDidMount();else{var m=r.elementType===r.type?s.memoizedProps:qr(r.type,s.memoizedProps);l.componentDidUpdate(m,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&rf(r,y,l);break;case 3:var T=r.updateQueue;if(T!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}rf(r,T,s)}break;case 5:var H=r.stateNode;if(s===null&&r.flags&4){s=H;var X=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&s.focus();break;case"img":X.src&&(s.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var he=r.alternate;if(he!==null){var be=he.memoizedState;if(be!==null){var De=be.dehydrated;De!==null&&Hi(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dr||r.flags&512&&hl(r)}catch(Ee){Vt(r,r.return,Ee)}}if(r===e){He=null;break}if(s=r.sibling,s!==null){s.return=r.return,He=s;break}He=r.return}}function nh(e){for(;He!==null;){var r=He;if(r===e){He=null;break}var s=r.sibling;if(s!==null){s.return=r.return,He=s;break}He=r.return}}function ih(e){for(;He!==null;){var r=He;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ma(4,r)}catch(X){Vt(r,s,X)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var m=r.return;try{l.componentDidMount()}catch(X){Vt(r,m,X)}}var y=r.return;try{hl(r)}catch(X){Vt(r,y,X)}break;case 5:var T=r.return;try{hl(r)}catch(X){Vt(r,T,X)}}}catch(X){Vt(r,r.return,X)}if(r===e){He=null;break}var H=r.sibling;if(H!==null){H.return=r.return,He=H;break}He=r.return}}var $m=Math.ceil,va=M.ReactCurrentDispatcher,ml=M.ReactCurrentOwner,Br=M.ReactCurrentBatchConfig,Et=0,ir=null,$t=null,or=0,Nr=0,ki=Cn(0),er=0,ps=null,$n=0,ga=0,vl=0,ms=null,br=null,gl=0,Ai=1/0,mn=null,ya=!1,yl=null,Rn=null,wa=!1,In=null,xa=0,vs=0,wl=null,_a=-1,Ea=0;function gr(){return(Et&6)!==0?Tt():_a!==-1?_a:_a=Tt()}function On(e){return(e.mode&1)===0?1:(Et&2)!==0&&or!==0?or&-or:Om.transition!==null?(Ea===0&&(Ea=Oe()),Ea):(e=at,e!==0||(e=window.event,e=e===void 0?16:sc(e.type)),e)}function Gr(e,r,s,l){if(50<vs)throw vs=0,wl=null,Error(n(185));dt(e,s,l),((Et&2)===0||e!==ir)&&(e===ir&&((Et&2)===0&&(ga|=s),er===4&&Ln(e,or)),Sr(e,l),s===1&&Et===0&&(r.mode&1)===0&&(Ai=Tt()+500,$s&&kn()))}function Sr(e,r){var s=e.callbackNode;Ae(e,r);var l=ge(e,e===ir?or:0);if(l===0)s!==null&&Wn(s),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(s!=null&&Wn(s),r===1)e.tag===0?Im(ah.bind(null,e)):Vc(ah.bind(null,e)),Am(function(){(Et&6)===0&&kn()}),s=null;else{switch(zt(l)){case 1:s=Kr;break;case 4:s=Ts;break;case 16:s=an;break;case 536870912:s=Ns;break;default:s=an}s=ph(s,sh.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function sh(e,r){if(_a=-1,Ea=0,(Et&6)!==0)throw Error(n(327));var s=e.callbackNode;if(Ti()&&e.callbackNode!==s)return null;var l=ge(e,e===ir?or:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||r)r=ba(e,l);else{r=l;var m=Et;Et|=2;var y=lh();(ir!==e||or!==r)&&(mn=null,Ai=Tt()+500,Qn(e,r));do try{Jm();break}catch(H){oh(e,H)}while(!0);Fo(),va.current=y,Et=m,$t!==null?r=0:(ir=null,or=0,r=er)}if(r!==0){if(r===2&&(m=ke(e),m!==0&&(l=m,r=xl(e,m))),r===1)throw s=ps,Qn(e,0),Ln(e,l),Sr(e,Tt()),s;if(r===6)Ln(e,l);else{if(m=e.current.alternate,(l&30)===0&&!Km(m)&&(r=ba(e,l),r===2&&(y=ke(e),y!==0&&(l=y,r=xl(e,y))),r===1))throw s=ps,Qn(e,0),Ln(e,l),Sr(e,Tt()),s;switch(e.finishedWork=m,e.finishedLanes=l,r){case 0:case 1:throw Error(n(345));case 2:Jn(e,br,mn);break;case 3:if(Ln(e,l),(l&130023424)===l&&(r=gl+500-Tt(),10<r)){if(ge(e,0)!==0)break;if(m=e.suspendedLanes,(m&l)!==l){gr(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Do(Jn.bind(null,e,br,mn),r);break}Jn(e,br,mn);break;case 4:if(Ln(e,l),(l&4194240)===l)break;for(r=e.eventTimes,m=-1;0<l;){var T=31-Dr(l);y=1<<T,T=r[T],T>m&&(m=T),l&=~y}if(l=m,l=Tt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*$m(l/1960))-l,10<l){e.timeoutHandle=Do(Jn.bind(null,e,br,mn),l);break}Jn(e,br,mn);break;case 5:Jn(e,br,mn);break;default:throw Error(n(329))}}}return Sr(e,Tt()),e.callbackNode===s?sh.bind(null,e):null}function xl(e,r){var s=ms;return e.current.memoizedState.isDehydrated&&(Qn(e,r).flags|=256),e=ba(e,r),e!==2&&(r=br,br=s,r!==null&&_l(r)),e}function _l(e){br===null?br=e:br.push.apply(br,e)}function Km(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var m=s[l],y=m.getSnapshot;m=m.value;try{if(!Ur(y(),m))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ln(e,r){for(r&=~vl,r&=~ga,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Dr(r),l=1<<s;e[s]=-1,r&=~l}}function ah(e){if((Et&6)!==0)throw Error(n(327));Ti();var r=ge(e,0);if((r&1)===0)return Sr(e,Tt()),null;var s=ba(e,r);if(e.tag!==0&&s===2){var l=ke(e);l!==0&&(r=l,s=xl(e,l))}if(s===1)throw s=ps,Qn(e,0),Ln(e,r),Sr(e,Tt()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Jn(e,br,mn),Sr(e,Tt()),null}function El(e,r){var s=Et;Et|=1;try{return e(r)}finally{Et=s,Et===0&&(Ai=Tt()+500,$s&&kn())}}function Kn(e){In!==null&&In.tag===0&&(Et&6)===0&&Ti();var r=Et;Et|=1;var s=Br.transition,l=at;try{if(Br.transition=null,at=1,e)return e()}finally{at=l,Br.transition=s,Et=r,(Et&6)===0&&kn()}}function bl(){Nr=ki.current,Bt(ki)}function Qn(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,km(s)),$t!==null)for(s=$t.return;s!==null;){var l=s;switch(Io(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Zs();break;case 3:Si(),Bt(xr),Bt(cr),Ho();break;case 5:qo(l);break;case 4:Si();break;case 13:Bt(Mt);break;case 19:Bt(Mt);break;case 10:zo(l.type._context);break;case 22:case 23:bl()}s=s.return}if(ir=e,$t=e=Pn(e.current,null),or=Nr=r,er=0,ps=null,vl=ga=$n=0,br=ms=null,Yn!==null){for(r=0;r<Yn.length;r++)if(s=Yn[r],l=s.interleaved,l!==null){s.interleaved=null;var m=l.next,y=s.pending;if(y!==null){var T=y.next;y.next=m,l.next=T}s.pending=l}Yn=null}return e}function oh(e,r){do{var s=$t;try{if(Fo(),aa.current=ca,oa){for(var l=Ut.memoizedState;l!==null;){var m=l.queue;m!==null&&(m.pending=null),l=l.next}oa=!1}if(Xn=0,nr=Jt=Ut=null,ls=!1,us=0,ml.current=null,s===null||s.return===null){er=1,ps=r,$t=null;break}e:{var y=e,T=s.return,H=s,X=r;if(r=or,H.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var he=X,be=H,De=be.tag;if((be.mode&1)===0&&(De===0||De===11||De===15)){var Ee=be.alternate;Ee?(be.updateQueue=Ee.updateQueue,be.memoizedState=Ee.memoizedState,be.lanes=Ee.lanes):(be.updateQueue=null,be.memoizedState=null)}var Ue=If(T);if(Ue!==null){Ue.flags&=-257,Of(Ue,T,H,y,r),Ue.mode&1&&Rf(y,he,r),r=Ue,X=he;var Ze=r.updateQueue;if(Ze===null){var $e=new Set;$e.add(X),r.updateQueue=$e}else Ze.add(X);break e}else{if((r&1)===0){Rf(y,he,r),Sl();break e}X=Error(n(426))}}else if(jt&&H.mode&1){var Zt=If(T);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),Of(Zt,T,H,y,r),Po(Ci(X,H));break e}}y=X=Ci(X,H),er!==4&&(er=2),ms===null?ms=[y]:ms.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var se=Tf(y,X,r);tf(y,se);break e;case 1:H=X;var J=y.type,le=y.stateNode;if((y.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Rn===null||!Rn.has(le)))){y.flags|=65536,r&=-r,y.lanes|=r;var Re=Nf(y,H,r);tf(y,Re);break e}}y=y.return}while(y!==null)}ch(s)}catch(Ke){r=Ke,$t===s&&s!==null&&($t=s=s.return);continue}break}while(!0)}function lh(){var e=va.current;return va.current=ca,e===null?ca:e}function Sl(){(er===0||er===3||er===2)&&(er=4),ir===null||($n&268435455)===0&&(ga&268435455)===0||Ln(ir,or)}function ba(e,r){var s=Et;Et|=2;var l=lh();(ir!==e||or!==r)&&(mn=null,Qn(e,r));do try{Qm();break}catch(m){oh(e,m)}while(!0);if(Fo(),Et=s,va.current=l,$t!==null)throw Error(n(261));return ir=null,or=0,er}function Qm(){for(;$t!==null;)uh($t)}function Jm(){for(;$t!==null&&!to();)uh($t)}function uh(e){var r=dh(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,r===null?ch(e):$t=r,ml.current=null}function ch(e){var r=e;do{var s=r.alternate;if(e=r.return,(r.flags&32768)===0){if(s=Hm(s,r,Nr),s!==null){$t=s;return}}else{if(s=Gm(s,r),s!==null){s.flags&=32767,$t=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{er=6,$t=null;return}}if(r=r.sibling,r!==null){$t=r;return}$t=r=e}while(r!==null);er===0&&(er=5)}function Jn(e,r,s){var l=at,m=Br.transition;try{Br.transition=null,at=1,ev(e,r,s,l)}finally{Br.transition=m,at=l}return null}function ev(e,r,s,l){do Ti();while(In!==null);if((Et&6)!==0)throw Error(n(327));s=e.finishedWork;var m=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var y=s.lanes|s.childLanes;if(St(e,y),e===ir&&($t=ir=null,or=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||wa||(wa=!0,ph(an,function(){return Ti(),null})),y=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||y){y=Br.transition,Br.transition=null;var T=at;at=1;var H=Et;Et|=4,ml.current=null,Zm(e,s),eh(s,e),xm(So),Ls=!!bo,So=bo=null,e.current=s,Xm(s),ks(),Et=H,at=T,Br.transition=y}else e.current=s;if(wa&&(wa=!1,In=e,xa=m),y=e.pendingLanes,y===0&&(Rn=null),ro(s.stateNode),Sr(e,Tt()),r!==null)for(l=e.onRecoverableError,s=0;s<r.length;s++)m=r[s],l(m.value,{componentStack:m.stack,digest:m.digest});if(ya)throw ya=!1,e=yl,yl=null,e;return(xa&1)!==0&&e.tag!==0&&Ti(),y=e.pendingLanes,(y&1)!==0?e===wl?vs++:(vs=0,wl=e):vs=0,kn(),null}function Ti(){if(In!==null){var e=zt(xa),r=Br.transition,s=at;try{if(Br.transition=null,at=16>e?16:e,In===null)var l=!1;else{if(e=In,In=null,xa=0,(Et&6)!==0)throw Error(n(331));var m=Et;for(Et|=4,He=e.current;He!==null;){var y=He,T=y.child;if((He.flags&16)!==0){var H=y.deletions;if(H!==null){for(var X=0;X<H.length;X++){var he=H[X];for(He=he;He!==null;){var be=He;switch(be.tag){case 0:case 11:case 15:ds(8,be,y)}var De=be.child;if(De!==null)De.return=be,He=De;else for(;He!==null;){be=He;var Ee=be.sibling,Ue=be.return;if(Xf(be),be===he){He=null;break}if(Ee!==null){Ee.return=Ue,He=Ee;break}He=Ue}}}var Ze=y.alternate;if(Ze!==null){var $e=Ze.child;if($e!==null){Ze.child=null;do{var Zt=$e.sibling;$e.sibling=null,$e=Zt}while($e!==null)}}He=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,He=T;else e:for(;He!==null;){if(y=He,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ds(9,y,y.return)}var se=y.sibling;if(se!==null){se.return=y.return,He=se;break e}He=y.return}}var J=e.current;for(He=J;He!==null;){T=He;var le=T.child;if((T.subtreeFlags&2064)!==0&&le!==null)le.return=T,He=le;else e:for(T=J;He!==null;){if(H=He,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ma(9,H)}}catch(Ke){Vt(H,H.return,Ke)}if(H===T){He=null;break e}var Re=H.sibling;if(Re!==null){Re.return=H.return,He=Re;break e}He=H.return}}if(Et=m,kn(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(ii,e)}catch{}l=!0}return l}finally{at=s,Br.transition=r}}return!1}function fh(e,r,s){r=Ci(s,r),r=Tf(e,r,1),e=Tn(e,r,1),r=gr(),e!==null&&(dt(e,1,r),Sr(e,r))}function Vt(e,r,s){if(e.tag===3)fh(e,e,s);else for(;r!==null;){if(r.tag===3){fh(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rn===null||!Rn.has(l))){e=Ci(s,e),e=Nf(r,e,1),r=Tn(r,e,1),e=gr(),r!==null&&(dt(r,1,e),Sr(r,e));break}}r=r.return}}function tv(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),r=gr(),e.pingedLanes|=e.suspendedLanes&s,ir===e&&(or&s)===s&&(er===4||er===3&&(or&130023424)===or&&500>Tt()-gl?Qn(e,0):vl|=s),Sr(e,r)}function hh(e,r){r===0&&((e.mode&1)===0?r=1:(r=re,re<<=1,(re&130023424)===0&&(re=4194304)));var s=gr();e=hn(e,r),e!==null&&(dt(e,r,s),Sr(e,s))}function rv(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),hh(e,s)}function nv(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(r),hh(e,s)}var dh;dh=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||xr.current)Er=!0;else{if((e.lanes&s)===0&&(r.flags&128)===0)return Er=!1,Vm(e,r,s);Er=(e.flags&131072)!==0}else Er=!1,jt&&(r.flags&1048576)!==0&&Hc(r,Qs,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;da(e,r),e=r.pendingProps;var m=gi(r,cr.current);bi(r,s),m=Zo(null,r,l,e,m,s);var y=Xo();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_r(l)?(y=!0,Xs(r)):y=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Uo(r),m.updater=fa,r.stateNode=m,m._reactInternals=r,tl(r,l,e,s),r=sl(null,r,l,!0,y,s)):(r.tag=0,jt&&y&&Ro(r),vr(null,r,m,s),r=r.child),r;case 16:l=r.elementType;e:{switch(da(e,r),e=r.pendingProps,m=l._init,l=m(l._payload),r.type=l,m=r.tag=sv(l),e=qr(l,e),m){case 0:r=il(null,r,l,e,s);break e;case 1:r=jf(null,r,l,e,s);break e;case 11:r=Lf(null,r,l,e,s);break e;case 14:r=Pf(null,r,l,qr(l.type,e),s);break e}throw Error(n(306,l,""))}return r;case 0:return l=r.type,m=r.pendingProps,m=r.elementType===l?m:qr(l,m),il(e,r,l,m,s);case 1:return l=r.type,m=r.pendingProps,m=r.elementType===l?m:qr(l,m),jf(e,r,l,m,s);case 3:e:{if(Mf(r),e===null)throw Error(n(387));l=r.pendingProps,y=r.memoizedState,m=y.element,ef(e,r),ia(r,l,null,s);var T=r.memoizedState;if(l=T.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){m=Ci(Error(n(423)),r),r=Uf(e,r,l,s,m);break e}else if(l!==m){m=Ci(Error(n(424)),r),r=Uf(e,r,l,s,m);break e}else for(Tr=Sn(r.stateNode.containerInfo.firstChild),Ar=r,jt=!0,Wr=null,s=Qc(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xi(),l===m){r=pn(e,r,s);break e}vr(e,r,l,s)}r=r.child}return r;case 5:return nf(r),e===null&&Lo(r),l=r.type,m=r.pendingProps,y=e!==null?e.memoizedProps:null,T=m.children,Co(l,m)?T=null:y!==null&&Co(l,y)&&(r.flags|=32),zf(e,r),vr(e,r,T,s),r.child;case 6:return e===null&&Lo(r),null;case 13:return Wf(e,r,s);case 4:return Wo(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=_i(r,null,l,s):vr(e,r,l,s),r.child;case 11:return l=r.type,m=r.pendingProps,m=r.elementType===l?m:qr(l,m),Lf(e,r,l,m,s);case 7:return vr(e,r,r.pendingProps,s),r.child;case 8:return vr(e,r,r.pendingProps.children,s),r.child;case 12:return vr(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(l=r.type._context,m=r.pendingProps,y=r.memoizedProps,T=m.value,Ot(ta,l._currentValue),l._currentValue=T,y!==null)if(Ur(y.value,T)){if(y.children===m.children&&!xr.current){r=pn(e,r,s);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var H=y.dependencies;if(H!==null){T=y.child;for(var X=H.firstContext;X!==null;){if(X.context===l){if(y.tag===1){X=dn(-1,s&-s),X.tag=2;var he=y.updateQueue;if(he!==null){he=he.shared;var be=he.pending;be===null?X.next=X:(X.next=be.next,be.next=X),he.pending=X}}y.lanes|=s,X=y.alternate,X!==null&&(X.lanes|=s),jo(y.return,s,r),H.lanes|=s;break}X=X.next}}else if(y.tag===10)T=y.type===r.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=s,H=T.alternate,H!==null&&(H.lanes|=s),jo(T,s,r),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===r){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}vr(e,r,m.children,s),r=r.child}return r;case 9:return m=r.type,l=r.pendingProps.children,bi(r,s),m=Lr(m),l=l(m),r.flags|=1,vr(e,r,l,s),r.child;case 14:return l=r.type,m=qr(l,r.pendingProps),m=qr(l.type,m),Pf(e,r,l,m,s);case 15:return Bf(e,r,r.type,r.pendingProps,s);case 17:return l=r.type,m=r.pendingProps,m=r.elementType===l?m:qr(l,m),da(e,r),r.tag=1,_r(l)?(e=!0,Xs(r)):e=!1,bi(r,s),kf(r,l,m),tl(r,l,m,s),sl(null,r,l,!0,e,s);case 19:return Vf(e,r,s);case 22:return Ff(e,r,s)}throw Error(n(156,r.tag))};function ph(e,r){return pr(e,r)}function iv(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,r,s,l){return new iv(e,r,s,l)}function Cl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sv(e){if(typeof e=="function")return Cl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$)return 11;if(e===we)return 14}return 2}function Pn(e,r){var s=e.alternate;return s===null?(s=Fr(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Sa(e,r,s,l,m,y){var T=2;if(l=e,typeof e=="function")Cl(e)&&(T=1);else if(typeof e=="string")T=5;else e:switch(e){case F:return ei(s.children,m,y,r);case U:T=8,m|=8;break;case z:return e=Fr(12,s,r,m|2),e.elementType=z,e.lanes=y,e;case oe:return e=Fr(13,s,r,m),e.elementType=oe,e.lanes=y,e;case xe:return e=Fr(19,s,r,m),e.elementType=xe,e.lanes=y,e;case ve:return Ca(s,m,y,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:T=10;break e;case ae:T=9;break e;case $:T=11;break e;case we:T=14;break e;case Te:T=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=Fr(T,s,r,m),r.elementType=e,r.type=l,r.lanes=y,r}function ei(e,r,s,l){return e=Fr(7,e,l,r),e.lanes=s,e}function Ca(e,r,s,l){return e=Fr(22,e,l,r),e.elementType=ve,e.lanes=s,e.stateNode={isHidden:!1},e}function Dl(e,r,s){return e=Fr(6,e,null,r),e.lanes=s,e}function kl(e,r,s){return r=Fr(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function av(e,r,s,l,m){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ye(0),this.expirationTimes=Ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ye(0),this.identifierPrefix=l,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Al(e,r,s,l,m,y,T,H,X){return e=new av(e,r,s,H,X),r===1?(r=1,y===!0&&(r|=8)):r=0,y=Fr(3,null,null,r),e.current=y,y.stateNode=e,y.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(y),e}function ov(e,r,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:l==null?null:""+l,children:e,containerInfo:r,implementation:s}}function mh(e){if(!e)return Dn;e=e._reactInternals;e:{if(Yt(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_r(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(_r(s))return Wc(e,s,r)}return r}function vh(e,r,s,l,m,y,T,H,X){return e=Al(s,l,!0,e,m,y,T,H,X),e.context=mh(null),s=e.current,l=gr(),m=On(s),y=dn(l,m),y.callback=r??null,Tn(s,y,m),e.current.lanes=m,dt(e,m,l),Sr(e,l),e}function Da(e,r,s,l){var m=r.current,y=gr(),T=On(m);return s=mh(s),r.context===null?r.context=s:r.pendingContext=s,r=dn(y,T),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=Tn(m,r,T),e!==null&&(Gr(e,m,T,y),na(e,m,T)),T}function ka(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Tl(e,r){gh(e,r),(e=e.alternate)&&gh(e,r)}function lv(){return null}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nl(e){this._internalRoot=e}Aa.prototype.render=Nl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));Da(e,r,null,null)},Aa.prototype.unmount=Nl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Kn(function(){Da(null,e,null,null)}),r[ln]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var r=Rs();e={blockedOn:null,target:e,priority:r};for(var s=0;s<_n.length&&r!==0&&r<_n[s].priority;s++);_n.splice(s,0,e),s===0&&nc(e)}};function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wh(){}function uv(e,r,s,l,m){if(m){if(typeof l=="function"){var y=l;l=function(){var he=ka(T);y.call(he)}}var T=vh(r,l,e,0,null,!1,!1,"",wh);return e._reactRootContainer=T,e[ln]=T.current,es(e.nodeType===8?e.parentNode:e),Kn(),T}for(;m=e.lastChild;)e.removeChild(m);if(typeof l=="function"){var H=l;l=function(){var he=ka(X);H.call(he)}}var X=Al(e,0,!1,null,null,!1,!1,"",wh);return e._reactRootContainer=X,e[ln]=X.current,es(e.nodeType===8?e.parentNode:e),Kn(function(){Da(r,X,s,l)}),X}function Na(e,r,s,l,m){var y=s._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var H=m;m=function(){var X=ka(T);H.call(X)}}Da(r,T,e,m)}else T=uv(s,r,e,m,l);return ka(T)}mr=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=K(r.pendingLanes);s!==0&&(_t(r,s|1),Sr(r,Tt()),(Et&6)===0&&(Ai=Tt()+500,kn()))}break;case 13:Kn(function(){var l=hn(e,1);if(l!==null){var m=gr();Gr(l,e,1,m)}}),Tl(e,1)}},on=function(e){if(e.tag===13){var r=hn(e,134217728);if(r!==null){var s=gr();Gr(r,e,134217728,s)}Tl(e,134217728)}},si=function(e){if(e.tag===13){var r=On(e),s=hn(e,r);if(s!==null){var l=gr();Gr(s,e,r,l)}Tl(e,r)}},Rs=function(){return at},ai=function(e,r){var s=at;try{return at=e,r()}finally{at=s}},Y=function(e,r,s){switch(r){case"input":if(ht(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var m=Ys(l);if(!m)throw Error(n(90));ft(l),ht(l,m)}}}break;case"textarea":kt(e,s);break;case"select":r=s.value,r!=null&&Qe(e,!!s.multiple,r,!1)}},V=El,Q=Kn;var cv={usingClientEntryPoint:!1,Events:[ns,mi,Ys,P,d,El]},gs={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fv={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qt(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{ii=Ra.inject(fv),wr=Ra}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv,Cr.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rl(r))throw Error(n(200));return ov(e,r,null,s)},Cr.createRoot=function(e,r){if(!Rl(e))throw Error(n(299));var s=!1,l="",m=yh;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=Al(e,1,!1,null,null,s,!1,l,m),e[ln]=r.current,es(e.nodeType===8?e.parentNode:e),new Nl(r)},Cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=qt(r),e=e===null?null:e.stateNode,e},Cr.flushSync=function(e){return Kn(e)},Cr.hydrate=function(e,r,s){if(!Ta(r))throw Error(n(200));return Na(null,e,r,!0,s)},Cr.hydrateRoot=function(e,r,s){if(!Rl(e))throw Error(n(405));var l=s!=null&&s.hydratedSources||null,m=!1,y="",T=yh;if(s!=null&&(s.unstable_strictMode===!0&&(m=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),r=vh(r,null,e,1,s??null,m,!1,y,T),e[ln]=r.current,es(e),l)for(e=0;e<l.length;e++)s=l[e],m=s._getVersion,m=m(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,m]:r.mutableSourceEagerHydrationData.push(s,m);return new Aa(r)},Cr.render=function(e,r,s){if(!Ta(r))throw Error(n(200));return Na(null,e,r,!1,s)},Cr.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(n(40));return e._reactRootContainer?(Kn(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1},Cr.unstable_batchedUpdates=El,Cr.unstable_renderSubtreeIntoContainer=function(e,r,s,l){if(!Ta(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Na(e,r,s,!1,l)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var kh;function Yd(){if(kh)return Ll.exports;kh=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Ll.exports=xv(),Ll.exports}var Ah;function _v(){if(Ah)return Ia;Ah=1;var h=Yd();return Ia.createRoot=h.createRoot,Ia.hydrateRoot=h.hydrateRoot,Ia}var Ev=_v();const bv=Mn(Ev);Yd();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(h[i]=n[i])}return h},bs.apply(this,arguments)}var Fn;(function(h){h.Pop="POP",h.Push="PUSH",h.Replace="REPLACE"})(Fn||(Fn={}));const Th="popstate";function Sv(h){h===void 0&&(h={});function t(i,a){let{pathname:o,search:u,hash:c}=i.location;return Nu("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Zd(a)}return Dv(t,n,null,h)}function tr(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function Vu(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cv(){return Math.random().toString(36).substr(2,8)}function Nh(h,t){return{usr:h.state,key:h.key,idx:t}}function Nu(h,t,n,i){return n===void 0&&(n=null),bs({pathname:typeof h=="string"?h:h.pathname,search:"",hash:""},typeof t=="string"?ji(t):t,{state:n,key:t&&t.key||i||Cv()})}function Zd(h){let{pathname:t="/",search:n="",hash:i=""}=h;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ji(h){let t={};if(h){let n=h.indexOf("#");n>=0&&(t.hash=h.substr(n),h=h.substr(0,n));let i=h.indexOf("?");i>=0&&(t.search=h.substr(i),h=h.substr(0,i)),h&&(t.pathname=h)}return t}function Dv(h,t,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,c=Fn.Pop,f=null,v=x();v==null&&(v=0,u.replaceState(bs({},u.state,{idx:v}),""));function x(){return(u.state||{idx:null}).idx}function w(){c=Fn.Pop;let g=x(),E=g==null?null:g-v;v=g,f&&f({action:c,location:k.location,delta:E})}function C(g,E){c=Fn.Push;let _=Nu(k.location,g,E);v=x()+1;let R=Nh(_,v),M=k.createHref(_);try{u.pushState(R,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(M)}o&&f&&f({action:c,location:k.location,delta:1})}function S(g,E){c=Fn.Replace;let _=Nu(k.location,g,E);v=x();let R=Nh(_,v),M=k.createHref(_);u.replaceState(R,"",M),o&&f&&f({action:c,location:k.location,delta:0})}function j(g){let E=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof g=="string"?g:Zd(g);return _=_.replace(/ $/,"%20"),tr(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let k={get action(){return c},get location(){return h(a,u)},listen(g){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Th,w),f=g,()=>{a.removeEventListener(Th,w),f=null}},createHref(g){return t(a,g)},createURL:j,encodeLocation(g){let E=j(g);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:C,replace:S,go(g){return u.go(g)}};return k}var Rh;(function(h){h.data="data",h.deferred="deferred",h.redirect="redirect",h.error="error"})(Rh||(Rh={}));function kv(h,t,n){return n===void 0&&(n="/"),Av(h,t,n)}function Av(h,t,n,i){let a=typeof t=="string"?ji(t):t,o=Kd(a.pathname||"/",n);if(o==null)return null;let u=Xd(h);Tv(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let v=Uv(o);c=zv(u[f],v)}return c}function Xd(h,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(o,u,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(tr(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let v=ti([i,f.relativePath]),x=n.concat(f);o.children&&o.children.length>0&&(tr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Xd(o.children,t,x,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:Bv(v,o.index),routesMeta:x})};return h.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,u);else for(let f of $d(o.path))a(o,u,f)}),t}function $d(h){let t=h.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=$d(i.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...u),c.map(f=>h.startsWith("/")&&f===""?"/":f)}function Tv(h){h.sort((t,n)=>t.score!==n.score?n.score-t.score:Fv(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Nv=/^:[\w-]+$/,Rv=3,Iv=2,Ov=1,Lv=10,Pv=-2,Ih=h=>h==="*";function Bv(h,t){let n=h.split("/"),i=n.length;return n.some(Ih)&&(i+=Pv),t&&(i+=Iv),n.filter(a=>!Ih(a)).reduce((a,o)=>a+(Nv.test(o)?Rv:o===""?Ov:Lv),i)}function Fv(h,t){return h.length===t.length&&h.slice(0,-1).every((i,a)=>i===t[a])?h[h.length-1]-t[t.length-1]:0}function zv(h,t,n){let{routesMeta:i}=h,a={},o="/",u=[];for(let c=0;c<i.length;++c){let f=i[c],v=c===i.length-1,x=o==="/"?t:t.slice(o.length)||"/",w=jv({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},x),C=f.route;if(!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:ti([o,w.pathname]),pathnameBase:Zv(ti([o,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(o=ti([o,w.pathnameBase]))}return u}function jv(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[n,i]=Mv(h.path,h.caseSensitive,h.end),a=t.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((v,x,w)=>{let{paramName:C,isOptional:S}=x;if(C==="*"){let k=c[w]||"";u=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const j=c[w];return S&&!j?v[C]=void 0:v[C]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:u,pattern:h}}function Mv(h,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vu(h==="*"||!h.endsWith("*")||h.endsWith("/*"),'Route path "'+h+'" will be treated as if it were '+('"'+h.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+h.replace(/\*$/,"/*")+'".'));let i=[],a="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(i.push({paramName:"*"}),a+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":h!==""&&h!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function Uv(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vu(!1,'The URL path "'+h+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),h}}function Kd(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=h.charAt(n);return i&&i!=="/"?null:h.slice(n)||"/"}const Wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qv=h=>Wv.test(h);function Vv(h,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:a=""}=typeof h=="string"?ji(h):h,o;if(n)if(qv(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Vu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?o=Oh(n.substring(1),"/"):o=Oh(n,t)}else o=t;return{pathname:o,search:Xv(i),hash:$v(a)}}function Oh(h,t){let n=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fl(h,t,n,i){return"Cannot include a '"+h+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hv(h){return h.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gv(h,t){let n=Hv(h);return t?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Yv(h,t,n,i){i===void 0&&(i=!1);let a;typeof h=="string"?a=ji(h):(a=bs({},h),tr(!a.pathname||!a.pathname.includes("?"),Fl("?","pathname","search",a)),tr(!a.pathname||!a.pathname.includes("#"),Fl("#","pathname","hash",a)),tr(!a.search||!a.search.includes("#"),Fl("#","search","hash",a)));let o=h===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=n;else{let w=t.length-1;if(!i&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),w-=1;a.pathname=C.join("/")}c=w>=0?t[w]:"/"}let f=Vv(a,c),v=u&&u!=="/"&&u.endsWith("/"),x=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(v||x)&&(f.pathname+="/"),f}const ti=h=>h.join("/").replace(/\/\/+/g,"/"),Zv=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),Xv=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,$v=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function Kv(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}const Qd=["post","put","patch","delete"];new Set(Qd);const Qv=["get",...Qd];new Set(Qv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(h[i]=n[i])}return h},Ss.apply(this,arguments)}const Hu=de.createContext(null),Jv=de.createContext(null),Za=de.createContext(null),Xa=de.createContext(null),ni=de.createContext({outlet:null,matches:[],isDataRoute:!1}),Jd=de.createContext(null);function $a(){return de.useContext(Xa)!=null}function ep(){return $a()||tr(!1),de.useContext(Xa).location}function tp(h){de.useContext(Za).static||de.useLayoutEffect(h)}function rp(){let{isDataRoute:h}=de.useContext(ni);return h?dg():eg()}function eg(){$a()||tr(!1);let h=de.useContext(Hu),{basename:t,future:n,navigator:i}=de.useContext(Za),{matches:a}=de.useContext(ni),{pathname:o}=ep(),u=JSON.stringify(Gv(a,n.v7_relativeSplatPath)),c=de.useRef(!1);return tp(()=>{c.current=!0}),de.useCallback(function(v,x){if(x===void 0&&(x={}),!c.current)return;if(typeof v=="number"){i.go(v);return}let w=Yv(v,JSON.parse(u),o,x.relative==="path");h==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ti([t,w.pathname])),(x.replace?i.replace:i.push)(w,x.state,x)},[t,i,u,o,h])}function tg(){let{matches:h}=de.useContext(ni),t=h[h.length-1];return t?t.params:{}}function rg(h,t){return ng(h,t)}function ng(h,t,n,i){$a()||tr(!1);let{navigator:a}=de.useContext(Za),{matches:o}=de.useContext(ni),u=o[o.length-1],c=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let v=ep(),x;if(t){var w;let g=typeof t=="string"?ji(t):t;f==="/"||(w=g.pathname)!=null&&w.startsWith(f)||tr(!1),x=g}else x=v;let C=x.pathname||"/",S=C;if(f!=="/"){let g=f.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(g.length).join("/")}let j=kv(h,{pathname:S}),k=lg(j&&j.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:ti([f,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?f:ti([f,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,i);return t&&k?de.createElement(Xa.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Fn.Pop}},k):k}function ig(){let h=hg(),t=Kv(h)?h.status+" "+h.statusText:h instanceof Error?h.message:JSON.stringify(h),n=h instanceof Error?h.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},t),n?de.createElement("pre",{style:a},n):null,null)}const sg=de.createElement(ig,null);class ag extends de.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?de.createElement(ni.Provider,{value:this.props.routeContext},de.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function og(h){let{routeContext:t,match:n,children:i}=h,a=de.useContext(Hu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),de.createElement(ni.Provider,{value:t},i)}function lg(h,t,n,i){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),h==null){var o;if(!n)return null;if(n.errors)h=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)h=n.matches;else return null}let u=h,c=(a=n)==null?void 0:a.errors;if(c!=null){let x=u.findIndex(w=>w.route.id&&(c==null?void 0:c[w.route.id])!==void 0);x>=0||tr(!1),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,v=-1;if(n&&i&&i.v7_partialHydration)for(let x=0;x<u.length;x++){let w=u[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=x),w.route.id){let{loaderData:C,errors:S}=n,j=w.route.loader&&C[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||j){f=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}return u.reduceRight((x,w,C)=>{let S,j=!1,k=null,g=null;n&&(S=c&&w.route.id?c[w.route.id]:void 0,k=w.route.errorElement||sg,f&&(v<0&&C===0?(pg("route-fallback"),j=!0,g=null):v===C&&(j=!0,g=w.route.hydrateFallbackElement||null)));let E=t.concat(u.slice(0,C+1)),_=()=>{let R;return S?R=k:j?R=g:w.route.Component?R=de.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=x,de.createElement(og,{match:w,routeContext:{outlet:x,matches:E,isDataRoute:n!=null},children:R})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?de.createElement(ag,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var np=(function(h){return h.UseBlocker="useBlocker",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h})(np||{}),ip=(function(h){return h.UseBlocker="useBlocker",h.UseLoaderData="useLoaderData",h.UseActionData="useActionData",h.UseRouteError="useRouteError",h.UseNavigation="useNavigation",h.UseRouteLoaderData="useRouteLoaderData",h.UseMatches="useMatches",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h.UseRouteId="useRouteId",h})(ip||{});function ug(h){let t=de.useContext(Hu);return t||tr(!1),t}function cg(h){let t=de.useContext(Jv);return t||tr(!1),t}function fg(h){let t=de.useContext(ni);return t||tr(!1),t}function sp(h){let t=fg(),n=t.matches[t.matches.length-1];return n.route.id||tr(!1),n.route.id}function hg(){var h;let t=de.useContext(Jd),n=cg(),i=sp();return t!==void 0?t:(h=n.errors)==null?void 0:h[i]}function dg(){let{router:h}=ug(np.UseNavigateStable),t=sp(ip.UseNavigateStable),n=de.useRef(!1);return tp(()=>{n.current=!0}),de.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?h.navigate(a):h.navigate(a,Ss({fromRouteId:t},o)))},[h,t])}const Lh={};function pg(h,t,n){Lh[h]||(Lh[h]=!0)}function mg(h,t){h==null||h.v7_startTransition,h==null||h.v7_relativeSplatPath}function Ru(h){tr(!1)}function vg(h){let{basename:t="/",children:n=null,location:i,navigationType:a=Fn.Pop,navigator:o,static:u=!1,future:c}=h;$a()&&tr(!1);let f=t.replace(/^\/*/,"/"),v=de.useMemo(()=>({basename:f,navigator:o,static:u,future:Ss({v7_relativeSplatPath:!1},c)}),[f,c,o,u]);typeof i=="string"&&(i=ji(i));let{pathname:x="/",search:w="",hash:C="",state:S=null,key:j="default"}=i,k=de.useMemo(()=>{let g=Kd(x,f);return g==null?null:{location:{pathname:g,search:w,hash:C,state:S,key:j},navigationType:a}},[f,x,w,C,S,j,a]);return k==null?null:de.createElement(Za.Provider,{value:v},de.createElement(Xa.Provider,{children:n,value:k}))}function gg(h){let{children:t,location:n}=h;return rg(Iu(t),n)}new Promise(()=>{});function Iu(h,t){t===void 0&&(t=[]);let n=[];return de.Children.forEach(h,(i,a)=>{if(!de.isValidElement(i))return;let o=[...t,a];if(i.type===de.Fragment){n.push.apply(n,Iu(i.props.children,o));return}i.type!==Ru&&tr(!1),!i.props.index||!i.props.children||tr(!1);let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Iu(i.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yg="6";try{window.__reactRouterVersion=yg}catch{}const wg="startTransition",Ph=gv[wg];function xg(h){let{basename:t,children:n,future:i,window:a}=h,o=de.useRef();o.current==null&&(o.current=Sv({window:a,v5Compat:!0}));let u=o.current,[c,f]=de.useState({action:u.action,location:u.location}),{v7_startTransition:v}=i||{},x=de.useCallback(w=>{v&&Ph?Ph(()=>f(w)):f(w)},[f,v]);return de.useLayoutEffect(()=>u.listen(x),[u,x]),de.useEffect(()=>mg(i),[i]),de.createElement(vg,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u,future:i})}var Bh;(function(h){h.UseScrollRestoration="useScrollRestoration",h.UseSubmit="useSubmit",h.UseSubmitFetcher="useSubmitFetcher",h.UseFetcher="useFetcher",h.useViewTransitionState="useViewTransitionState"})(Bh||(Bh={}));var Fh;(function(h){h.UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration"})(Fh||(Fh={}));const Ou=(h,t)=>t.some(n=>h instanceof n);let zh,jh;function _g(){return zh||(zh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eg(){return jh||(jh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lu=new WeakMap,zl=new WeakMap,Ka=new WeakMap;function bg(h){const t=new Promise((n,i)=>{const a=()=>{h.removeEventListener("success",o),h.removeEventListener("error",u)},o=()=>{n(ri(h.result)),a()},u=()=>{i(h.error),a()};h.addEventListener("success",o),h.addEventListener("error",u)});return Ka.set(t,h),t}function Sg(h){if(Lu.has(h))return;const t=new Promise((n,i)=>{const a=()=>{h.removeEventListener("complete",o),h.removeEventListener("error",u),h.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{i(h.error||new DOMException("AbortError","AbortError")),a()};h.addEventListener("complete",o),h.addEventListener("error",u),h.addEventListener("abort",u)});Lu.set(h,t)}let Pu={get(h,t,n){if(h instanceof IDBTransaction){if(t==="done")return Lu.get(h);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(h[t])},set(h,t,n){return h[t]=n,!0},has(h,t){return h instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in h}};function ap(h){Pu=h(Pu)}function Cg(h){return Eg().includes(h)?function(...t){return h.apply(Bu(this),t),ri(this.request)}:function(...t){return ri(h.apply(Bu(this),t))}}function Dg(h){return typeof h=="function"?Cg(h):(h instanceof IDBTransaction&&Sg(h),Ou(h,_g())?new Proxy(h,Pu):h)}function ri(h){if(h instanceof IDBRequest)return bg(h);if(zl.has(h))return zl.get(h);const t=Dg(h);return t!==h&&(zl.set(h,t),Ka.set(t,h)),t}const Bu=h=>Ka.get(h);function kg(h,t,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(h,t),c=ri(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ri(u.result),f.oldVersion,f.newVersion,ri(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),c}const Ag=["get","getKey","getAll","getAllKeys","count"],Tg=["put","add","delete","clear"],jl=new Map;function Mh(h,t){if(!(h instanceof IDBDatabase&&!(t in h)&&typeof t=="string"))return;if(jl.get(t))return jl.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=Tg.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ag.includes(n)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let v=f.store;return i&&(v=v.index(c.shift())),(await Promise.all([v[n](...c),a&&f.done]))[0]};return jl.set(t,o),o}ap(h=>({...h,get:(t,n,i)=>Mh(t,n)||h.get(t,n,i),has:(t,n)=>!!Mh(t,n)||h.has(t,n)}));const Ng=["continue","continuePrimaryKey","advance"],Uh={},Fu=new WeakMap,op=new WeakMap,Rg={get(h,t){if(!Ng.includes(t))return h[t];let n=Uh[t];return n||(n=Uh[t]=function(...i){Fu.set(this,op.get(this)[t](...i))}),n}};async function*Ig(...h){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...h)),!t)return;t=t;const n=new Proxy(t,Rg);for(op.set(n,t),Ka.set(n,Bu(t));t;)yield n,t=await(Fu.get(n)||t.continue()),Fu.delete(n)}function Wh(h,t){return t===Symbol.asyncIterator&&Ou(h,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ou(h,[IDBIndex,IDBObjectStore])}ap(h=>({...h,get(t,n,i){return Wh(t,n)?Ig:h.get(t,n,i)},has(t,n){return Wh(t,n)||h.has(t,n)}}));const Og="drewpub-db",Lg=1;let Ml;function wn(){return Ml||(Ml=kg(Og,Lg,{upgrade(h){if(!h.objectStoreNames.contains("books")){const t=h.createObjectStore("books",{keyPath:"id"});t.createIndex("title","title"),t.createIndex("author","author"),t.createIndex("addedAt","addedAt"),t.createIndex("lastReadAt","lastReadAt")}h.objectStoreNames.contains("positions")||h.createObjectStore("positions",{keyPath:"bookId"}),h.objectStoreNames.contains("settings")||h.createObjectStore("settings",{keyPath:"key"})}})),Ml}async function qh(h){return(await wn()).put("books",h)}async function Pg(h){return(await wn()).get("books",h)}async function Bg(){return(await wn()).getAll("books")}async function Fg(h){const t=await wn();await t.delete("books",h),await t.delete("positions",h)}async function lp(h,t){const n=await wn(),i=await n.get("books",h);if(i)return Object.assign(i,t),n.put("books",i)}async function zg(h,t,n){return(await wn()).put("positions",{bookId:h,cfi:t,percentage:n,updatedAt:Date.now()})}async function jg(h){return(await wn()).get("positions",h)}async function Vh(h,t){return(await wn()).put("settings",{key:h,value:t})}async function Mg(){const t=await(await wn()).getAll("settings"),n={};for(const i of t)n[i.key]=i.value;return n}const Es={dark:{id:"dark",name:"Dark",bg:"#1a1a2e",surface:"#16213e",text:"#e0e0e0",textSecondary:"#a0a0b0",accent:"#7c5cfc",border:"rgba(255,255,255,0.08)",readerBg:"#1a1a2e",readerText:"#d4d4d4"},amoled:{id:"amoled",name:"AMOLED",bg:"#000000",surface:"#0a0a0a",text:"#e0e0e0",textSecondary:"#888888",accent:"#7c5cfc",border:"rgba(255,255,255,0.06)",readerBg:"#000000",readerText:"#cccccc"},sepia:{id:"sepia",name:"Sepia",bg:"#f4ecd8",surface:"#ede3ca",text:"#5b4636",textSecondary:"#8a7560",accent:"#c0813d",border:"rgba(91,70,54,0.12)",readerBg:"#f4ecd8",readerText:"#5b4636"},light:{id:"light",name:"Light",bg:"#f8f9fa",surface:"#ffffff",text:"#1a1a2e",textSecondary:"#6b6b80",accent:"#6c4ce0",border:"rgba(0,0,0,0.08)",readerBg:"#ffffff",readerText:"#2a2a2a"},ocean:{id:"ocean",name:"Ocean",bg:"#0d1b2a",surface:"#1b2838",text:"#c8d6e5",textSecondary:"#7f8fa6",accent:"#48dbfb",border:"rgba(72,219,251,0.1)",readerBg:"#0d1b2a",readerText:"#c8d6e5"},forest:{id:"forest",name:"Forest",bg:"#1a2e1a",surface:"#1e3a1e",text:"#c8e0c8",textSecondary:"#7fa67f",accent:"#5cfc7c",border:"rgba(92,252,124,0.1)",readerBg:"#1a2e1a",readerText:"#c8e0c8"}},za=[{id:"inter",name:"Inter",family:"'Inter', sans-serif"},{id:"literata",name:"Literata",family:"'Literata', serif"},{id:"merriweather",name:"Merriweather",family:"'Merriweather', serif"},{id:"lora",name:"Lora",family:"'Lora', serif"},{id:"source-serif",name:"Source Serif",family:"'Source Serif 4', serif"},{id:"roboto-slab",name:"Roboto Slab",family:"'Roboto Slab', serif"},{id:"crimson",name:"Crimson Text",family:"'Crimson Text', serif"},{id:"georgia",name:"Georgia",family:"Georgia, serif"},{id:"system",name:"System UI",family:"system-ui, sans-serif"}],Ul={theme:"dark",customTheme:null,font:"literata",customFonts:[],fontSize:18,lineHeight:1.7,paragraphSpacing:16,margins:40,maxWidth:720,textAlign:"left",readingMode:"paginated",readerBgImage:null,readerBgOpacity:.08,libraryView:"grid",librarySortBy:"lastReadAt",librarySortOrder:"desc",dictionaryMode:"word"};function Ug(h){const t=document.documentElement;t.style.setProperty("--bg",h.bg),t.style.setProperty("--surface",h.surface),t.style.setProperty("--text",h.text),t.style.setProperty("--text-secondary",h.textSecondary),t.style.setProperty("--accent",h.accent),t.style.setProperty("--border",h.border),t.style.setProperty("--reader-bg",h.readerBg),t.style.setProperty("--reader-text",h.readerText)}function ja(h,t){return h==="custom"&&t?t:Es[h]||Es.dark}const up=de.createContext(null);function Wg({children:h}){const[t,n]=de.useState(Ul),[i,a]=de.useState(!1);de.useEffect(()=>{(async()=>{var c;try{const f=await Mg(),v={...Ul};for(const x of Object.keys(Ul))f[x]!==void 0&&(v[x]=f[x]);if(f.customTheme&&(v.customTheme=f.customTheme),f.customFonts&&(v.customFonts=f.customFonts),f.readerBgImage!==void 0&&(v.readerBgImage=f.readerBgImage),f.readerBgOpacity!==void 0&&(v.readerBgOpacity=f.readerBgOpacity),f.dictionaryMode!==void 0&&(v.dictionaryMode=f.dictionaryMode),(c=v.customFonts)!=null&&c.length)for(const x of v.customFonts)try{const w=new FontFace(x.family,`url(${x.dataUrl})`);await w.load(),document.fonts.add(w)}catch(w){console.warn("Failed to load custom font:",x.name,w)}n(v)}catch(f){console.warn("Failed to load settings:",f)}finally{a(!0)}})()},[]),de.useEffect(()=>{if(i){const c=ja(t.theme,t.customTheme);Ug(c)}},[t.theme,t.customTheme,i]);const o=de.useCallback(async(c,f)=>{n(v=>({...v,[c]:f}));try{await Vh(c,f)}catch(v){console.warn("Failed to save setting:",c,v)}},[]),u=de.useCallback(async c=>{n(f=>({...f,...c}));try{for(const[f,v]of Object.entries(c))await Vh(f,v)}catch(f){console.warn("Failed to save settings:",f)}},[]);return i?O.jsx(up.Provider,{value:{settings:t,updateSetting:o,updateMultipleSettings:u},children:h}):O.jsx("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"#1a1a2e",color:"#e0e0e0"},children:O.jsxs("div",{style:{textAlign:"center"},children:[O.jsx("div",{style:{width:48,height:48,margin:"0 auto 16px",border:"3px solid rgba(124,92,252,0.2)",borderTopColor:"#7c5cfc",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),O.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})})}function Gu(){const h=de.useContext(up);if(!h)throw new Error("useSettings must be used within SettingsProvider");return h}const qg=`
<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="40" height="40" rx="10" fill="url(#logoGrad)"/>
  <path d="M12 10h3c1.5 0 2.5.5 3 1.5V28c-.5-.8-1.5-1.2-3-1.2h-3V10z" fill="rgba(255,255,255,0.9)"/>
  <path d="M28 10h-3c-1.5 0-2.5.5-3 1.5V28c.5-.8 1.5-1.2 3-1.2h3V10z" fill="rgba(255,255,255,0.7)"/>
  <path d="M20 12v16" stroke="rgba(255,255,255,0.3)" stroke-width="0.5"/>
  <rect x="14" y="14" width="4" height="0.8" rx="0.4" fill="rgba(255,255,255,0.3)"/>
  <rect x="14" y="16.5" width="3" height="0.8" rx="0.4" fill="rgba(255,255,255,0.3)"/>
  <rect x="22" y="14" width="4" height="0.8" rx="0.4" fill="rgba(255,255,255,0.2)"/>
  <rect x="22" y="16.5" width="3" height="0.8" rx="0.4" fill="rgba(255,255,255,0.2)"/>
  <defs>
    <linearGradient id="logoGrad" x1="0" y1="0" x2="40" y2="40">
      <stop stop-color="#7c5cfc"/>
      <stop offset="1" stop-color="#5c3cdc"/>
    </linearGradient>
  </defs>
</svg>`;function Vg({viewMode:h,onToggleView:t,sortBy:n,onSortChange:i,bookCount:a,onUpload:o,onShowSettings:u}){return O.jsxs("header",{className:"header glass",children:[O.jsxs("div",{className:"header-left",children:[O.jsx("div",{className:"header-logo",dangerouslySetInnerHTML:{__html:qg}}),O.jsxs("div",{className:"header-brand",children:[O.jsx("h1",{className:"header-title",children:"DrewPub"}),O.jsxs("span",{className:"header-subtitle",children:[a," ",a===1?"book":"books"]})]})]}),O.jsxs("div",{className:"header-actions",children:[O.jsxs("div",{className:"sort-select-wrap",children:[O.jsxs("select",{className:"sort-select",value:n,onChange:c=>i(c.target.value),children:[O.jsx("option",{value:"lastReadAt",children:"Recently Read"}),O.jsx("option",{value:"addedAt",children:"Recently Added"}),O.jsx("option",{value:"title",children:"Title"}),O.jsx("option",{value:"author",children:"Author"})]}),O.jsx("span",{className:"sort-icon",children:""})]}),O.jsx("button",{className:"btn-icon view-toggle",onClick:t,title:h==="grid"?"Switch to list":"Switch to grid",children:h==="grid"?"":""}),O.jsx("button",{className:"btn-icon settings-btn",onClick:u,title:"Settings",style:{fontSize:"1.2rem"},children:""}),O.jsxs("button",{className:"btn btn-primary upload-btn",onClick:o,children:[O.jsx("span",{className:"upload-icon",children:"+"}),O.jsx("span",{className:"upload-text",children:"Add Book"})]})]})]})}function Hg({book:h,viewMode:t,onDelete:n}){var w,C;const i=rp(),[a,o]=de.useState(!1),[u,c]=de.useState(!1),f=()=>{lp(h.id,{lastReadAt:Date.now()}),i(`/read/${h.id}`)},v=async S=>{S.stopPropagation(),o(!1),await Fg(h.id),n(h.id)},x=h.progress||0;return t==="list"?O.jsxs("div",{className:`book-card-list ${u?"pressing":""}`,onClick:f,onPointerDown:()=>c(!0),onPointerUp:()=>c(!1),onPointerLeave:()=>c(!1),children:[O.jsx("div",{className:"book-cover-list",children:h.cover?O.jsx("img",{src:h.cover,alt:h.title}):O.jsx("div",{className:"book-cover-placeholder-list",children:O.jsx("span",{children:((w=h.title)==null?void 0:w[0])||"?"})})}),O.jsxs("div",{className:"book-info-list",children:[O.jsx("h3",{className:"book-title-list",children:h.title||"Untitled"}),O.jsx("p",{className:"book-author-list",children:h.author||"Unknown Author"}),x>0&&O.jsx("div",{className:"book-progress-bar-list",children:O.jsx("div",{className:"book-progress-fill-list",style:{width:`${x}%`}})})]}),O.jsx("button",{className:"book-menu-btn",onClick:S=>{S.stopPropagation(),o(!a)},children:""}),a&&O.jsx("div",{className:"book-menu glass-strong",children:O.jsx("button",{className:"book-menu-item delete",onClick:v,children:" Remove"})})]}):O.jsxs("div",{className:`book-card ${u?"pressing":""}`,onClick:f,onPointerDown:()=>c(!0),onPointerUp:()=>c(!1),onPointerLeave:()=>{c(!1),o(!1)},children:[O.jsxs("div",{className:"book-cover",children:[h.cover?O.jsx("img",{src:h.cover,alt:h.title,loading:"lazy"}):O.jsxs("div",{className:"book-cover-placeholder",children:[O.jsx("span",{className:"placeholder-letter",children:((C=h.title)==null?void 0:C[0])||"?"}),O.jsx("span",{className:"placeholder-title",children:h.title})]}),x>0&&O.jsx("div",{className:"book-progress-overlay",children:O.jsx("div",{className:"book-progress-fill",style:{width:`${x}%`}})}),O.jsx("button",{className:"book-menu-trigger",onClick:S=>{S.stopPropagation(),o(!a)},children:""})]}),O.jsxs("div",{className:"book-meta",children:[O.jsx("h3",{className:"book-title",children:h.title||"Untitled"}),O.jsx("p",{className:"book-author",children:h.author||"Unknown Author"})]}),a&&O.jsx("div",{className:"book-menu glass-strong",onClick:S=>S.stopPropagation(),children:O.jsx("button",{className:"book-menu-item delete",onClick:v,children:" Remove Book"})})]})}function cp({onClose:h}){var C,S,j,k,g,E;const{settings:t,updateSetting:n,updateMultipleSettings:i}=Gu(),a=de.useRef(null),o=de.useRef(null),u=[...za,...t.customFonts||[]],c=u.find(_=>_.id===t.font)||za[0],f=(_,R)=>{const D={...t.customTheme||{...Es.dark,id:"custom",name:"Custom"},[_]:R};i({theme:"custom",customTheme:D})},v=async _=>{var F;const R=(F=_.target.files)==null?void 0:F[0];if(!R)return;const M=R.name.replace(/\.(ttf|otf|woff|woff2)$/i,""),D=`CustomFont-${M}`,L=`custom-${Date.now()}`;try{const U=new FileReader;U.onload=async()=>{const z=U.result,q=new FontFace(D,`url(${z})`);await q.load(),document.fonts.add(q);const ae={id:L,name:M,family:D,dataUrl:z},$=[...t.customFonts||[],ae];await n("customFonts",$),await n("font",L)},U.readAsDataURL(R)}catch(U){console.error("Failed to load font:",U)}_.target.value=""},x=async _=>{const R=(t.customFonts||[]).filter(M=>M.id!==_);await n("customFonts",R),t.font===_&&await n("font","literata")},w=_=>{var D;const R=(D=_.target.files)==null?void 0:D[0];if(!R)return;const M=new FileReader;M.onload=()=>{n("readerBgImage",M.result)},M.readAsDataURL(R),_.target.value=""};return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"overlay",onClick:h}),O.jsxs("div",{className:"settings-panel glass-strong animate-slide-in-up",children:[O.jsxs("div",{className:"settings-header",children:[O.jsx("h2",{className:"settings-title",children:"Reading Settings"}),O.jsx("button",{className:"btn-icon",onClick:h,children:""})]}),O.jsxs("div",{className:"settings-body",children:[O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Reading Mode"}),O.jsxs("div",{className:"toggle-group",children:[O.jsx("button",{className:`toggle-btn ${t.readingMode==="paginated"?"active":""}`,onClick:()=>n("readingMode","paginated"),children:" Paginated"}),O.jsx("button",{className:`toggle-btn ${t.readingMode==="scroll"?"active":""}`,onClick:()=>n("readingMode","scroll"),children:" Scroll"})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Font"}),O.jsxs("div",{className:"font-grid",children:[u.map(_=>O.jsxs("div",{className:"font-btn-wrapper",children:[O.jsx("button",{className:`font-btn ${t.font===_.id?"active":""}`,style:{fontFamily:_.family},onClick:()=>n("font",_.id),children:_.name}),_.id.startsWith("custom-")&&O.jsx("button",{className:"font-delete-btn",onClick:R=>{R.stopPropagation(),x(_.id)},title:"Remove font",children:""})]},_.id)),O.jsx("button",{className:"font-btn font-upload-btn",onClick:()=>{var _;return(_=a.current)==null?void 0:_.click()},children:"+ Font"}),O.jsx("input",{ref:a,type:"file",accept:".ttf,.otf,.woff,.woff2",style:{display:"none"},onChange:v})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Typography"}),O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Size"}),O.jsx("input",{type:"range",min:"12",max:"32",step:"1",value:t.fontSize,onChange:_=>n("fontSize",Number(_.target.value))}),O.jsxs("span",{className:"slider-value",children:[t.fontSize,"px"]})]}),O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Line Height"}),O.jsx("input",{type:"range",min:"1.0",max:"2.5",step:"0.1",value:t.lineHeight,onChange:_=>n("lineHeight",Number(_.target.value))}),O.jsx("span",{className:"slider-value",children:t.lineHeight})]}),O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Paragraph"}),O.jsx("input",{type:"range",min:"0",max:"40",step:"2",value:t.paragraphSpacing,onChange:_=>n("paragraphSpacing",Number(_.target.value))}),O.jsxs("span",{className:"slider-value",children:[t.paragraphSpacing,"px"]})]}),O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Margins"}),O.jsx("input",{type:"range",min:"8",max:"80",step:"4",value:t.margins,onChange:_=>n("margins",Number(_.target.value))}),O.jsxs("span",{className:"slider-value",children:[t.margins,"px"]})]}),O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Max Width"}),O.jsx("input",{type:"range",min:"400",max:"1200",step:"20",value:t.maxWidth,onChange:_=>n("maxWidth",Number(_.target.value))}),O.jsxs("span",{className:"slider-value",children:[t.maxWidth,"px"]})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Text Alignment"}),O.jsxs("div",{className:"toggle-group",children:[O.jsx("button",{className:`toggle-btn ${t.textAlign==="left"?"active":""}`,onClick:()=>n("textAlign","left"),children:" Left"}),O.jsx("button",{className:`toggle-btn ${t.textAlign==="justify"?"active":""}`,onClick:()=>n("textAlign","justify"),children:" Justified"})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Dictionary Translation"}),O.jsxs("div",{className:"toggle-group",children:[O.jsx("button",{className:`toggle-btn ${t.dictionaryMode==="word"?"active":""}`,onClick:()=>n("dictionaryMode","word"),children:"Word Only"}),O.jsx("button",{className:`toggle-btn ${t.dictionaryMode==="sentence"?"active":""}`,onClick:()=>n("dictionaryMode","sentence"),children:"Full Sentence"})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Background Image"}),O.jsxs("div",{className:"bg-image-controls",children:[t.readerBgImage?O.jsxs("div",{className:"bg-preview-row",children:[O.jsx("div",{className:"bg-preview-thumb",style:{backgroundImage:`url(${t.readerBgImage})`}}),O.jsx("button",{className:"toggle-btn",onClick:()=>{var _;return(_=o.current)==null?void 0:_.click()},children:"Change"}),O.jsx("button",{className:"toggle-btn",onClick:()=>n("readerBgImage",null),children:" Remove"})]}):O.jsx("button",{className:"toggle-btn",onClick:()=>{var _;return(_=o.current)==null?void 0:_.click()},children:" Choose Image"}),O.jsx("input",{ref:o,type:"file",accept:"image/*",style:{display:"none"},onChange:w}),t.readerBgImage&&O.jsxs("div",{className:"slider-row",children:[O.jsx("span",{className:"slider-label",children:"Opacity"}),O.jsx("input",{type:"range",min:"0.02",max:"0.3",step:"0.01",value:t.readerBgOpacity,onChange:_=>n("readerBgOpacity",Number(_.target.value))}),O.jsxs("span",{className:"slider-value",children:[Math.round(t.readerBgOpacity*100),"%"]})]})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Theme"}),O.jsxs("div",{className:"theme-grid",children:[Object.values(Es).map(_=>O.jsxs("button",{className:`theme-btn ${t.theme===_.id?"active":""}`,onClick:()=>n("theme",_.id),children:[O.jsxs("div",{className:"theme-preview",style:{background:_.bg,borderColor:t.theme===_.id?_.accent:"transparent"},children:[O.jsx("div",{className:"theme-preview-line",style:{background:_.text,opacity:.6}}),O.jsx("div",{className:"theme-preview-line short",style:{background:_.text,opacity:.4}}),O.jsx("div",{className:"theme-preview-dot",style:{background:_.accent}})]}),O.jsx("span",{className:"theme-name",children:_.name})]},_.id)),O.jsxs("button",{className:`theme-btn ${t.theme==="custom"?"active":""}`,onClick:()=>{const _=t.customTheme||{...Es.dark,id:"custom",name:"Custom"};i({theme:"custom",customTheme:_})},children:[O.jsx("div",{className:"theme-preview custom-preview",style:{background:((C=t.customTheme)==null?void 0:C.bg)||"#1a1a2e",borderColor:t.theme==="custom"?((S=t.customTheme)==null?void 0:S.accent)||"#7c5cfc":"transparent"},children:O.jsx("span",{style:{fontSize:"16px"},children:""})}),O.jsx("span",{className:"theme-name",children:"Custom"})]})]})]}),t.theme==="custom"&&O.jsxs("section",{className:"settings-section custom-theme-editor animate-fade-in-up",children:[O.jsx("h3",{className:"section-label",children:"Custom Theme"}),O.jsxs("div",{className:"color-row",children:[O.jsx("span",{className:"color-label",children:"Background"}),O.jsx("input",{type:"color",value:((j=t.customTheme)==null?void 0:j.readerBg)||"#1a1a2e",onChange:_=>{f("bg",_.target.value),f("readerBg",_.target.value)}})]}),O.jsxs("div",{className:"color-row",children:[O.jsx("span",{className:"color-label",children:"Text"}),O.jsx("input",{type:"color",value:((k=t.customTheme)==null?void 0:k.readerText)||"#d4d4d4",onChange:_=>{f("text",_.target.value),f("readerText",_.target.value)}})]}),O.jsxs("div",{className:"color-row",children:[O.jsx("span",{className:"color-label",children:"Accent"}),O.jsx("input",{type:"color",value:((g=t.customTheme)==null?void 0:g.accent)||"#7c5cfc",onChange:_=>f("accent",_.target.value)})]}),O.jsxs("div",{className:"color-row",children:[O.jsx("span",{className:"color-label",children:"Surface"}),O.jsx("input",{type:"color",value:((E=t.customTheme)==null?void 0:E.surface)||"#16213e",onChange:_=>f("surface",_.target.value)})]})]}),O.jsxs("section",{className:"settings-section",children:[O.jsx("h3",{className:"section-label",children:"Preview"}),O.jsxs("div",{className:"text-preview",style:{fontFamily:c.family,fontSize:t.fontSize+"px",lineHeight:t.lineHeight,textAlign:t.textAlign,background:ja(t.theme,t.customTheme).readerBg,color:ja(t.theme,t.customTheme).readerText,padding:Math.min(t.margins,24)+"px",position:"relative",overflow:"hidden"},children:[t.readerBgImage&&O.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`url(${t.readerBgImage})`,backgroundSize:"cover",backgroundPosition:"center",opacity:t.readerBgOpacity,pointerEvents:"none"}}),O.jsx("span",{style:{position:"relative",zIndex:1},children:"The quick brown fox jumps over the lazy dog. Typography is the art and technique of arranging type to make written language legible, readable, and appealing."})]})]})]})]})]})}var Oa={exports:{}},Wl={exports:{}},ql,Hh;function fp(){if(Hh)return ql;Hh=1;var h=void 0;return ql=function(t){return t!==h&&t!==null},ql}var Vl,Gh;function Gg(){if(Gh)return Vl;Gh=1;var h=fp(),t={object:!0,function:!0,undefined:!0};return Vl=function(n){return h(n)?hasOwnProperty.call(t,typeof n):!1},Vl}var Hl,Yh;function Yg(){if(Yh)return Hl;Yh=1;var h=Gg();return Hl=function(t){if(!h(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},Hl}var Gl,Zh;function Zg(){if(Zh)return Gl;Zh=1;var h=Yg();return Gl=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!h(t)},Gl}var Yl,Xh;function Xg(){if(Xh)return Yl;Xh=1;var h=Zg(),t=/^\s*class[\s{/}]/,n=Function.prototype.toString;return Yl=function(i){return!(!h(i)||t.test(n.call(i)))},Yl}var Zl,$h;function $g(){return $h||($h=1,Zl=function(){var h=Object.assign,t;return typeof h!="function"?!1:(t={foo:"raz"},h(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),Zl}var Xl,Kh;function Kg(){return Kh||(Kh=1,Xl=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Xl}var $l,Qh;function Qg(){return Qh||(Qh=1,$l=function(){}),$l}var Kl,Jh;function Yu(){if(Jh)return Kl;Jh=1;var h=Qg()();return Kl=function(t){return t!==h&&t!==null},Kl}var Ql,ed;function Jg(){if(ed)return Ql;ed=1;var h=Yu(),t=Object.keys;return Ql=function(n){return t(h(n)?Object(n):n)},Ql}var Jl,td;function e0(){return td||(td=1,Jl=Kg()()?Object.keys:Jg()),Jl}var eu,rd;function t0(){if(rd)return eu;rd=1;var h=Yu();return eu=function(t){if(!h(t))throw new TypeError("Cannot use null or undefined");return t},eu}var tu,nd;function r0(){if(nd)return tu;nd=1;var h=e0(),t=t0(),n=Math.max;return tu=function(i,a){var o,u,c=n(arguments.length,2),f;for(i=Object(t(i)),f=function(v){try{i[v]=a[v]}catch(x){o||(o=x)}},u=1;u<c;++u)a=arguments[u],h(a).forEach(f);if(o!==void 0)throw o;return i},tu}var ru,id;function n0(){return id||(id=1,ru=$g()()?Object.assign:r0()),ru}var nu,sd;function i0(){if(sd)return nu;sd=1;var h=Yu(),t=Array.prototype.forEach,n=Object.create,i=function(a,o){var u;for(u in a)o[u]=a[u]};return nu=function(a){var o=n(null);return t.call(arguments,function(u){h(u)&&i(Object(u),o)}),o},nu}var iu,ad;function s0(){if(ad)return iu;ad=1;var h="razdwatrzy";return iu=function(){return typeof h.contains!="function"?!1:h.contains("dwa")===!0&&h.contains("foo")===!1},iu}var su,od;function a0(){if(od)return su;od=1;var h=String.prototype.indexOf;return su=function(t){return h.call(this,t,arguments[1])>-1},su}var au,ld;function o0(){return ld||(ld=1,au=s0()()?String.prototype.contains:a0()),au}var ud;function l0(){if(ud)return Wl.exports;ud=1;var h=fp(),t=Xg(),n=n0(),i=i0(),a=o0(),o=Wl.exports=function(u,c){var f,v,x,w,C;return arguments.length<2||typeof u!="string"?(w=c,c=u,u=null):w=arguments[2],h(u)?(f=a.call(u,"c"),v=a.call(u,"e"),x=a.call(u,"w")):(f=x=!0,v=!1),C={value:c,configurable:f,enumerable:v,writable:x},w?n(i(w),C):C};return o.gs=function(u,c,f){var v,x,w,C;return typeof u!="string"?(w=f,f=c,c=u,u=null):w=arguments[3],h(c)?t(c)?h(f)?t(f)||(w=f,f=void 0):f=void 0:(w=c,c=f=void 0):c=void 0,h(u)?(v=a.call(u,"c"),x=a.call(u,"e")):(v=!0,x=!1),C={get:c,set:f,configurable:v,enumerable:x},w?n(i(w),C):C},Wl.exports}var ou,cd;function u0(){return cd||(cd=1,ou=function(h){if(typeof h!="function")throw new TypeError(h+" is not a function");return h}),ou}var fd;function c0(){return fd||(fd=1,(function(h,t){var n=l0(),i=u0(),a=Function.prototype.apply,o=Function.prototype.call,u=Object.create,c=Object.defineProperty,f=Object.defineProperties,v=Object.prototype.hasOwnProperty,x={configurable:!0,enumerable:!1,writable:!0},w,C,S,j,k,g,E;w=function(_,R){var M;return i(R),v.call(this,"__ee__")?M=this.__ee__:(M=x.value=u(null),c(this,"__ee__",x),x.value=null),M[_]?typeof M[_]=="object"?M[_].push(R):M[_]=[M[_],R]:M[_]=R,this},C=function(_,R){var M,D;return i(R),D=this,w.call(this,_,M=function(){S.call(D,_,M),a.call(R,this,arguments)}),M.__eeOnceListener__=R,this},S=function(_,R){var M,D,L,F;if(i(R),!v.call(this,"__ee__"))return this;if(M=this.__ee__,!M[_])return this;if(D=M[_],typeof D=="object")for(F=0;L=D[F];++F)(L===R||L.__eeOnceListener__===R)&&(D.length===2?M[_]=D[F?0:1]:D.splice(F,1));else(D===R||D.__eeOnceListener__===R)&&delete M[_];return this},j=function(_){var R,M,D,L,F;if(v.call(this,"__ee__")&&(L=this.__ee__[_],!!L))if(typeof L=="object"){for(M=arguments.length,F=new Array(M-1),R=1;R<M;++R)F[R-1]=arguments[R];for(L=L.slice(),R=0;D=L[R];++R)a.call(D,this,F)}else switch(arguments.length){case 1:o.call(L,this);break;case 2:o.call(L,this,arguments[1]);break;case 3:o.call(L,this,arguments[1],arguments[2]);break;default:for(M=arguments.length,F=new Array(M-1),R=1;R<M;++R)F[R-1]=arguments[R];a.call(L,this,F)}},k={on:w,once:C,off:S,emit:j},g={on:n(w),once:n(C),off:n(S),emit:n(j)},E=f({},g),h.exports=t=function(_){return _==null?u(E):f(Object(_),g)},t.methods=k})(Oa,Oa.exports)),Oa.exports}var f0=c0();const sn=Mn(f0);var ws={},vn={},Ni={},hd;function Qa(){if(hd)return Ni;hd=1;function h(a,o,u){if(u===void 0&&(u=Array.prototype),a&&typeof u.find=="function")return u.find.call(a,o);for(var c=0;c<a.length;c++)if(Object.prototype.hasOwnProperty.call(a,c)){var f=a[c];if(o.call(void 0,f,c,a))return f}}function t(a,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(a):a}var n=t({HTML:"text/html",isHTML:function(a){return a===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Ni.find=h,Ni.freeze=t,Ni.MIME_TYPE=n,Ni.NAMESPACE=i,Ni}var dd;function hp(){if(dd)return vn;dd=1;var h=Qa(),t=h.find,n=h.NAMESPACE;function i(p){return p!==""}function a(p){return p?p.split(/[\t\n\f\r ]+/).filter(i):[]}function o(p,b){return p.hasOwnProperty(b)||(p[b]=!0),p}function u(p){if(!p)return[];var b=a(p);return Object.keys(b.reduce(o,{}))}function c(p){return function(b){return p&&p.indexOf(b)!==-1}}function f(p,b){for(var P in p)Object.prototype.hasOwnProperty.call(p,P)&&(b[P]=p[P])}function v(p,b){var P=p.prototype;if(!(P instanceof b)){let V=function(){};var d=V;V.prototype=b.prototype,V=new V,f(P,V),p.prototype=P=V}P.constructor!=p&&(typeof p!="function"&&console.error("unknown Class:"+p),P.constructor=p)}var x={},w=x.ELEMENT_NODE=1,C=x.ATTRIBUTE_NODE=2,S=x.TEXT_NODE=3,j=x.CDATA_SECTION_NODE=4,k=x.ENTITY_REFERENCE_NODE=5,g=x.ENTITY_NODE=6,E=x.PROCESSING_INSTRUCTION_NODE=7,_=x.COMMENT_NODE=8,R=x.DOCUMENT_NODE=9,M=x.DOCUMENT_TYPE_NODE=10,D=x.DOCUMENT_FRAGMENT_NODE=11,L=x.NOTATION_NODE=12,F={},U={};F.INDEX_SIZE_ERR=(U[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(U[2]="DOMString size error",2);var z=F.HIERARCHY_REQUEST_ERR=(U[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(U[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(U[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(U[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(U[7]="No modification allowed",7);var q=F.NOT_FOUND_ERR=(U[8]="Not found",8);F.NOT_SUPPORTED_ERR=(U[9]="Not supported",9);var ae=F.INUSE_ATTRIBUTE_ERR=(U[10]="Attribute in use",10);F.INVALID_STATE_ERR=(U[11]="Invalid state",11),F.SYNTAX_ERR=(U[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(U[13]="Invalid modification",13),F.NAMESPACE_ERR=(U[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(U[15]="Invalid access",15);function $(p,b){if(b instanceof Error)var P=b;else P=this,Error.call(this,U[p]),this.message=U[p],Error.captureStackTrace&&Error.captureStackTrace(this,$);return P.code=p,b&&(this.message=this.message+": "+b),P}$.prototype=Error.prototype,f(F,$);function oe(){}oe.prototype={length:0,item:function(p){return p>=0&&p<this.length?this[p]:null},toString:function(p,b){for(var P=[],d=0;d<this.length;d++)ue(this[d],P,p,b);return P.join("")},filter:function(p){return Array.prototype.filter.call(this,p)},indexOf:function(p){return Array.prototype.indexOf.call(this,p)}};function xe(p,b){this._node=p,this._refresh=b,we(this)}function we(p){var b=p._node._inc||p._node.ownerDocument._inc;if(p._inc!==b){var P=p._refresh(p._node);if(Y(p,"length",P.length),!p.$$length||P.length<p.$$length)for(var d=P.length;d in p;d++)Object.prototype.hasOwnProperty.call(p,d)&&delete p[d];f(P,p),p._inc=b}}xe.prototype.item=function(p){return we(this),this[p]||null},v(xe,oe);function Te(){}function ve(p,b){for(var P=p.length;P--;)if(p[P]===b)return P}function te(p,b,P,d){if(d?b[ve(b,d)]=P:b[b.length++]=P,p){P.ownerElement=p;var V=p.ownerDocument;V&&(d&&We(V,p,d),Be(V,p,P))}}function pe(p,b,P){var d=ve(b,P);if(d>=0){for(var V=b.length-1;d<V;)b[d]=b[++d];if(b.length=V,p){var Q=p.ownerDocument;Q&&(We(Q,p,P),P.ownerElement=null)}}else throw new $(q,new Error(p.tagName+"@"+P))}Te.prototype={length:0,item:oe.prototype.item,getNamedItem:function(p){for(var b=this.length;b--;){var P=this[b];if(P.nodeName==p)return P}},setNamedItem:function(p){var b=p.ownerElement;if(b&&b!=this._ownerElement)throw new $(ae);var P=this.getNamedItem(p.nodeName);return te(this._ownerElement,this,p,P),P},setNamedItemNS:function(p){var b=p.ownerElement,P;if(b&&b!=this._ownerElement)throw new $(ae);return P=this.getNamedItemNS(p.namespaceURI,p.localName),te(this._ownerElement,this,p,P),P},removeNamedItem:function(p){var b=this.getNamedItem(p);return pe(this._ownerElement,this,b),b},removeNamedItemNS:function(p,b){var P=this.getNamedItemNS(p,b);return pe(this._ownerElement,this,P),P},getNamedItemNS:function(p,b){for(var P=this.length;P--;){var d=this[P];if(d.localName==b&&d.namespaceURI==p)return d}return null}};function me(){}me.prototype={hasFeature:function(p,b){return!0},createDocument:function(p,b,P){var d=new Ce;if(d.implementation=this,d.childNodes=new oe,d.doctype=P||null,P&&d.appendChild(P),b){var V=d.createElementNS(p,b);d.appendChild(V)}return d},createDocumentType:function(p,b,P){var d=new Rt;return d.name=p,d.nodeName=p,d.publicId=b||"",d.systemId=P||"",d}};function W(){}W.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(p,b){return st(this,p,b)},replaceChild:function(p,b){st(this,p,b,bt),b&&this.removeChild(b)},removeChild:function(p){return ce(this,p)},appendChild:function(p){return this.insertBefore(p,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(p){return _e(this.ownerDocument||this,this,p)},normalize:function(){for(var p=this.firstChild;p;){var b=p.nextSibling;b&&b.nodeType==S&&p.nodeType==S?(this.removeChild(b),p.appendData(b.data)):(p.normalize(),p=b)}},isSupported:function(p,b){return this.ownerDocument.implementation.hasFeature(p,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(p){for(var b=this;b;){var P=b._nsMap;if(P){for(var d in P)if(Object.prototype.hasOwnProperty.call(P,d)&&P[d]===p)return d}b=b.nodeType==C?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(p){for(var b=this;b;){var P=b._nsMap;if(P&&p in P&&Object.prototype.hasOwnProperty.call(P,p))return P[p];b=b.nodeType==C?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(p){var b=this.lookupPrefix(p);return b==null}};function ne(p){return p=="<"&&"&lt;"||p==">"&&"&gt;"||p=="&"&&"&amp;"||p=='"'&&"&quot;"||"&#"+p.charCodeAt()+";"}f(x,W),f(x,W.prototype);function Le(p,b){if(b(p))return!0;if(p=p.firstChild)do if(Le(p,b))return!0;while(p=p.nextSibling)}function Ce(){this.ownerDocument=this}function Be(p,b,P){p&&p._inc++;var d=P.namespaceURI;d===n.XMLNS&&(b._nsMap[P.prefix?P.localName:""]=P.value)}function We(p,b,P,d){p&&p._inc++;var V=P.namespaceURI;V===n.XMLNS&&delete b._nsMap[P.prefix?P.localName:""]}function Ge(p,b,P){if(p&&p._inc){p._inc++;var d=b.childNodes;if(P)d[d.length++]=P;else{for(var V=b.firstChild,Q=0;V;)d[Q++]=V,V=V.nextSibling;d.length=Q,delete d[d.length]}}}function ce(p,b){var P=b.previousSibling,d=b.nextSibling;return P?P.nextSibling=d:p.firstChild=d,d?d.previousSibling=P:p.lastChild=P,b.parentNode=null,b.previousSibling=null,b.nextSibling=null,Ge(p.ownerDocument,p),b}function ze(p){return p&&(p.nodeType===W.DOCUMENT_NODE||p.nodeType===W.DOCUMENT_FRAGMENT_NODE||p.nodeType===W.ELEMENT_NODE)}function qe(p){return p&&(ft(p)||et(p)||Ve(p)||p.nodeType===W.DOCUMENT_FRAGMENT_NODE||p.nodeType===W.COMMENT_NODE||p.nodeType===W.PROCESSING_INSTRUCTION_NODE)}function Ve(p){return p&&p.nodeType===W.DOCUMENT_TYPE_NODE}function ft(p){return p&&p.nodeType===W.ELEMENT_NODE}function et(p){return p&&p.nodeType===W.TEXT_NODE}function ot(p,b){var P=p.childNodes||[];if(t(P,ft)||Ve(b))return!1;var d=t(P,Ve);return!(b&&d&&P.indexOf(d)>P.indexOf(b))}function yt(p,b){var P=p.childNodes||[];function d(Q){return ft(Q)&&Q!==b}if(t(P,d))return!1;var V=t(P,Ve);return!(b&&V&&P.indexOf(V)>P.indexOf(b))}function pt(p,b,P){if(!ze(p))throw new $(z,"Unexpected parent node type "+p.nodeType);if(P&&P.parentNode!==p)throw new $(q,"child not in parent");if(!qe(b)||Ve(b)&&p.nodeType!==W.DOCUMENT_NODE)throw new $(z,"Unexpected node type "+b.nodeType+" for parent node type "+p.nodeType)}function ht(p,b,P){var d=p.childNodes||[],V=b.childNodes||[];if(b.nodeType===W.DOCUMENT_FRAGMENT_NODE){var Q=V.filter(ft);if(Q.length>1||t(V,et))throw new $(z,"More than one element or text in fragment");if(Q.length===1&&!ot(p,P))throw new $(z,"Element in fragment can not be inserted before doctype")}if(ft(b)&&!ot(p,P))throw new $(z,"Only one element can be added and only after doctype");if(Ve(b)){if(t(d,Ve))throw new $(z,"Only one doctype is allowed");var A=t(d,ft);if(P&&d.indexOf(A)<d.indexOf(P))throw new $(z,"Doctype can only be inserted before an element");if(!P&&A)throw new $(z,"Doctype can not be appended since element is present")}}function bt(p,b,P){var d=p.childNodes||[],V=b.childNodes||[];if(b.nodeType===W.DOCUMENT_FRAGMENT_NODE){var Q=V.filter(ft);if(Q.length>1||t(V,et))throw new $(z,"More than one element or text in fragment");if(Q.length===1&&!yt(p,P))throw new $(z,"Element in fragment can not be inserted before doctype")}if(ft(b)&&!yt(p,P))throw new $(z,"Only one element can be added and only after doctype");if(Ve(b)){let ie=function(je){return Ve(je)&&je!==P};var G=ie;if(t(d,ie))throw new $(z,"Only one doctype is allowed");var A=t(d,ft);if(P&&d.indexOf(A)<d.indexOf(P))throw new $(z,"Doctype can only be inserted before an element")}}function st(p,b,P,d){pt(p,b,P),p.nodeType===W.DOCUMENT_NODE&&(d||ht)(p,b,P);var V=b.parentNode;if(V&&V.removeChild(b),b.nodeType===D){var Q=b.firstChild;if(Q==null)return b;var A=b.lastChild}else Q=A=b;var G=P?P.previousSibling:p.lastChild;Q.previousSibling=G,A.nextSibling=P,G?G.nextSibling=Q:p.firstChild=Q,P==null?p.lastChild=A:P.previousSibling=A;do Q.parentNode=p;while(Q!==A&&(Q=Q.nextSibling));return Ge(p.ownerDocument||p,p),b.nodeType==D&&(b.firstChild=b.lastChild=null),b}function lt(p,b){return b.parentNode&&b.parentNode.removeChild(b),b.parentNode=p,b.previousSibling=p.lastChild,b.nextSibling=null,b.previousSibling?b.previousSibling.nextSibling=b:p.firstChild=b,p.lastChild=b,Ge(p.ownerDocument,p,b),b}Ce.prototype={nodeName:"#document",nodeType:R,doctype:null,documentElement:null,_inc:1,insertBefore:function(p,b){if(p.nodeType==D){for(var P=p.firstChild;P;){var d=P.nextSibling;this.insertBefore(P,b),P=d}return p}return st(this,p,b),p.ownerDocument=this,this.documentElement===null&&p.nodeType===w&&(this.documentElement=p),p},removeChild:function(p){return this.documentElement==p&&(this.documentElement=null),ce(this,p)},replaceChild:function(p,b){st(this,p,b,bt),p.ownerDocument=this,b&&this.removeChild(b),ft(p)&&(this.documentElement=p)},importNode:function(p,b){return ye(this,p,b)},getElementById:function(p){var b=null;return Le(this.documentElement,function(P){if(P.nodeType==w&&P.getAttribute("id")==p)return b=P,!0}),b},getElementsByClassName:function(p){var b=u(p);return new xe(this,function(P){var d=[];return b.length>0&&Le(P.documentElement,function(V){if(V!==P&&V.nodeType===w){var Q=V.getAttribute("class");if(Q){var A=p===Q;if(!A){var G=u(Q);A=b.every(c(G))}A&&d.push(V)}}}),d})},createElement:function(p){var b=new Qe;b.ownerDocument=this,b.nodeName=p,b.tagName=p,b.localName=p,b.childNodes=new oe;var P=b.attributes=new Te;return P._ownerElement=b,b},createDocumentFragment:function(){var p=new Wt;return p.ownerDocument=this,p.childNodes=new oe,p},createTextNode:function(p){var b=new kt;return b.ownerDocument=this,b.appendData(p),b},createComment:function(p){var b=new rr;return b.ownerDocument=this,b.appendData(p),b},createCDATASection:function(p){var b=new Xt;return b.ownerDocument=this,b.appendData(p),b},createProcessingInstruction:function(p,b){var P=new Qt;return P.ownerDocument=this,P.tagName=P.nodeName=P.target=p,P.nodeValue=P.data=b,P},createAttribute:function(p){var b=new nt;return b.ownerDocument=this,b.name=p,b.nodeName=p,b.localName=p,b.specified=!0,b},createEntityReference:function(p){var b=new It;return b.ownerDocument=this,b.nodeName=p,b},createElementNS:function(p,b){var P=new Qe,d=b.split(":"),V=P.attributes=new Te;return P.childNodes=new oe,P.ownerDocument=this,P.nodeName=b,P.tagName=b,P.namespaceURI=p,d.length==2?(P.prefix=d[0],P.localName=d[1]):P.localName=b,V._ownerElement=P,P},createAttributeNS:function(p,b){var P=new nt,d=b.split(":");return P.ownerDocument=this,P.nodeName=b,P.name=b,P.namespaceURI=p,P.specified=!0,d.length==2?(P.prefix=d[0],P.localName=d[1]):P.localName=b,P}},v(Ce,W);function Qe(){this._nsMap={}}Qe.prototype={nodeType:w,hasAttribute:function(p){return this.getAttributeNode(p)!=null},getAttribute:function(p){var b=this.getAttributeNode(p);return b&&b.value||""},getAttributeNode:function(p){return this.attributes.getNamedItem(p)},setAttribute:function(p,b){var P=this.ownerDocument.createAttribute(p);P.value=P.nodeValue=""+b,this.setAttributeNode(P)},removeAttribute:function(p){var b=this.getAttributeNode(p);b&&this.removeAttributeNode(b)},appendChild:function(p){return p.nodeType===D?this.insertBefore(p,null):lt(this,p)},setAttributeNode:function(p){return this.attributes.setNamedItem(p)},setAttributeNodeNS:function(p){return this.attributes.setNamedItemNS(p)},removeAttributeNode:function(p){return this.attributes.removeNamedItem(p.nodeName)},removeAttributeNS:function(p,b){var P=this.getAttributeNodeNS(p,b);P&&this.removeAttributeNode(P)},hasAttributeNS:function(p,b){return this.getAttributeNodeNS(p,b)!=null},getAttributeNS:function(p,b){var P=this.getAttributeNodeNS(p,b);return P&&P.value||""},setAttributeNS:function(p,b,P){var d=this.ownerDocument.createAttributeNS(p,b);d.value=d.nodeValue=""+P,this.setAttributeNode(d)},getAttributeNodeNS:function(p,b){return this.attributes.getNamedItemNS(p,b)},getElementsByTagName:function(p){return new xe(this,function(b){var P=[];return Le(b,function(d){d!==b&&d.nodeType==w&&(p==="*"||d.tagName==p)&&P.push(d)}),P})},getElementsByTagNameNS:function(p,b){return new xe(this,function(P){var d=[];return Le(P,function(V){V!==P&&V.nodeType===w&&(p==="*"||V.namespaceURI===p)&&(b==="*"||V.localName==b)&&d.push(V)}),d})}},Ce.prototype.getElementsByTagName=Qe.prototype.getElementsByTagName,Ce.prototype.getElementsByTagNameNS=Qe.prototype.getElementsByTagNameNS,v(Qe,W);function nt(){}nt.prototype.nodeType=C,v(nt,W);function Je(){}Je.prototype={data:"",substringData:function(p,b){return this.data.substring(p,p+b)},appendData:function(p){p=this.data+p,this.nodeValue=this.data=p,this.length=p.length},insertData:function(p,b){this.replaceData(p,0,b)},appendChild:function(p){throw new Error(U[z])},deleteData:function(p,b){this.replaceData(p,b,"")},replaceData:function(p,b,P){var d=this.data.substring(0,p),V=this.data.substring(p+b);P=d+P+V,this.nodeValue=this.data=P,this.length=P.length}},v(Je,W);function kt(){}kt.prototype={nodeName:"#text",nodeType:S,splitText:function(p){var b=this.data,P=b.substring(p);b=b.substring(0,p),this.data=this.nodeValue=b,this.length=b.length;var d=this.ownerDocument.createTextNode(P);return this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling),d}},v(kt,Je);function rr(){}rr.prototype={nodeName:"#comment",nodeType:_},v(rr,Je);function Xt(){}Xt.prototype={nodeName:"#cdata-section",nodeType:j},v(Xt,Je);function Rt(){}Rt.prototype.nodeType=M,v(Rt,W);function At(){}At.prototype.nodeType=L,v(At,W);function Kt(){}Kt.prototype.nodeType=g,v(Kt,W);function It(){}It.prototype.nodeType=k,v(It,W);function Wt(){}Wt.prototype.nodeName="#document-fragment",Wt.prototype.nodeType=D,v(Wt,W);function Qt(){}Qt.prototype.nodeType=E,v(Qt,W);function Ie(){}Ie.prototype.serializeToString=function(p,b,P){return Pe.call(p,b,P)},W.prototype.toString=Pe;function Pe(p,b){var P=[],d=this.nodeType==9&&this.documentElement||this,V=d.prefix,Q=d.namespaceURI;if(Q&&V==null){var V=d.lookupPrefix(Q);if(V==null)var A=[{namespace:Q,prefix:null}]}return ue(this,P,p,b,A),P.join("")}function Xe(p,b,P){var d=p.prefix||"",V=p.namespaceURI;if(!V||d==="xml"&&V===n.XML||V===n.XMLNS)return!1;for(var Q=P.length;Q--;){var A=P[Q];if(A.prefix===d)return A.namespace!==V}return!0}function N(p,b,P){p.push(" ",b,'="',P.replace(/[<&"]/g,ne),'"')}function ue(p,b,P,d,V){if(V||(V=[]),d)if(p=d(p),p){if(typeof p=="string"){b.push(p);return}}else return;switch(p.nodeType){case w:var Q=p.attributes,A=Q.length,gt=p.firstChild,G=p.tagName;P=n.isHTML(p.namespaceURI)||P;var ie=G;if(!P&&!p.prefix&&p.namespaceURI){for(var je,Ne=0;Ne<Q.length;Ne++)if(Q.item(Ne).name==="xmlns"){je=Q.item(Ne).value;break}if(!je)for(var Fe=V.length-1;Fe>=0;Fe--){var it=V[Fe];if(it.prefix===""&&it.namespace===p.namespaceURI){je=it.namespace;break}}if(je!==p.namespaceURI)for(var Fe=V.length-1;Fe>=0;Fe--){var it=V[Fe];if(it.namespace===p.namespaceURI){it.prefix&&(ie=it.prefix+":"+G);break}}}b.push("<",ie);for(var Ft=0;Ft<A;Ft++){var mt=Q.item(Ft);mt.prefix=="xmlns"?V.push({prefix:mt.localName,namespace:mt.value}):mt.nodeName=="xmlns"&&V.push({prefix:"",namespace:mt.value})}for(var Ft=0;Ft<A;Ft++){var mt=Q.item(Ft);if(Xe(mt,P,V)){var ut=mt.prefix||"",Dt=mt.namespaceURI;N(b,ut?"xmlns:"+ut:"xmlns",Dt),V.push({prefix:ut,namespace:Dt})}ue(mt,b,P,d,V)}if(G===ie&&Xe(p,P,V)){var ut=p.prefix||"",Dt=p.namespaceURI;N(b,ut?"xmlns:"+ut:"xmlns",Dt),V.push({prefix:ut,namespace:Dt})}if(gt||P&&!/^(?:meta|link|img|br|hr|input)$/i.test(G)){if(b.push(">"),P&&/^script$/i.test(G))for(;gt;)gt.data?b.push(gt.data):ue(gt,b,P,d,V.slice()),gt=gt.nextSibling;else for(;gt;)ue(gt,b,P,d,V.slice()),gt=gt.nextSibling;b.push("</",ie,">")}else b.push("/>");return;case R:case D:for(var gt=p.firstChild;gt;)ue(gt,b,P,d,V.slice()),gt=gt.nextSibling;return;case C:return N(b,p.name,p.value);case S:return b.push(p.data.replace(/[<&]/g,ne).replace(/]]>/g,"]]&gt;"));case j:return b.push("<![CDATA[",p.data,"]]>");case _:return b.push("<!--",p.data,"-->");case M:var Gt=p.publicId,Yt=p.systemId;if(b.push("<!DOCTYPE ",p.name),Gt)b.push(" PUBLIC ",Gt),Yt&&Yt!="."&&b.push(" ",Yt),b.push(">");else if(Yt&&Yt!=".")b.push(" SYSTEM ",Yt,">");else{var Rr=p.internalSubset;Rr&&b.push(" [",Rr,"]"),b.push(">")}return;case E:return b.push("<?",p.target," ",p.data,"?>");case k:return b.push("&",p.nodeName,";");default:b.push("??",p.nodeName)}}function ye(p,b,P){var d;switch(b.nodeType){case w:d=b.cloneNode(!1),d.ownerDocument=p;case D:break;case C:P=!0;break}if(d||(d=b.cloneNode(!1)),d.ownerDocument=p,d.parentNode=null,P)for(var V=b.firstChild;V;)d.appendChild(ye(p,V,P)),V=V.nextSibling;return d}function _e(p,b,P){var d=new b.constructor;for(var V in b)if(Object.prototype.hasOwnProperty.call(b,V)){var Q=b[V];typeof Q!="object"&&Q!=d[V]&&(d[V]=Q)}switch(b.childNodes&&(d.childNodes=new oe),d.ownerDocument=p,d.nodeType){case w:var A=b.attributes,G=d.attributes=new Te,ie=A.length;G._ownerElement=d;for(var je=0;je<ie;je++)d.setAttributeNode(_e(p,A.item(je),!0));break;case C:P=!0}if(P)for(var Ne=b.firstChild;Ne;)d.appendChild(_e(p,Ne,P)),Ne=Ne.nextSibling;return d}function Y(p,b,P){p[b]=P}try{if(Object.defineProperty){let p=function(b){switch(b.nodeType){case w:case D:var P=[];for(b=b.firstChild;b;)b.nodeType!==7&&b.nodeType!==8&&P.push(p(b)),b=b.nextSibling;return P.join("");default:return b.nodeValue}};var fe=p;Object.defineProperty(xe.prototype,"length",{get:function(){return we(this),this.$$length}}),Object.defineProperty(W.prototype,"textContent",{get:function(){return p(this)},set:function(b){switch(this.nodeType){case w:case D:for(;this.firstChild;)this.removeChild(this.firstChild);(b||String(b))&&this.appendChild(this.ownerDocument.createTextNode(b));break;default:this.data=b,this.value=b,this.nodeValue=b}}}),Y=function(b,P,d){b["$$"+P]=d}}}catch{}return vn.DocumentType=Rt,vn.DOMException=$,vn.DOMImplementation=me,vn.Element=Qe,vn.Node=W,vn.NodeList=oe,vn.XMLSerializer=Ie,vn}var Ri={},lu={},pd;function h0(){return pd||(pd=1,(function(h){var t=Qa().freeze;h.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),h.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),h.entityMap=h.HTML_ENTITIES})(lu)),lu}var La={},md;function d0(){if(md)return La;md=1;var h=Qa().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+t.source+n.source+"*(?::"+t.source+n.source+"*)?$"),a=0,o=1,u=2,c=3,f=4,v=5,x=6,w=7;function C(z,q){this.message=z,this.locator=q,Error.captureStackTrace&&Error.captureStackTrace(this,C)}C.prototype=new Error,C.prototype.name=C.name;function S(){}S.prototype={parse:function(z,q,ae){var $=this.domBuilder;$.startDocument(),M(q,q={}),j(z,q,ae,$,this.errorHandler),$.endDocument()}};function j(z,q,ae,$,oe){function xe(Qe){if(Qe>65535){Qe-=65536;var nt=55296+(Qe>>10),Je=56320+(Qe&1023);return String.fromCharCode(nt,Je)}else return String.fromCharCode(Qe)}function we(Qe){var nt=Qe.slice(1,-1);return nt in ae?ae[nt]:nt.charAt(0)==="#"?xe(parseInt(nt.substr(1).replace("x","0x"))):(oe.error("entity not found:"+Qe),Qe)}function Te(Qe){if(Qe>Ce){var nt=z.substring(Ce,Qe).replace(/&#?\w+;/g,we);W&&ve(Ce),$.characters(nt,0,Qe-Ce),Ce=Qe}}function ve(Qe,nt){for(;Qe>=pe&&(nt=me.exec(z));)te=nt.index,pe=te+nt[0].length,W.lineNumber++;W.columnNumber=Qe-te+1}for(var te=0,pe=0,me=/.*(?:\r\n?|\n)|.*$/g,W=$.locator,ne=[{currentNSMap:q}],Le={},Ce=0;;){try{var Be=z.indexOf("<",Ce);if(Be<0){if(!z.substr(Ce).match(/^\s*$/)){var We=$.doc,Ge=We.createTextNode(z.substr(Ce));We.appendChild(Ge),$.currentElement=Ge}return}switch(Be>Ce&&Te(Be),z.charAt(Be+1)){case"/":var pt=z.indexOf(">",Be+3),ce=z.substring(Be+2,pt).replace(/[ \t\n\r]+$/g,""),ze=ne.pop();pt<0?(ce=z.substring(Be+2).replace(/[\s<].*/,""),oe.error("end tag name: "+ce+" is not complete:"+ze.tagName),pt=Be+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),oe.error("end tag name: "+ce+" maybe not complete"),pt=Be+1+ce.length);var qe=ze.localNSMap,Ve=ze.tagName==ce,ft=Ve||ze.tagName&&ze.tagName.toLowerCase()==ce.toLowerCase();if(ft){if($.endElement(ze.uri,ze.localName,ce),qe)for(var et in qe)Object.prototype.hasOwnProperty.call(qe,et)&&$.endPrefixMapping(et);Ve||oe.fatalError("end tag name: "+ce+" is not match the current start tagName:"+ze.tagName)}else ne.push(ze);pt++;break;case"?":W&&ve(Be),pt=L(z,Be,$);break;case"!":W&&ve(Be),pt=D(z,Be,$,oe);break;default:W&&ve(Be);var ot=new F,yt=ne[ne.length-1].currentNSMap,pt=g(z,Be,ot,yt,we,oe),ht=ot.length;if(!ot.closed&&R(z,pt,ot.tagName,Le)&&(ot.closed=!0,ae.nbsp||oe.warning("unclosed xml attribute")),W&&ht){for(var bt=k(W,{}),st=0;st<ht;st++){var lt=ot[st];ve(lt.offset),lt.locator=k(W,{})}$.locator=bt,E(ot,$,yt)&&ne.push(ot),$.locator=W}else E(ot,$,yt)&&ne.push(ot);h.isHTML(ot.uri)&&!ot.closed?pt=_(z,pt,ot.tagName,we,$):pt++}}catch(Qe){if(Qe instanceof C)throw Qe;oe.error("element parse error: "+Qe),pt=-1}pt>Ce?Ce=pt:Te(Math.max(Be,Ce)+1)}}function k(z,q){return q.lineNumber=z.lineNumber,q.columnNumber=z.columnNumber,q}function g(z,q,ae,$,oe,xe){function we(W,ne,Le){ae.attributeNames.hasOwnProperty(W)&&xe.fatalError("Attribute "+W+" redefined"),ae.addValue(W,ne,Le)}for(var Te,ve,te=++q,pe=a;;){var me=z.charAt(te);switch(me){case"=":if(pe===o)Te=z.slice(q,te),pe=c;else if(pe===u)pe=c;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(pe===c||pe===o)if(pe===o&&(xe.warning('attribute value must after "="'),Te=z.slice(q,te)),q=te+1,te=z.indexOf(me,q),te>0)ve=z.slice(q,te).replace(/&#?\w+;/g,oe),we(Te,ve,q-1),pe=v;else throw new Error("attribute value no end '"+me+"' match");else if(pe==f)ve=z.slice(q,te).replace(/&#?\w+;/g,oe),we(Te,ve,q),xe.warning('attribute "'+Te+'" missed start quot('+me+")!!"),q=te+1,pe=v;else throw new Error('attribute value must after "="');break;case"/":switch(pe){case a:ae.setTagName(z.slice(q,te));case v:case x:case w:pe=w,ae.closed=!0;case f:case o:break;case u:ae.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return xe.error("unexpected end of input"),pe==a&&ae.setTagName(z.slice(q,te)),te;case">":switch(pe){case a:ae.setTagName(z.slice(q,te));case v:case x:case w:break;case f:case o:ve=z.slice(q,te),ve.slice(-1)==="/"&&(ae.closed=!0,ve=ve.slice(0,-1));case u:pe===u&&(ve=Te),pe==f?(xe.warning('attribute "'+ve+'" missed quot(")!'),we(Te,ve.replace(/&#?\w+;/g,oe),q)):((!h.isHTML($[""])||!ve.match(/^(?:disabled|checked|selected)$/i))&&xe.warning('attribute "'+ve+'" missed value!! "'+ve+'" instead!!'),we(ve,ve,q));break;case c:throw new Error("attribute value missed!!")}return te;case"":me=" ";default:if(me<=" ")switch(pe){case a:ae.setTagName(z.slice(q,te)),pe=x;break;case o:Te=z.slice(q,te),pe=u;break;case f:var ve=z.slice(q,te).replace(/&#?\w+;/g,oe);xe.warning('attribute "'+ve+'" missed quot(")!!'),we(Te,ve,q);case v:pe=x;break}else switch(pe){case u:ae.tagName,(!h.isHTML($[""])||!Te.match(/^(?:disabled|checked|selected)$/i))&&xe.warning('attribute "'+Te+'" missed value!! "'+Te+'" instead2!!'),we(Te,Te,q),q=te,pe=o;break;case v:xe.warning('attribute space is required"'+Te+'"!!');case x:pe=o,q=te;break;case c:pe=f,q=te;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}te++}}function E(z,q,ae){for(var $=z.tagName,oe=null,me=z.length;me--;){var xe=z[me],we=xe.qName,Te=xe.value,W=we.indexOf(":");if(W>0)var ve=xe.prefix=we.slice(0,W),te=we.slice(W+1),pe=ve==="xmlns"&&te;else te=we,ve=null,pe=we==="xmlns"&&"";xe.localName=te,pe!==!1&&(oe==null&&(oe={},M(ae,ae={})),ae[pe]=oe[pe]=Te,xe.uri=h.XMLNS,q.startPrefixMapping(pe,Te))}for(var me=z.length;me--;){xe=z[me];var ve=xe.prefix;ve&&(ve==="xml"&&(xe.uri=h.XML),ve!=="xmlns"&&(xe.uri=ae[ve||""]))}var W=$.indexOf(":");W>0?(ve=z.prefix=$.slice(0,W),te=z.localName=$.slice(W+1)):(ve=null,te=z.localName=$);var ne=z.uri=ae[ve||""];if(q.startElement(ne,te,$,z),z.closed){if(q.endElement(ne,te,$),oe)for(ve in oe)Object.prototype.hasOwnProperty.call(oe,ve)&&q.endPrefixMapping(ve)}else return z.currentNSMap=ae,z.localNSMap=oe,!0}function _(z,q,ae,$,oe){if(/^(?:script|textarea)$/i.test(ae)){var xe=z.indexOf("</"+ae+">",q),we=z.substring(q+1,xe);if(/[&<]/.test(we))return/^script$/i.test(ae)?(oe.characters(we,0,we.length),xe):(we=we.replace(/&#?\w+;/g,$),oe.characters(we,0,we.length),xe)}return q+1}function R(z,q,ae,$){var oe=$[ae];return oe==null&&(oe=z.lastIndexOf("</"+ae+">"),oe<q&&(oe=z.lastIndexOf("</"+ae)),$[ae]=oe),oe<q}function M(z,q){for(var ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&(q[ae]=z[ae])}function D(z,q,ae,$){var oe=z.charAt(q+2);switch(oe){case"-":if(z.charAt(q+3)==="-"){var xe=z.indexOf("-->",q+4);return xe>q?(ae.comment(z,q+4,xe-q-4),xe+3):($.error("Unclosed comment"),-1)}else return-1;default:if(z.substr(q+3,6)=="CDATA["){var xe=z.indexOf("]]>",q+9);return ae.startCDATA(),ae.characters(z,q+9,xe-q-9),ae.endCDATA(),xe+3}var we=U(z,q),Te=we.length;if(Te>1&&/!doctype/i.test(we[0][0])){var ve=we[1][0],te=!1,pe=!1;Te>3&&(/^public$/i.test(we[2][0])?(te=we[3][0],pe=Te>4&&we[4][0]):/^system$/i.test(we[2][0])&&(pe=we[3][0]));var me=we[Te-1];return ae.startDTD(ve,te,pe),ae.endDTD(),me.index+me[0].length}}return-1}function L(z,q,ae){var $=z.indexOf("?>",q);if($){var oe=z.substring(q,$).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return oe?(oe[0].length,ae.processingInstruction(oe[1],oe[2]),$+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(z){if(!i.test(z))throw new Error("invalid tagName:"+z);this.tagName=z},addValue:function(z,q,ae){if(!i.test(z))throw new Error("invalid attribute:"+z);this.attributeNames[z]=this.length,this[this.length++]={qName:z,value:q,offset:ae}},length:0,getLocalName:function(z){return this[z].localName},getLocator:function(z){return this[z].locator},getQName:function(z){return this[z].qName},getURI:function(z){return this[z].uri},getValue:function(z){return this[z].value}};function U(z,q){var ae,$=[],oe=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(oe.lastIndex=q,oe.exec(z);ae=oe.exec(z);)if($.push(ae),ae[1])return $}return La.XMLReader=S,La.ParseError=C,La}var vd;function p0(){if(vd)return Ri;vd=1;var h=Qa(),t=hp(),n=h0(),i=d0(),a=t.DOMImplementation,o=h.NAMESPACE,u=i.ParseError,c=i.XMLReader;function f(k){this.options=k||{locator:{}}}f.prototype.parseFromString=function(k,g){var E=this.options,_=new c,R=E.domBuilder||new x,M=E.errorHandler,D=E.locator,L=E.xmlns||{},F=/\/x?html?$/.test(g),U=F?n.HTML_ENTITIES:n.XML_ENTITIES;return D&&R.setDocumentLocator(D),_.errorHandler=v(M,R,D),_.domBuilder=E.domBuilder||R,F&&(L[""]=o.HTML),L.xml=L.xml||o.XML,k&&typeof k=="string"?_.parse(k,L,U):_.errorHandler.error("invalid doc source"),R.doc};function v(k,g,E){if(!k){if(g instanceof x)return g;k=g}var _={},R=k instanceof Function;E=E||{};function M(D){var L=k[D];!L&&R&&(L=k.length==2?function(F){k(D,F)}:k),_[D]=L&&function(F){L("[xmldom "+D+"]	"+F+C(E))}||function(){}}return M("warning"),M("error"),M("fatalError"),_}function x(){this.cdata=!1}function w(k,g){g.lineNumber=k.lineNumber,g.columnNumber=k.columnNumber}x.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(k,g,E,_){var R=this.doc,M=R.createElementNS(k,E||g),D=_.length;j(this,M),this.currentElement=M,this.locator&&w(this.locator,M);for(var L=0;L<D;L++){var k=_.getURI(L),F=_.getValue(L),E=_.getQName(L),U=R.createAttributeNS(k,E);this.locator&&w(_.getLocator(L),U),U.value=U.nodeValue=F,M.setAttributeNode(U)}},endElement:function(k,g,E){var _=this.currentElement;_.tagName,this.currentElement=_.parentNode},startPrefixMapping:function(k,g){},endPrefixMapping:function(k){},processingInstruction:function(k,g){var E=this.doc.createProcessingInstruction(k,g);this.locator&&w(this.locator,E),j(this,E)},ignorableWhitespace:function(k,g,E){},characters:function(k,g,E){if(k=S.apply(this,arguments),k){if(this.cdata)var _=this.doc.createCDATASection(k);else var _=this.doc.createTextNode(k);this.currentElement?this.currentElement.appendChild(_):/^\s*$/.test(k)&&this.doc.appendChild(_),this.locator&&w(this.locator,_)}},skippedEntity:function(k){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(k){(this.locator=k)&&(k.lineNumber=0)},comment:function(k,g,E){k=S.apply(this,arguments);var _=this.doc.createComment(k);this.locator&&w(this.locator,_),j(this,_)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(k,g,E){var _=this.doc.implementation;if(_&&_.createDocumentType){var R=_.createDocumentType(k,g,E);this.locator&&w(this.locator,R),j(this,R),this.doc.doctype=R}},warning:function(k){console.warn("[xmldom warning]	"+k,C(this.locator))},error:function(k){console.error("[xmldom error]	"+k,C(this.locator))},fatalError:function(k){throw new u(k,this.locator)}};function C(k){if(k)return`
@`+(k.systemId||"")+"#[line:"+k.lineNumber+",col:"+k.columnNumber+"]"}function S(k,g,E){return typeof k=="string"?k.substr(g,E):k.length>=g+E||g?new java.lang.String(k,g,E)+"":k}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(k){x.prototype[k]=function(){return null}});function j(k,g){k.currentElement?k.currentElement.appendChild(g):k.doc.appendChild(g)}return Ri.__DOMHandler=x,Ri.DOMParser=f,Ri.DOMImplementation=t.DOMImplementation,Ri.XMLSerializer=t.XMLSerializer,Ri}var gd;function m0(){if(gd)return ws;gd=1;var h=hp();return ws.DOMImplementation=h.DOMImplementation,ws.XMLSerializer=h.XMLSerializer,ws.DOMParser=p0().DOMParser,ws}var dp=m0();const Zu=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,v0=1,g0=3,pp=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Ja(){var h=new Date().getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=(h+Math.random()*16)%16|0;return h=Math.floor(h/16),(n=="x"?i:i&7|8).toString(16)});return t}function y0(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function mp(h){return!!(h&&h.nodeType==1)}function Ht(h){return!isNaN(parseFloat(h))&&isFinite(h)}function vp(h){let t=parseFloat(h);return Ht(h)===!1?!1:typeof h=="string"&&h.indexOf(".")>-1?!0:Math.floor(t)!==t}function Li(h){var t=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=h.toLowerCase(),a=t.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return h;for(var o=0;o<a;o++)if(typeof document.body.style[n[o]+i]<"u")return n[o]+i;return h}function gp(h){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var a in i)h[a]===void 0&&(h[a]=i[a])}return h}function lr(h){var t=[].slice.call(arguments,1);return t.forEach(function(n){n&&Object.getOwnPropertyNames(n).forEach(function(i){Object.defineProperty(h,i,Object.getOwnPropertyDescriptor(n,i))})}),h}function w0(h,t,n){var i=zi(h,t,n);return t.splice(i,0,h),i}function zi(h,t,n,i,a){var o=i||0,u=a||t.length,c=parseInt(o+(u-o)/2),f;return n||(n=function(v,x){if(v>x)return 1;if(v<x)return-1;if(v==x)return 0}),u-o<=0?c:(f=n(t[c],h),u-o===1?f>=0?c:c+1:f===0?c:f===-1?zi(h,t,n,c,u):zi(h,t,n,o,c))}function Ma(h,t,n,i,a){var o=i||0,u=a||t.length,c=parseInt(o+(u-o)/2),f;return n||(n=function(v,x){if(v>x)return 1;if(v<x)return-1;if(v==x)return 0}),u-o<=0?-1:(f=n(t[c],h),u-o===1?f===0?c:-1:f===0?c:f===-1?Ma(h,t,n,c,u):Ma(h,t,n,o,c))}function Ba(h){var t=window.getComputedStyle(h),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,o=0;return n.forEach(function(u){a+=parseFloat(t[u])||0}),i.forEach(function(u){o+=parseFloat(t[u])||0}),{height:o,width:a}}function Ua(h){var t=window.getComputedStyle(h),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,o=0;return n.forEach(function(u){a+=parseFloat(t[u])||0}),i.forEach(function(u){o+=parseFloat(t[u])||0}),{height:o,width:a}}function zu(h){let t,n=h.ownerDocument;if(h.nodeType==Node.TEXT_NODE){let i=n.createRange();i.selectNodeContents(h),t=i.getBoundingClientRect()}else t=h.getBoundingClientRect();return t}function Wa(){var h=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:h,bottom:t,width:h,height:t}}function Xu(h,t){for(var n=h.parentNode,i=n.childNodes,a,o=-1,u=0;u<i.length&&(a=i[u],a.nodeType===t&&o++,a!=h);u++);return o}function x0(h){return Xu(h,g0)}function yp(h){return Xu(h,v0)}function Cs(h){return["xml","opf","ncx"].indexOf(h)>-1}function wp(h,t){return new Blob([h],{type:t})}function qa(h,t){var n,i=wp(h,t);return n=pp.createObjectURL(i),n}function xp(h){return pp.revokeObjectURL(h)}function ju(h,t){var n,i;if(typeof h=="string")return n=btoa(h),i="data:"+t+";base64,"+n,i}function _p(h){return Object.prototype.toString.call(h).slice(8,-1)}function nn(h,t,n){var i,a;return typeof DOMParser>"u"||n?a=dp.DOMParser:a=DOMParser,h.charCodeAt(0)===65279&&(h=h.slice(1)),i=new a().parseFromString(h,t),i}function Nt(h,t){var n;if(!h)throw new Error("No Element Provided");if(typeof h.querySelector<"u")return h.querySelector(t);if(n=h.getElementsByTagName(t),n.length)return n[0]}function gn(h,t){return typeof h.querySelector<"u"?h.querySelectorAll(t):h.getElementsByTagName(t)}function Pi(h,t,n){var i,a;if(typeof h.querySelector<"u"){t+="[";for(var o in n)t+=o+"~='"+n[o]+"'";return t+="]",h.querySelector(t)}else if(i=h.getElementsByTagName(t),a=Array.prototype.slice.call(i,0).filter(function(u){for(var c in n)if(u.getAttribute(c)===n[c])return!0;return!1}),a)return a[0]}function Va(h,t){var n=h.ownerDocument||h;typeof n.createTreeWalker<"u"?Ep(h,t,NodeFilter.SHOW_TEXT):$u(h,function(i){i&&i.nodeType===3&&t(i)})}function Ep(h,t,n){var i=document.createTreeWalker(h,n,null,!1);let a;for(;a=i.nextNode();)t(a)}function $u(h,t){if(t(h))return!0;if(h=h.firstChild,h)do{if($u(h,t))return!0;h=h.nextSibling}while(h)}function bp(h){return new Promise(function(t,n){var i=new FileReader;i.readAsDataURL(h),i.onloadend=function(){t(i.result)}})}function wt(){this.resolve=null,this.reject=null,this.id=Ja(),this.promise=new Promise((h,t)=>{this.resolve=h,this.reject=t}),Object.freeze(this)}function Ha(h,t,n){var i;if(typeof h.querySelector<"u"&&(i=h.querySelector(`${t}[*|type="${n}"]`)),!i||i.length===0){i=gn(h,t);for(var a=0;a<i.length;a++)if(i[a].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||i[a].getAttribute("epub:type")===n)return i[a]}else return i}function Mu(h){for(var t=[],n=h.childNodes,i=0;i<n.length;i++){let a=n[i];a.nodeType===1&&t.push(a)}return t}function Uu(h){for(var t=[h];h;h=h.parentNode)t.unshift(h);return t}function Bi(h,t,n){for(var i=[],a=h.childNodes,o=0;o<a.length;o++){let u=a[o];if(u.nodeType===1&&u.nodeName.toLowerCase()===t){if(n)return u;i.push(u)}}if(!n)return i}function _0(h,t){let n;if(!(h===null||t===""))for(n=h.parentNode;n.nodeType===1;){if(n.tagName.toLowerCase()===t)return n;n=n.parentNode}}class Sp{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(t,n){this.startContainer=t,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(t,n){this.endContainer=t,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(t){this.collapsed=!0,t?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(t){let n=t.parentNode,i=Array.prototype.indexOf.call(n.childNodes,t);this.setStart(n,i),this.setEnd(n,i+1)}selectNodeContents(t){t.childNodes[t.childNodes-1];let n=t.nodeType===3?t.textContent.length:parent.childNodes.length;this.setStart(t,0),this.setEnd(t,n)}_commonAncestorContainer(t,n){var i=Uu(t||this.startContainer),a=Uu(n||this.endContainer);if(i[0]==a[0]){for(var o=0;o<i.length;o++)if(i[o]!=a[o])return i[o-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const E0=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Sp,blob2base64:bp,borders:Ua,bounds:Ba,createBase64Url:ju,createBlob:wp,createBlobUrl:qa,defaults:gp,defer:wt,documentHeight:y0,extend:lr,filterChildren:Bi,findChildren:Mu,getParentByTagName:_0,indexOfElementNode:yp,indexOfNode:Xu,indexOfSorted:Ma,indexOfTextNode:x0,insert:w0,isElement:mp,isFloat:vp,isNumber:Ht,isXml:Cs,locationOf:zi,nodeBounds:zu,parents:Uu,parse:nn,prefixed:Li,qs:Nt,qsa:gn,qsp:Pi,querySelectorByType:Ha,requestAnimationFrame:Zu,revokeBlobUrl:xp,sprint:Va,treeWalker:Ep,type:_p,uuid:Ja,walk:$u,windowBounds:Wa},Symbol.toStringTag,{value:"Module"}));var uu,yd;function b0(){if(yd)return uu;if(yd=1,!h)var h={cwd:function(){return"/"}};function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+o)}function n(o,u){for(var c="",f=-1,v=0,x,w=0;w<=o.length;++w){if(w<o.length)x=o.charCodeAt(w);else{if(x===47)break;x=47}if(x===47){if(!(f===w-1||v===1))if(f!==w-1&&v===2){if(c.length<2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){for(var C=c.length-1,S=C;S>=0&&c.charCodeAt(S)!==47;--S);if(S!==C){S===-1?c="":c=c.slice(0,S),f=w,v=0;continue}}else if(c.length===2||c.length===1){c="",f=w,v=0;continue}}u&&(c.length>0?c+="/..":c="..")}else c.length>0?c+="/"+o.slice(f+1,w):c=o.slice(f+1,w);f=w,v=0}else x===46&&v!==-1?++v:v=-1}return c}function i(o,u){var c=u.dir||u.root,f=u.base||(u.name||"")+(u.ext||"");return c?c===u.root?c+f:c+o+f:f}var a={resolve:function(){for(var u="",c=!1,f,v=arguments.length-1;v>=-1&&!c;v--){var x;v>=0?x=arguments[v]:(f===void 0&&(f=h.cwd()),x=f),t(x),x.length!==0&&(u=x+"/"+u,c=x.charCodeAt(0)===47)}return u=n(u,!c),c?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(u){if(t(u),u.length===0)return".";var c=u.charCodeAt(0)===47,f=u.charCodeAt(u.length-1)===47;return u=n(u,!c),u.length===0&&!c&&(u="."),u.length>0&&f&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return t(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var f=arguments[c];t(f),f.length>0&&(u===void 0?u=f:u+="/"+f)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(t(u),t(c),u===c||(u=a.resolve(u),c=a.resolve(c),u===c))return"";for(var f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var v=u.length,x=v-f,w=1;w<c.length&&c.charCodeAt(w)===47;++w);for(var C=c.length,S=C-w,j=x<S?x:S,k=-1,g=0;g<=j;++g){if(g===j){if(S>j){if(c.charCodeAt(w+g)===47)return c.slice(w+g+1);if(g===0)return c.slice(w+g)}else x>j&&(u.charCodeAt(f+g)===47?k=g:g===0&&(k=0));break}var E=u.charCodeAt(f+g),_=c.charCodeAt(w+g);if(E!==_)break;E===47&&(k=g)}var R="";for(g=f+k+1;g<=v;++g)(g===v||u.charCodeAt(g)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+c.slice(w+k):(w+=k,c.charCodeAt(w)===47&&++w,c.slice(w))},_makeLong:function(u){return u},dirname:function(u){if(t(u),u.length===0)return".";for(var c=u.charCodeAt(0),f=c===47,v=-1,x=!0,w=u.length-1;w>=1;--w)if(c=u.charCodeAt(w),c===47){if(!x){v=w;break}}else x=!1;return v===-1?f?"/":".":f&&v===1?"//":u.slice(0,v)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');t(u);var f=0,v=-1,x=!0,w;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var C=c.length-1,S=-1;for(w=u.length-1;w>=0;--w){var j=u.charCodeAt(w);if(j===47){if(!x){f=w+1;break}}else S===-1&&(x=!1,S=w+1),C>=0&&(j===c.charCodeAt(C)?--C===-1&&(v=w):(C=-1,v=S))}return f===v?v=S:v===-1&&(v=u.length),u.slice(f,v)}else{for(w=u.length-1;w>=0;--w)if(u.charCodeAt(w)===47){if(!x){f=w+1;break}}else v===-1&&(x=!1,v=w+1);return v===-1?"":u.slice(f,v)}},extname:function(u){t(u);for(var c=-1,f=0,v=-1,x=!0,w=0,C=u.length-1;C>=0;--C){var S=u.charCodeAt(C);if(S===47){if(!x){f=C+1;break}continue}v===-1&&(x=!1,v=C+1),S===46?c===-1?c=C:w!==1&&(w=1):c!==-1&&(w=-1)}return c===-1||v===-1||w===0||w===1&&c===v-1&&c===f+1?"":u.slice(c,v)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof u);return i("/",u)},parse:function(u){t(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var f=u.charCodeAt(0),v=f===47,x;v?(c.root="/",x=1):x=0;for(var w=-1,C=0,S=-1,j=!0,k=u.length-1,g=0;k>=x;--k){if(f=u.charCodeAt(k),f===47){if(!j){C=k+1;break}continue}S===-1&&(j=!1,S=k+1),f===46?w===-1?w=k:g!==1&&(g=1):w!==-1&&(g=-1)}return w===-1||S===-1||g===0||g===1&&w===S-1&&w===C+1?S!==-1&&(C===0&&v?c.base=c.name=u.slice(1,S):c.base=c.name=u.slice(C,S)):(C===0&&v?(c.name=u.slice(1,w),c.base=u.slice(1,S)):(c.name=u.slice(C,w),c.base=u.slice(C,S)),c.ext=u.slice(w,S)),C>0?c.dir=u.slice(0,C-1):v&&(c.dir="/"),c},sep:"/",delimiter:":",posix:null};return uu=a,uu}var S0=b0();const zn=Mn(S0);class yn{constructor(t){var n,i;n=t.indexOf("://"),n>-1&&(t=new URL(t).pathname),i=this.parse(t),this.path=t,this.isDirectory(t)?this.directory=t:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(t){return zn.parse(t)}isAbsolute(t){return zn.isAbsolute(t||this.path)}isDirectory(t){return t.charAt(t.length-1)==="/"}resolve(t){return zn.resolve(this.directory,t)}relative(t){var n=t&&t.indexOf("://")>-1;return n?t:zn.relative(this.directory,t)}splitPath(t){return this.splitPathRe.exec(t).slice(1)}toString(){return this.path}}class Xr{constructor(t,n){var i=t.indexOf("://")>-1,a=t,o;if(this.Url=void 0,this.href=t,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!i&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(t,this.base):this.Url=new URL(t),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,a=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(o=new yn(this.base),a=o.resolve(a))}this.Path=new yn(a),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(t){var n=t.indexOf("://")>-1,i;return n?t:(i=zn.resolve(this.directory,t),this.origin+i)}relative(t){return zn.relative(t,this.directory)}toString(){return this.href}}const Ii=1,zr=3,C0=9;class xt{constructor(t,n,i){var a;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof xt))return new xt(t,n,i);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),a=this.checkType(t),a==="string")return this.str=t,lr(this,this.parse(t));if(a==="range")return lr(this,this.fromRange(t,this.base,i));if(a==="node")return lr(this,this.fromNode(t,this.base,i));if(a==="EpubCFI"&&t.path)return t;if(t)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(t){return this.isCfiString(t)?"string":t&&typeof t=="object"&&(_p(t)==="Range"||typeof t.startContainer<"u")?"range":t&&typeof t=="object"&&typeof t.nodeType<"u"?"node":t&&typeof t=="object"&&t instanceof xt?"EpubCFI":!1}parse(t){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,a,o;return typeof t!="string"?{spinePos:-1}:(t.indexOf("epubcfi(")===0&&t[t.length-1]===")"&&(t=t.slice(8,t.length-1)),i=this.getChapterComponent(t),i?(n.base=this.parseComponent(i),a=this.getPathComponent(t),n.path=this.parseComponent(a),o=this.getRange(t),o&&(n.range=!0,n.start=this.parseComponent(o[0]),n.end=this.parseComponent(o[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(t){var n={steps:[],terminal:{offset:null,assertion:null}},i=t.split(":"),a=i[0].split("/"),o;return i.length>1&&(o=i[1],n.terminal=this.parseTerminal(o)),a[0]===""&&a.shift(),n.steps=a.map((function(u){return this.parseStep(u)}).bind(this)),n}parseStep(t){var n,i,a,o,u;if(o=t.match(/\[(.*)\]/),o&&o[1]&&(u=o[1]),i=parseInt(t),!isNaN(i))return i%2===0?(n="element",a=i/2-1):(n="text",a=(i-1)/2),{type:n,index:a,id:u||null}}parseTerminal(t){var n,i,a=t.match(/\[(.*)\]/);return a&&a[1]?(n=parseInt(t.split("[")[0]),i=a[1]):n=parseInt(t),Ht(n)||(n=null),{offset:n,assertion:i}}getChapterComponent(t){var n=t.split("!");return n[0]}getPathComponent(t){var n=t.split("!");if(n[1])return n[1].split(",")[0]}getRange(t){var n=t.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(t){var n=t.split(":");return n[1]||""}joinSteps(t){return t?t.map(function(n){var i="";return n.type==="element"&&(i+=(n.index+1)*2),n.type==="text"&&(i+=1+2*n.index),n.id&&(i+="["+n.id+"]"),i}).join("/"):""}segmentString(t){var n="/";return n+=this.joinSteps(t.steps),t.terminal&&t.terminal.offset!=null&&(n+=":"+t.terminal.offset),t.terminal&&t.terminal.assertion!=null&&(n+="["+t.terminal.assertion+"]"),n}toString(){var t="epubcfi(";return t+=this.segmentString(this.base),t+="!",t+=this.segmentString(this.path),this.range&&this.start&&(t+=",",t+=this.segmentString(this.start)),this.range&&this.end&&(t+=",",t+=this.segmentString(this.end)),t+=")",t}compare(t,n){var i,a,o,u;if(typeof t=="string"&&(t=new xt(t)),typeof n=="string"&&(n=new xt(n)),t.spinePos>n.spinePos)return 1;if(t.spinePos<n.spinePos)return-1;t.range?(i=t.path.steps.concat(t.start.steps),o=t.start.terminal):(i=t.path.steps,o=t.path.terminal),n.range?(a=n.path.steps.concat(n.start.steps),u=n.start.terminal):(a=n.path.steps,u=n.path.terminal);for(var c=0;c<i.length;c++){if(!i[c])return-1;if(!a[c]||i[c].index>a[c].index)return 1;if(i[c].index<a[c].index)return-1}return i.length<a.length?-1:o.offset>u.offset?1:o.offset<u.offset?-1:0}step(t){var n=t.nodeType===zr?"text":"element";return{id:t.id,tagName:t.tagName,type:n,index:this.position(t)}}filteredStep(t,n){var i=this.filter(t,n),a;if(i)return a=i.nodeType===zr?"text":"element",{id:i.id,tagName:i.tagName,type:a,index:this.filteredPosition(i,n)}}pathTo(t,n,i){for(var a={steps:[],terminal:{offset:null,assertion:null}},o=t,u;o&&o.parentNode&&o.parentNode.nodeType!=C0;)i?u=this.filteredStep(o,i):u=this.step(o),u&&a.steps.unshift(u),o=o.parentNode;return n!=null&&n>=0&&(a.terminal.offset=n,a.steps[a.steps.length-1].type!="text"&&a.steps.push({type:"text",index:0})),a}equalStep(t,n){return!t||!n?!1:t.index===n.index&&t.id===n.id&&t.type===n.type}fromRange(t,n,i){var a={range:!1,base:{},path:{},start:null,end:null},o=t.startContainer,u=t.endContainer,c=t.startOffset,f=t.endOffset,v=!1;if(i&&(v=o.ownerDocument.querySelector("."+i)!=null),typeof n=="string"?(a.base=this.parseComponent(n),a.spinePos=a.base.steps[1].index):typeof n=="object"&&(a.base=n),t.collapsed)v&&(c=this.patchOffset(o,c,i)),a.path=this.pathTo(o,c,i);else{a.range=!0,v&&(c=this.patchOffset(o,c,i)),a.start=this.pathTo(o,c,i),v&&(f=this.patchOffset(u,f,i)),a.end=this.pathTo(u,f,i),a.path={steps:[],terminal:null};var x=a.start.steps.length,w;for(w=0;w<x&&this.equalStep(a.start.steps[w],a.end.steps[w]);w++)w===x-1?a.start.terminal===a.end.terminal&&(a.path.steps.push(a.start.steps[w]),a.range=!1):a.path.steps.push(a.start.steps[w]);a.start.steps=a.start.steps.slice(a.path.steps.length),a.end.steps=a.end.steps.slice(a.path.steps.length)}return a}fromNode(t,n,i){var a={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(a.base=this.parseComponent(n),a.spinePos=a.base.steps[1].index):typeof n=="object"&&(a.base=n),a.path=this.pathTo(t,null,i),a}filter(t,n){var i,a,o,u,c,f=!1;return t.nodeType===zr?(f=!0,o=t.parentNode,i=t.parentNode.classList.contains(n)):(f=!1,i=t.classList.contains(n)),i&&f?(u=o.previousSibling,c=o.nextSibling,u&&u.nodeType===zr?a=u:c&&c.nodeType===zr&&(a=c),a||t):i&&!f?!1:t}patchOffset(t,n,i){if(t.nodeType!=zr)throw new Error("Anchor must be a text node");var a=t,o=n;for(t.parentNode.classList.contains(i)&&(a=t.parentNode);a.previousSibling;){if(a.previousSibling.nodeType===Ii)if(a.previousSibling.classList.contains(i))o+=a.previousSibling.textContent.length;else break;else o+=a.previousSibling.textContent.length;a=a.previousSibling}return o}normalizedMap(t,n,i){var a={},o=-1,u,c=t.length,f,v;for(u=0;u<c;u++)f=t[u].nodeType,f===Ii&&t[u].classList.contains(i)&&(f=zr),u>0&&f===zr&&v===zr?a[u]=o:n===f&&(o=o+1,a[u]=o),v=f;return a}position(t){var n,i;return t.nodeType===Ii?(n=t.parentNode.children,n||(n=Mu(t.parentNode)),i=Array.prototype.indexOf.call(n,t)):(n=this.textNodes(t.parentNode),i=n.indexOf(t)),i}filteredPosition(t,n){var i,a,o;return t.nodeType===Ii?(i=t.parentNode.children,o=this.normalizedMap(i,Ii,n)):(i=t.parentNode.childNodes,t.parentNode.classList.contains(n)&&(t=t.parentNode,i=t.parentNode.childNodes),o=this.normalizedMap(i,zr,n)),a=Array.prototype.indexOf.call(i,t),o[a]}stepsToXpath(t){var n=[".","*"];return t.forEach(function(i){var a=i.index+1;i.id?n.push("*[position()="+a+" and @id='"+i.id+"']"):i.type==="text"?n.push("text()["+a+"]"):n.push("*["+a+"]")}),n.join("/")}stepsToQuerySelector(t){var n=["html"];return t.forEach(function(i){var a=i.index+1;i.id?n.push("#"+i.id):i.type==="text"||n.push("*:nth-child("+a+")")}),n.join(">")}textNodes(t,n){return Array.prototype.slice.call(t.childNodes).filter(function(i){return i.nodeType===zr?!0:!!(n&&i.classList.contains(n))})}walkToNode(t,n,i){var a=n||document,o=a.documentElement,u,c,f=t.length,v;for(v=0;v<f&&(c=t[v],c.type==="element"?c.id?o=a.getElementById(c.id):(u=o.children||Mu(o),o=u[c.index]):c.type==="text"&&(o=this.textNodes(o,i)[c.index]),!!o);v++);return o}findNode(t,n,i){var a=n||document,o,u;return!i&&typeof a.evaluate<"u"?(u=this.stepsToXpath(t),o=a.evaluate(u,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?o=this.walkToNode(t,a,i):o=this.walkToNode(t,a),o}fixMiss(t,n,i,a){var o=this.findNode(t.slice(0,-1),i,a),u=o.childNodes,c=this.normalizedMap(u,zr,a),f,v,x=t[t.length-1].index;for(let w in c){if(!c.hasOwnProperty(w))return;if(c[w]===x)if(f=u[w],v=f.textContent.length,n>v)n=n-v;else{f.nodeType===Ii?o=f.childNodes[0]:o=f;break}}return{container:o,offset:n}}toRange(t,n){var i=t||document,a,o,u,c,f,v=this,x,w,C=n?i.querySelector("."+n)!=null:!1,S;if(typeof i.createRange<"u"?a=i.createRange():a=new Sp,v.range?(o=v.start,x=v.path.steps.concat(o.steps),c=this.findNode(x,i,C?n:null),u=v.end,w=v.path.steps.concat(u.steps),f=this.findNode(w,i,C?n:null)):(o=v.path,x=v.path.steps,c=this.findNode(v.path.steps,i,C?n:null)),c)try{o.terminal.offset!=null?a.setStart(c,o.terminal.offset):a.setStart(c,0)}catch{S=this.fixMiss(x,o.terminal.offset,i,C?n:null),a.setStart(S.container,S.offset)}else return console.log("No startContainer found for",this.toString()),null;if(f)try{u.terminal.offset!=null?a.setEnd(f,u.terminal.offset):a.setEnd(f,0)}catch{S=this.fixMiss(w,v.end.terminal.offset,i,C?n:null),a.setEnd(S.container,S.offset)}return a}isCfiString(t){return typeof t=="string"&&t.indexOf("epubcfi(")===0&&t[t.length-1]===")"}generateChapterComponent(t,n,i){var a=parseInt(n),o=(t+1)*2,u="/"+o+"/";return u+=(a+1)*2,i&&(u+="["+i+"]"),u}collapse(t){this.range&&(this.range=!1,t?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class $r{constructor(t){this.context=t||this,this.hooks=[]}register(){for(var t=0;t<arguments.length;++t)if(typeof arguments[t]=="function")this.hooks.push(arguments[t]);else for(var n=0;n<arguments[t].length;++n)this.hooks.push(arguments[t][n])}deregister(t){let n;for(let i=0;i<this.hooks.length;i++)if(n=this.hooks[i],n===t){this.hooks.splice(i,1);break}}trigger(){var t=arguments,n=this.context,i=[];return this.hooks.forEach(function(a){try{var o=a.apply(n,t)}catch(u){console.log(u)}o&&typeof o.then=="function"&&i.push(o)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function Cp(h,t){var n,i,a=t.url,o=a.indexOf("://")>-1;h&&(i=Nt(h,"head"),n=Nt(i,"base"),n||(n=h.createElement("base"),i.insertBefore(n,i.firstChild)),!o&&window&&window.location&&(a=window.location.origin+a),n.setAttribute("href",a))}function D0(h,t){var n,i,a=t.canonical;h&&(n=Nt(h,"head"),i=Nt(n,"link[rel='canonical']"),i?i.setAttribute("href",a):(i=h.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",a),n.appendChild(i)))}function k0(h,t){var n,i,a=t.idref;h&&(n=Nt(h,"head"),i=Nt(n,"link[property='dc.identifier']"),i?i.setAttribute("content",a):(i=h.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",a),n.appendChild(i)))}function A0(h,t){var n=h.querySelectorAll("a[href]");if(n.length)for(var i=Nt(h.ownerDocument,"base"),a=i?i.getAttribute("href"):void 0,o=(function(c){var f=c.getAttribute("href");if(f.indexOf("mailto:")!==0){var v=f.indexOf("://")>-1;if(v)c.setAttribute("target","_blank");else{var x;try{x=new Xr(f,a)}catch{}c.onclick=function(){return x&&x.hash?t(x.Path.path+x.hash):t(x?x.Path.path:f),!1}}}}).bind(this),u=0;u<n.length;u++)o(n[u])}function wd(h,t,n){return t.forEach(function(i,a){i&&n[a]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=h.replace(new RegExp(i,"g"),n[a]))}),h}function Ds(h,t,n,i){var a=typeof window<"u"?window.URL:!1,o=a?"blob":"arraybuffer",u=new wt,c=new XMLHttpRequest,f=XMLHttpRequest.prototype,v;"overrideMimeType"in f||Object.defineProperty(f,"overrideMimeType",{value:function(){}}),n&&(c.withCredentials=!0),c.onreadystatechange=w,c.onerror=x,c.open("GET",h,!0);for(v in i)c.setRequestHeader(v,i[v]);t=="json"&&c.setRequestHeader("Accept","application/json"),t||(t=new yn(h).extension),t=="blob"&&(c.responseType=o),Cs(t)&&c.overrideMimeType("text/xml"),t=="binary"&&(c.responseType="arraybuffer"),c.send();function x(C){u.reject(C)}function w(){if(this.readyState===XMLHttpRequest.DONE){var C=!1;if((this.responseType===""||this.responseType==="document")&&(C=this.responseXML),this.status===200||this.status===0||C){var S;if(!this.response&&!C)return u.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),u.promise;if(this.status===403)return u.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),u.promise;C?S=this.responseXML:Cs(t)?S=nn(this.response,"text/xml"):t=="xhtml"?S=nn(this.response,"application/xhtml+xml"):t=="html"||t=="htm"?S=nn(this.response,"text/html"):t=="json"?S=JSON.parse(this.response):t=="blob"?a?S=this.response:S=new Blob([this.response]):S=this.response,u.resolve(S)}else u.reject({status:this.status,message:this.response,stack:new Error().stack})}}return u.promise}class T0{constructor(t,n){this.idref=t.idref,this.linear=t.linear==="yes",this.properties=t.properties,this.index=t.index,this.href=t.href,this.url=t.url,this.canonical=t.canonical,this.next=t.next,this.prev=t.prev,this.cfiBase=t.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new $r(this),this.hooks.content=new $r(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(t){var n=t||this.request||Ds,i=new wt,a=i.promise;return this.contents?i.resolve(this.contents):n(this.url).then((function(o){return this.document=o,this.contents=o.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(o){i.reject(o)}),a}base(){return Cp(this.document,this)}render(t){var n=new wt,i=n.promise;return this.output,this.load(t).then((function(a){var o=typeof navigator<"u"&&navigator.userAgent||"",u=o.indexOf("Trident")>=0,c;typeof XMLSerializer>"u"||u?c=dp.DOMParser:c=XMLSerializer;var f=new c;return this.output=f.serializeToString(a),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){n.resolve(this.output)}).bind(this)).catch(function(a){n.reject(a)}),i}find(t){var n=this,i=[],a=t.toLowerCase(),o=function(u){for(var c=u.textContent.toLowerCase(),f=n.document.createRange(),v,x,w=-1,C,S=150;x!=-1;)x=c.indexOf(a,w+1),x!=-1&&(f=n.document.createRange(),f.setStart(u,x),f.setEnd(u,x+a.length),v=n.cfiFromRange(f),u.textContent.length<S?C=u.textContent:(C=u.textContent.substring(x-S/2,x+S/2),C="..."+C+"..."),i.push({cfi:v,excerpt:C})),w=x};return Va(n.document,function(u){o(u)}),i}search(t,n=5){if(typeof document.createTreeWalker>"u")return this.find(t);let i=[];const a=150,o=this,u=t.toLowerCase(),c=function(w){const j=w.reduce((k,g)=>k+g.textContent,"").toLowerCase().indexOf(u);if(j!=-1){const g=j+u.length;let E=0,_=0;if(j<w[0].length){let R;for(;E<w.length-1&&(_+=w[E].length,!(g<=_));)E+=1;let M=w[0],D=w[E],L=o.document.createRange();L.setStart(M,j);let F=w.slice(0,E).reduce((z,q)=>z+q.textContent.length,0);L.setEnd(D,F>g?g:g-F),R=o.cfiFromRange(L);let U=w.slice(0,E+1).reduce((z,q)=>z+q.textContent,"");U.length>a&&(U=U.substring(j-a/2,j+a/2),U="..."+U+"..."),i.push({cfi:R,excerpt:U})}}},f=document.createTreeWalker(o.document,NodeFilter.SHOW_TEXT,null,!1);let v,x=[];for(;v=f.nextNode();)x.push(v),x.length==n&&(c(x.slice(0,n)),x=x.slice(1,n));return x.length>0&&c(x),i}reconcileLayoutSettings(t){var n={layout:t.layout,spread:t.spread,orientation:t.orientation};return this.properties.forEach(function(i){var a=i.replace("rendition:",""),o=a.indexOf("-"),u,c;o!=-1&&(u=a.slice(0,o),c=a.slice(o+1),n[u]=c)}),n}cfiFromRange(t){return new xt(t,this.cfiBase).toString()}cfiFromElement(t){return new xt(t,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class N0{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new $r,this.hooks.content=new $r,this.hooks.content.register(Cp),this.hooks.content.register(D0),this.hooks.content.register(k0),this.epubcfi=new xt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(t,n,i){this.items=t.spine,this.manifest=t.manifest,this.spineNodeIndex=t.spineNodeIndex,this.baseUrl=t.baseUrl||t.basePath||"",this.length=this.items.length,this.items.forEach((a,o)=>{var u=this.manifest[a.idref],c;a.index=o,a.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,a.index,a.id),a.href&&(a.url=n(a.href,!0),a.canonical=i(a.href)),u&&(a.href=u.href,a.url=n(a.href,!0),a.canonical=i(a.href),u.properties.length&&a.properties.push.apply(a.properties,u.properties)),a.linear==="yes"?(a.prev=(function(){let f=a.index;for(;f>0;){let v=this.get(f-1);if(v&&v.linear)return v;f-=1}}).bind(this),a.next=(function(){let f=a.index;for(;f<this.spineItems.length-1;){let v=this.get(f+1);if(v&&v.linear)return v;f+=1}}).bind(this)):(a.prev=function(){},a.next=function(){}),c=new T0(a,this.hooks),this.append(c)}),this.loaded=!0}get(t){var n=0;if(typeof t>"u")for(;n<this.spineItems.length;){let i=this.spineItems[n];if(i&&i.linear)break;n+=1}else this.epubcfi.isCfiString(t)?n=new xt(t).spinePos:typeof t=="number"||isNaN(t)===!1?n=t:typeof t=="string"&&t.indexOf("#")===0?n=this.spineById[t.substring(1)]:typeof t=="string"&&(t=t.split("#")[0],n=this.spineByHref[t]||this.spineByHref[encodeURI(t)]);return this.spineItems[n]||null}append(t){var n=this.spineItems.length;return t.index=n,this.spineItems.push(t),this.spineByHref[decodeURI(t.href)]=n,this.spineByHref[encodeURI(t.href)]=n,this.spineByHref[t.href]=n,this.spineById[t.idref]=n,n}prepend(t){return this.spineByHref[t.href]=0,this.spineById[t.idref]=0,this.spineItems.forEach(function(n,i){n.index=i}),0}remove(t){var n=this.spineItems.indexOf(t);if(n>-1)return delete this.spineByHref[t.href],delete this.spineById[t.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let t=0;do{let n=this.get(t);if(n&&n.linear)return n;t+=1}while(t<this.spineItems.length)}last(){let t=this.spineItems.length-1;do{let n=this.get(t);if(n&&n.linear)return n;t-=1}while(t>=0)}destroy(){this.each(t=>t.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Ku{constructor(t){this._q=[],this.context=t,this.tick=Zu,this.running=!1,this.paused=!1}enqueue(){var t,n,i,a=[].shift.call(arguments),o=arguments;if(!a)throw new Error("No Task Provided");return typeof a=="function"?(t=new wt,n=t.promise,i={task:a,args:o,deferred:t,promise:n}):i={promise:a},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var t,n,i;if(this._q.length&&!this.paused){if(t=this._q.shift(),n=t.task,n)return i=n.apply(this.context,t.args),i&&typeof i.then=="function"?i.then((function(){t.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){t.deferred.reject.apply(this.context,arguments)}).bind(this)):(t.deferred.resolve.apply(this.context,i),t.promise);if(t.promise)return t.promise}else return t=new wt,t.deferred.resolve(),t.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new wt),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const eo="0.3",Fa=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Me={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Dp{constructor(t,n,i){this.spine=t,this.request=n,this.pause=i||100,this.q=new Ku(this),this.epubcfi=new xt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(t){return t&&(this.break=t),this.q.pause(),this.spine.each((function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(t){return t.load(this.request).then((function(n){var i=new wt,a=this.parse(n,t.cfiBase);return this._locations=this._locations.concat(a),t.unload(),this.processingTimeout=setTimeout(()=>i.resolve(a),this.pause),i.promise}).bind(this))}parse(t,n,i){var a=[],o,u=t.ownerDocument,c=Nt(u,"body"),f=0,v,x=i||this.break,w=function(C){var S=C.length,j,k=0;if(C.textContent.trim().length===0)return!1;for(f==0&&(o=this.createRange(),o.startContainer=C,o.startOffset=0),j=x-f,j>S&&(f+=S,k=S);k<S;)if(j=x-f,f===0&&(k+=1,o=this.createRange(),o.startContainer=C,o.startOffset=k),k+j>=S)f+=S-k,k=S;else{k+=j,o.endContainer=C,o.endOffset=k;let g=new xt(o,n).toString();a.push(g),f=0}v=C};if(Va(c,w.bind(this)),o&&o.startContainer&&v){o.endContainer=v,o.endOffset=v.length;let C=new xt(o,n).toString();a.push(C),f=0}return a}generateFromWords(t,n,i){var a=t?new xt(t):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(o){o.linear&&(a?o.index>=a.spinePos&&this.q.enqueue(this.processWords.bind(this),o,n,a,i):this.q.enqueue(this.processWords.bind(this),o,n,a,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(t,n,i,a){return a&&this._locationsWords.length>=a?Promise.resolve():t.load(this.request).then((function(o){var u=new wt,c=this.parseWords(o,t,n,i),f=a-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(c.length>=a?c.slice(0,f):c),t.unload(),this.processingTimeout=setTimeout(()=>u.resolve(c),this.pause),u.promise}).bind(this))}countWords(t){return t=t.replace(/(^\s*)|(\s*$)/gi,""),t=t.replace(/[ ]{2,}/gi," "),t=t.replace(/\n /,`
`),t.split(" ").length}parseWords(t,n,i,a){var o=n.cfiBase,u=[],c=t.ownerDocument,f=Nt(c,"body"),v=i,x=a?a.spinePos!==n.index:!0,w;a&&n.index===a.spinePos&&(w=a.findNode(a.range?a.path.steps.concat(a.start.steps):a.path.steps,t.ownerDocument));var C=function(S){if(!x)if(S===w)x=!0;else return!1;if(S.textContent.length<10&&S.textContent.trim().length===0)return!1;var j=this.countWords(S.textContent),k,g=0;if(j===0)return!1;for(k=v-this._wordCounter,k>j&&(this._wordCounter+=j,g=j);g<j;)if(k=v-this._wordCounter,g+k>=j)this._wordCounter+=j-g,g=j;else{g+=k;let E=new xt(S,o);u.push({cfi:E.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Va(f,C.bind(this)),u}locationFromCfi(t){let n;return xt.prototype.isCfiString(t)&&(t=new xt(t)),this._locations.length===0?-1:(n=zi(t,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(t){if(this._locations.length===0)return null;var n=this.locationFromCfi(t);return this.percentageFromLocation(n)}percentageFromLocation(t){return!t||!this.total?0:t/this.total}cfiFromLocation(t){var n=-1;return typeof t!="number"&&(t=parseInt(t)),t>=0&&t<this._locations.length&&(n=this._locations[t]),n}cfiFromPercentage(t){let n;if(t>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),t>=1){let i=new xt(this._locations[this.total]);return i.collapse(),i.toString()}return n=Math.ceil(this.total*t),this.cfiFromLocation(n)}load(t){return typeof t=="string"?this._locations=JSON.parse(t):this._locations=t,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(t){var n;if(typeof t=="string")this._currentCfi=t;else if(typeof t=="number")this._current=t;else return;this._locations.length!==0&&(typeof t=="string"?(n=this.locationFromCfi(t),this._current=n):n=t,this.emit(Me.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(t){this.setCurrent(t)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}sn(Dp.prototype);class R0{constructor(t){this.packagePath="",this.directory="",this.encoding="",t&&this.parse(t)}parse(t){var n;if(!t)throw new Error("Container File Not Found");if(n=Nt(t,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=zn.dirname(this.packagePath),this.encoding=t.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class xd{constructor(t){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},t&&this.parse(t)}parse(t){var n,i,a;if(!t)throw new Error("Package File Not Found");if(n=Nt(t,"metadata"),!n)throw new Error("No Metadata Found");if(i=Nt(t,"manifest"),!i)throw new Error("No Manifest Found");if(a=Nt(t,"spine"),!a)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,a),this.coverPath=this.findCoverPath(t),this.spineNodeIndex=yp(a),this.spine=this.parseSpine(a,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(t),this.metadata=this.parseMetadata(n),this.metadata.direction=a.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(t){var n={};return n.title=this.getElementText(t,"title"),n.creator=this.getElementText(t,"creator"),n.description=this.getElementText(t,"description"),n.pubdate=this.getElementText(t,"date"),n.publisher=this.getElementText(t,"publisher"),n.identifier=this.getElementText(t,"identifier"),n.language=this.getElementText(t,"language"),n.rights=this.getElementText(t,"rights"),n.modified_date=this.getPropertyText(t,"dcterms:modified"),n.layout=this.getPropertyText(t,"rendition:layout"),n.orientation=this.getPropertyText(t,"rendition:orientation"),n.flow=this.getPropertyText(t,"rendition:flow"),n.viewport=this.getPropertyText(t,"rendition:viewport"),n.media_active_class=this.getPropertyText(t,"media:active-class"),n.spread=this.getPropertyText(t,"rendition:spread"),n}parseManifest(t){var n={},i=gn(t,"item"),a=Array.prototype.slice.call(i);return a.forEach(function(o){var u=o.getAttribute("id"),c=o.getAttribute("href")||"",f=o.getAttribute("media-type")||"",v=o.getAttribute("media-overlay")||"",x=o.getAttribute("properties")||"";n[u]={href:c,type:f,overlay:v,properties:x.length?x.split(" "):[]}}),n}parseSpine(t,n){var i=[],a=gn(t,"itemref"),o=Array.prototype.slice.call(a);return o.forEach(function(u,c){var f=u.getAttribute("idref"),v=u.getAttribute("properties")||"",x=v.length?v.split(" "):[],w={id:u.getAttribute("id"),idref:f,linear:u.getAttribute("linear")||"yes",properties:x,index:c};i.push(w)}),i}findUniqueIdentifier(t){var n=t.documentElement.getAttribute("unique-identifier");if(!n)return"";var i=t.getElementById(n);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(t){var n=Pi(t,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(t,n){var i=Pi(t,"item",{"media-type":"application/x-dtbncx+xml"}),a;return i||(a=n.getAttribute("toc"),a&&(i=t.querySelector(`#${a}`))),i?i.getAttribute("href"):!1}findCoverPath(t){var n=Nt(t,"package");n.getAttribute("version");var i=Pi(t,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var a=Pi(t,"meta",{name:"cover"});if(a){var o=a.getAttribute("content"),u=t.getElementById(o);return u?u.getAttribute("href"):""}else return!1}getElementText(t,n){var i=t.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),a;return!i||i.length===0?"":(a=i[0],a.childNodes.length?a.childNodes[0].nodeValue:"")}getPropertyText(t,n){var i=Pi(t,"meta",{property:n});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(t){this.metadata=t.metadata;let n=t.readingOrder||t.spine;return this.spine=n.map((i,a)=>(i.index=a,i.linear=i.linear||"yes",i)),t.resources.forEach((i,a)=>{this.manifest[a]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=t.toc.map((i,a)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class cu{constructor(t){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,t&&this.parse(t)}parse(t){let n=t.nodeType,i,a;n&&(i=Nt(t,"html"),a=Nt(t,"ncx")),n?i?(this.toc=this.parseNav(t),this.landmarks=this.parseLandmarks(t)):a&&(this.toc=this.parseNcx(t)):this.toc=this.load(t),this.length=0,this.unpack(this.toc)}unpack(t){for(var n,i=0;i<t.length;i++)n=t[i],n.href&&(this.tocByHref[n.href]=i),n.id&&(this.tocById[n.id]=i),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(t){var n;return t?(t.indexOf("#")===0?n=this.tocById[t.substring(1)]:t in this.tocByHref&&(n=this.tocByHref[t]),this.getByIndex(t,n,this.toc)):this.toc}getByIndex(t,n,i){if(i.length===0)return;const a=i[n];if(a&&(t===a.id||t===a.href))return a;{let o;for(let u=0;u<i.length&&(o=this.getByIndex(t,n,i[u].subitems),!o);++u);return o}}landmark(t){var n;return t?(n=this.landmarksByType[t],this.landmarks[n]):this.landmarks}parseNav(t){var n=Ha(t,"nav","toc"),i=[];if(!n)return i;let a=Bi(n,"ol",!0);return a&&(i=this.parseNavList(a)),i}parseNavList(t,n){const i=[];if(!t||!t.children)return i;for(let a=0;a<t.children.length;a++){const o=this.navItem(t.children[a],n);o&&i.push(o)}return i}navItem(t,n){let i=t.getAttribute("id")||void 0,a=Bi(t,"a",!0)||Bi(t,"span",!0);if(!a)return;let o=a.getAttribute("href")||"";i||(i=o);let u=a.textContent||"",c=[],f=Bi(t,"ol",!0);return f&&(c=this.parseNavList(f,i)),{id:i,href:o,label:u,subitems:c,parent:n}}parseLandmarks(t){var n=Ha(t,"nav","landmarks"),i=n?gn(n,"li"):[],a=i.length,o,u=[],c;if(!i||a===0)return u;for(o=0;o<a;++o)c=this.landmarkItem(i[o]),c&&(u.push(c),this.landmarksByType[c.type]=o);return u}landmarkItem(t){let n=Bi(t,"a",!0);if(!n)return;let i=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,a=n.getAttribute("href")||"",o=n.textContent||"";return{href:a,label:o,type:i}}parseNcx(t){var n=gn(t,"navPoint"),i=n.length,a,o={},u=[],c,f;if(!n||i===0)return u;for(a=0;a<i;++a)c=this.ncxItem(n[a]),o[c.id]=c,c.parent?(f=o[c.parent],f.subitems.push(c)):u.push(c);return u}ncxItem(t){var n=t.getAttribute("id")||!1,i=Nt(t,"content"),a=i.getAttribute("src"),o=Nt(t,"navLabel"),u=o.textContent?o.textContent:"",c=[],f=t.parentNode,v;return f&&(f.nodeName==="navPoint"||f.nodeName.split(":").slice(-1)[0]==="navPoint")&&(v=f.getAttribute("id")),{id:n,href:a,label:u,subitems:c,parent:v}}load(t){return t.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(t){return this.toc.forEach(t)}}var xs={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},I0=(function(){var h,t,n,i,a={};for(h in xs)if(xs.hasOwnProperty(h)){for(t in xs[h])if(xs[h].hasOwnProperty(t))if(n=xs[h][t],typeof n=="string")a[n]=h+"/"+t;else for(i=0;i<n.length;i++)a[n[i]]=h+"/"+t}return a})(),O0="text/plain";function L0(h){return h&&I0[h.split(".").pop().toLowerCase()]||O0}const Fi={lookup:L0};class P0{constructor(t,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(t)}process(t){this.manifest=t,this.resources=Object.keys(t).map(function(n){return t[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(t){if(t.type==="application/xhtml+xml"||t.type==="text/html")return!0}),this.assets=this.resources.filter(function(t){if(t.type!=="application/xhtml+xml"&&t.type!=="text/html")return!0}),this.css=this.resources.filter(function(t){if(t.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(t){return t.href}).bind(this)),this.cssUrls=this.css.map(function(t){return t.href})}createUrl(t){var n=new Xr(t),i=Fi.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(t,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(t,"blob").then(a=>bp(a)).then(a=>ju(a,i)):this.settings.request(t,"blob").then(a=>qa(a,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(n){n(this.urls)}).bind(this));var t=this.urls.map(n=>{var i=this.settings.resolver(n);return this.createUrl(i).catch(a=>(console.error(a),null))});return Promise.all(t).then(n=>(this.replacementUrls=n.filter(i=>typeof i=="string"),n))}replaceCss(t,n){var i=[];return t=t||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach((function(a){var o=this.createCssFile(a,t,n).then((function(u){var c=this.urls.indexOf(a);c>-1&&(this.replacementUrls[c]=u)}).bind(this));i.push(o)}).bind(this)),Promise.all(i)}createCssFile(t){var n;if(zn.isAbsolute(t))return new Promise(function(u){u()});var i=this.settings.resolver(t),a;this.settings.archive?a=this.settings.archive.getText(i):a=this.settings.request(i,"text");var o=this.urls.map(u=>{var c=this.settings.resolver(u),f=new yn(i).relative(c);return f});return a?a.then(u=>(u=wd(u,o,this.replacementUrls),this.settings.replacements==="base64"?n=ju(u,"text/css"):n=qa(u,"text/css"),n),u=>new Promise(function(c){c()})):new Promise(function(u){u()})}relativeTo(t,n){return n=n||this.settings.resolver,this.urls.map((function(i){var a=n(i),o=new yn(t).relative(a);return o}).bind(this))}get(t){var n=this.urls.indexOf(t);if(n!==-1)return this.replacementUrls.length?new Promise((function(i,a){i(this.replacementUrls[n])}).bind(this)):this.createUrl(t)}substitute(t,n){var i;return n?i=this.relativeTo(n):i=this.urls,wd(t,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class fu{constructor(t){this.pages=[],this.locations=[],this.epubcfi=new xt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,t&&(this.pageList=this.parse(t)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(t){var n=Nt(t,"html"),i=Nt(t,"ncx");if(n)return this.parseNav(t);if(i)return this.parseNcx(t)}parseNav(t){var n=Ha(t,"nav","page-list"),i=n?gn(n,"li"):[],a=i.length,o,u=[],c;if(!i||a===0)return u;for(o=0;o<a;++o)c=this.item(i[o]),u.push(c);return u}parseNcx(t){var n=[],i=0,a,o,u,c=0;if(o=Nt(t,"pageList"),!o||(u=gn(o,"pageTarget"),c=u.length,!u||u.length===0))return n;for(i=0;i<c;++i)a=this.ncxItem(u[i]),n.push(a);return n}ncxItem(t){var n=Nt(t,"navLabel"),i=Nt(n,"text"),a=i.textContent,o=Nt(t,"content"),u=o.getAttribute("src"),c=parseInt(a,10);return{href:u,page:c}}item(t){var n=Nt(t,"a"),i=n.getAttribute("href")||"",a=n.textContent||"",o=parseInt(a),u=i.indexOf("epubcfi"),c,f,v;return u!=-1?(c=i.split("#"),f=c[0],v=c.length>1?c[1]:!1,{cfi:v,href:i,packageUrl:f,page:o}):{href:i,page:o}}process(t){t.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(t){var n=-1;if(this.locations.length===0)return-1;var i=Ma(t,this.locations,this.epubcfi.compare);return i!=-1?n=this.pages[i]:(i=zi(t,this.locations,this.epubcfi.compare),n=i-1>=0?this.pages[i-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(t){var n=-1;typeof t!="number"&&(t=parseInt(t));var i=this.pages.indexOf(t);return i!=-1&&(n=this.locations[i]),n}pageFromPercentage(t){var n=Math.round(this.totalPages*t);return n}percentageFromPage(t){var n=(t-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(t){var n=this.pageFromCfi(t),i=this.percentageFromPage(n);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class kp{constructor(t){this.settings=t,this.name=t.layout||"reflowable",this._spread=t.spread!=="none",this._minSpreadWidth=t.minSpreadWidth||800,this._evenSpreads=t.evenSpreads||!1,t.flow==="scrolled"||t.flow==="scrolled-continuous"||t.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(t){return typeof t<"u"&&(t==="scrolled"||t==="scrolled-continuous"||t==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(t,n){return t&&(this._spread=t!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(t,n,i){var a=1,o=i||0,u=t,c=n,f=Math.floor(u/12),v,x,w,C;this._spread&&u>=this._minSpreadWidth?a=2:a=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(o=f%2===0?f:f-1),this.name==="pre-paginated"&&(o=0),a>1?(v=u/a-o,w=v+o):(v=u,w=u),this.name==="pre-paginated"&&a>1&&(u=v),x=v*a+o,C=u,this.width=u,this.height=c,this.spreadWidth=x,this.pageWidth=w,this.delta=C,this.columnWidth=v,this.gap=o,this.divisor=a,this.update({width:u,height:c,spreadWidth:x,pageWidth:w,delta:C,columnWidth:v,gap:o,divisor:a})}format(t,n,i){var a;return this.name==="pre-paginated"?a=t.fit(this.columnWidth,this.height,n):this._flow==="paginated"?a=t.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?a=t.size(null,this.height):a=t.size(this.width,null),a}count(t,n){let i,a;return this.name==="pre-paginated"?(i=1,a=1):this._flow==="paginated"?(n=n||this.delta,i=Math.ceil(t/n),a=i*this.divisor):(n=n||this.height,i=Math.ceil(t/n),a=i),{spreads:i,pages:a}}update(t){if(Object.keys(t).forEach(n=>{this.props[n]===t[n]&&delete t[n]}),Object.keys(t).length>0){let n=lr(this.props,t);this.emit(Me.LAYOUT.UPDATED,n,t)}}}sn(kp.prototype);class B0{constructor(t){this.rendition=t,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(t){if(t){if(typeof t=="string")return this.registerUrl("default",t);if(typeof t=="object")return this.registerRules("default",t)}}registerThemes(t){for(var n in t)t.hasOwnProperty(n)&&(typeof t[n]=="string"?this.registerUrl(n,t[n]):this.registerRules(n,t[n]))}registerCss(t,n){this._themes[t]={serialized:n},(this._injected[t]||t=="default")&&this.update(t)}registerUrl(t,n){var i=new Xr(n);this._themes[t]={url:i.toString()},(this._injected[t]||t=="default")&&this.update(t)}registerRules(t,n){this._themes[t]={rules:n},(this._injected[t]||t=="default")&&this.update(t)}select(t){var n=this._current,i;this._current=t,this.update(t),i=this.rendition.getContents(),i.forEach(a=>{a.removeClass(n),a.addClass(t)})}update(t){var n=this.rendition.getContents();n.forEach(i=>{this.add(t,i)})}inject(t){var n=[],i=this._themes,a;for(var o in i)i.hasOwnProperty(o)&&(o===this._current||o==="default")&&(a=i[o],(a.rules&&Object.keys(a.rules).length>0||a.url&&n.indexOf(a.url)===-1)&&this.add(o,t),this._injected.push(o));this._current!="default"&&t.addClass(this._current)}add(t,n){var i=this._themes[t];!i||!n||(i.url?n.addStylesheet(i.url):i.serialized?(n.addStylesheetCss(i.serialized,t),i.injected=!0):i.rules&&(n.addStylesheetRules(i.rules,t),i.injected=!0))}override(t,n,i){var a=this.rendition.getContents();this._overrides[t]={value:n,priority:i===!0},a.forEach(o=>{o.css(t,this._overrides[t].value,this._overrides[t].priority)})}removeOverride(t){var n=this.rendition.getContents();delete this._overrides[t],n.forEach(i=>{i.css(t)})}overrides(t){var n=this._overrides;for(var i in n)n.hasOwnProperty(i)&&t.css(i,n[i].value,n[i].priority)}fontSize(t){this.override("font-size",t)}font(t){this.override("font-family",t,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Ga{constructor(t,n,i,a=!1){this.layout=t,this.horizontal=i==="horizontal",this.direction=n||"ltr",this._dev=a}section(t){var n=this.findRanges(t),i=this.rangeListToCfiList(t.section.cfiBase,n);return i}page(t,n,i,a){var o=t&&t.document?t.document.body:!1,u;if(o){if(u=this.rangePairToCfiPair(n,{start:this.findStart(o,i,a),end:this.findEnd(o,i,a)}),this._dev===!0){let c=t.document,f=new xt(u.start).toRange(c),v=new xt(u.end).toRange(c),x=c.defaultView.getSelection(),w=c.createRange();x.removeAllRanges(),w.setStart(f.startContainer,f.startOffset),w.setEnd(v.endContainer,v.endOffset),x.addRange(w)}return u}}walk(t,n){if(!(t&&t.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(f){return f.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},a=i.acceptNode;a.acceptNode=i.acceptNode;for(var o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,a,!1),u,c;(u=o.nextNode())&&(c=n(u),!c););return c}}findRanges(t){for(var n=[],i=t.contents.scrollWidth(),a=Math.ceil(i/this.layout.spreadWidth),o=a*this.layout.divisor,u=this.layout.columnWidth,c=this.layout.gap,f,v,x=0;x<o.pages;x++)f=(u+c)*x,v=u*(x+1)+c*x,n.push({start:this.findStart(t.document.body,f,v),end:this.findEnd(t.document.body,f,v)});return n}findStart(t,n,i){for(var a=[t],o,u,c=t;a.length;)if(o=a.shift(),u=this.walk(o,f=>{var v,x,w,C,S;if(S=zu(f),this.horizontal&&this.direction==="ltr"){if(v=this.horizontal?S.left:S.top,x=this.horizontal?S.right:S.bottom,v>=n&&v<=i)return f;if(x>n)return f;c=f,a.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(v=S.left,x=S.right,x<=i&&x>=n)return f;if(v<i)return f;c=f,a.push(f)}else{if(w=S.top,C=S.bottom,w>=n&&w<=i)return f;if(C>n)return f;c=f,a.push(f)}}),u)return this.findTextStartRange(u,n,i);return this.findTextStartRange(c,n,i)}findEnd(t,n,i){for(var a=[t],o,u=t,c;a.length;)if(o=a.shift(),c=this.walk(o,f=>{var v,x,w,C,S;if(S=zu(f),this.horizontal&&this.direction==="ltr"){if(v=Math.round(S.left),x=Math.round(S.right),v>i&&u)return u;if(x>i)return f;u=f,a.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(v=Math.round(this.horizontal?S.left:S.top),x=Math.round(this.horizontal?S.right:S.bottom),x<n&&u)return u;if(v<n)return f;u=f,a.push(f)}else{if(w=Math.round(S.top),C=Math.round(S.bottom),w>i&&u)return u;if(C>i)return f;u=f,a.push(f)}}),c)return this.findTextEndRange(c,n,i);return this.findTextEndRange(u,n,i)}findTextStartRange(t,n,i){for(var a=this.splitTextNodeIntoRanges(t),o,u,c,f,v,x=0;x<a.length;x++)if(o=a[x],u=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(c=u.left,c>=n)return o}else if(this.horizontal&&this.direction==="rtl"){if(v=u.right,v<=i)return o}else if(f=u.top,f>=n)return o;return a[0]}findTextEndRange(t,n,i){for(var a=this.splitTextNodeIntoRanges(t),o,u,c,f,v,x,w,C=0;C<a.length;C++){if(u=a[C],c=u.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(f=c.left,v=c.right,f>i&&o)return o;if(v>i)return u}else if(this.horizontal&&this.direction==="rtl"){if(f=c.left,v=c.right,v<n&&o)return o;if(f<n)return u}else{if(x=c.top,w=c.bottom,x>i&&o)return o;if(w>i)return u}o=u}return a[a.length-1]}splitTextNodeIntoRanges(t,n){var i=[],a=t.textContent||"",o=a.trim(),u,c=t.ownerDocument,f=n||" ",v=o.indexOf(f);if(v===-1||t.nodeType!=Node.TEXT_NODE)return u=c.createRange(),u.selectNodeContents(t),[u];for(u=c.createRange(),u.setStart(t,0),u.setEnd(t,v),i.push(u),u=!1;v!=-1;)v=o.indexOf(f,v+1),v>0&&(u&&(u.setEnd(t,v),i.push(u)),u=c.createRange(),u.setStart(t,v+1));return u&&(u.setEnd(t,o.length),i.push(u)),i}rangePairToCfiPair(t,n){var i=n.start,a=n.end;i.collapse(!0),a.collapse(!1);let o=new xt(i,t).toString(),u=new xt(a,t).toString();return{start:o,end:u}}rangeListToCfiList(t,n){for(var i=[],a,o=0;o<n.length;o++)a=this.rangePairToCfiPair(t,n[o]),i.push(a);return i}axis(t){return t&&(this.horizontal=t==="horizontal"),this.horizontal}}const Ap=typeof navigator<"u",F0=Ap&&/Chrome/.test(navigator.userAgent),_d=Ap&&!F0&&/AppleWebKit/.test(navigator.userAgent),z0=1;class Qu{constructor(t,n,i,a){this.epubcfi=new xt,this.document=t,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=a||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",eo),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Fa}width(t){var n=this.content;return t&&Ht(t)&&(t=t+"px"),t&&(n.style.width=t),parseInt(this.window.getComputedStyle(n).width)}height(t){var n=this.content;return t&&Ht(t)&&(t=t+"px"),t&&(n.style.height=t),parseInt(this.window.getComputedStyle(n).height)}contentWidth(t){var n=this.content||this.document.body;return t&&Ht(t)&&(t=t+"px"),t&&(n.style.width=t),parseInt(this.window.getComputedStyle(n).width)}contentHeight(t){var n=this.content||this.document.body;return t&&Ht(t)&&(t=t+"px"),t&&(n.style.height=t),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let t,n,i=this.document.createRange(),a=this.content||this.document.body,o=Ua(a);return i.selectNodeContents(a),t=i.getBoundingClientRect(),n=t.width,o&&o.width&&(n+=o.width),Math.round(n)}textHeight(){let t,n,i=this.document.createRange(),a=this.content||this.document.body;return i.selectNodeContents(a),t=i.getBoundingClientRect(),n=t.bottom,Math.round(n)}scrollWidth(){var t=this.documentElement.scrollWidth;return t}scrollHeight(){var t=this.documentElement.scrollHeight;return t}overflow(t){return t&&(this.documentElement.style.overflow=t),this.window.getComputedStyle(this.documentElement).overflow}overflowX(t){return t&&(this.documentElement.style.overflowX=t),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(t){return t&&(this.documentElement.style.overflowY=t),this.window.getComputedStyle(this.documentElement).overflowY}css(t,n,i){var a=this.content||this.document.body;return n?a.style.setProperty(t,n,i?"important":""):a.style.removeProperty(t),this.window.getComputedStyle(a)[t]}viewport(t){var n=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},a=[],o={};if(n&&n.hasAttribute("content")){let u=n.getAttribute("content"),c=u.match(/width\s*=\s*([^,]*)/),f=u.match(/height\s*=\s*([^,]*)/),v=u.match(/initial-scale\s*=\s*([^,]*)/),x=u.match(/minimum-scale\s*=\s*([^,]*)/),w=u.match(/maximum-scale\s*=\s*([^,]*)/),C=u.match(/user-scalable\s*=\s*([^,]*)/);c&&c.length&&typeof c[1]<"u"&&(i.width=c[1]),f&&f.length&&typeof f[1]<"u"&&(i.height=f[1]),v&&v.length&&typeof v[1]<"u"&&(i.scale=v[1]),x&&x.length&&typeof x[1]<"u"&&(i.minimum=x[1]),w&&w.length&&typeof w[1]<"u"&&(i.maximum=w[1]),C&&C.length&&typeof C[1]<"u"&&(i.scalable=C[1])}return o=gp(t||{},i),t&&(o.width&&a.push("width="+o.width),o.height&&a.push("height="+o.height),o.scale&&a.push("initial-scale="+o.scale),o.scalable==="no"?(a.push("minimum-scale="+o.scale),a.push("maximum-scale="+o.scale),a.push("user-scalable="+o.scalable)):(o.scalable&&a.push("user-scalable="+o.scalable),o.minimum&&a.push("minimum-scale="+o.minimum),o.maximum&&a.push("minimum-scale="+o.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",a.join(", ")),this.window.scrollTo(0,0)),o}expand(){this.emit(Me.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let t=this.textWidth(),n=this.textHeight();(t!=this._size.width||n!=this._size.height)&&(this._size={width:t,height:n},this.onResize&&this.onResize(this._size),this.emit(Me.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let t=this.content;t.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",t.style.transitionDuration="0.001ms",t.style.transitionTimingFunction="linear",t.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var t=this.document.styleSheets,n=(function(c){c.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<t.length;i+=1){var a;try{a=t[i].cssRules}catch{return}if(!a)return;for(var o=0;o<a.length;o+=1)if(a[o].media){var u=this.window.matchMedia(a[o].media.mediaText);u.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(t=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let t={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,t)}imageLoadListeners(){for(var t=this.document.querySelectorAll("img"),n,i=0;i<t.length;i++)n=t[i],typeof n.naturalWidth<"u"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(t,n){var i,a={left:0,top:0};if(!this.document)return a;if(this.epubcfi.isCfiString(t)){let o=new xt(t).toRange(this.document,n);if(o){try{if(!o.endContainer||o.startContainer==o.endContainer&&o.startOffset==o.endOffset){let u=o.startContainer.textContent.indexOf(" ",o.startOffset);u==-1&&(u=o.startContainer.textContent.length),o.setEnd(o.startContainer,u)}}catch(u){console.error("setting end offset to start container length failed",u)}if(o.startContainer.nodeType===Node.ELEMENT_NODE)i=o.startContainer.getBoundingClientRect(),a.left=i.left,a.top=i.top;else if(_d){let u=o.startContainer,c=new Range;try{u.nodeType===z0?i=u.getBoundingClientRect():o.startOffset+2<u.length?(c.setStart(u,o.startOffset),c.setEnd(u,o.startOffset+2),i=c.getBoundingClientRect()):o.startOffset-2>0?(c.setStart(u,o.startOffset-2),c.setEnd(u,o.startOffset),i=c.getBoundingClientRect()):i=u.parentNode.getBoundingClientRect()}catch(f){console.error(f,f.stack)}}else i=o.getBoundingClientRect()}}else if(typeof t=="string"&&t.indexOf("#")>-1){let o=t.substring(t.indexOf("#")+1),u=this.document.getElementById(o);if(u)if(_d){let c=new Range;c.selectNode(u),i=c.getBoundingClientRect()}else i=u.getBoundingClientRect()}return i&&(a.left=i.left,a.top=i.top),a}addStylesheet(t){return new Promise((function(n,i){var a,o=!1;if(!this.document){n(!1);return}if(a=this.document.querySelector("link[href='"+t+"']"),a){n(!0);return}a=this.document.createElement("link"),a.type="text/css",a.rel="stylesheet",a.href=t,a.onload=a.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(a)}).bind(this))}_getStylesheetNode(t){var n;return t="epubjs-inserted-css-"+(t||""),this.document?(n=this.document.getElementById(t),n||(n=this.document.createElement("style"),n.id=t,this.document.head.appendChild(n)),n):!1}addStylesheetCss(t,n){if(!this.document||!t)return!1;var i;return i=this._getStylesheetNode(n),i.innerHTML=t,!0}addStylesheetRules(t,n){var i;if(!(!this.document||!t||t.length===0))if(i=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(t)==="[object Array]")for(var a=0,o=t.length;a<o;a++){var u=1,c=t[a],f=t[a][0],v="";Object.prototype.toString.call(c[1][0])==="[object Array]"&&(c=c[1],u=0);for(var x=c.length;u<x;u++){var w=c[u];v+=w[0]+":"+w[1]+(w[2]?" !important":"")+`;
`}i.insertRule(f+"{"+v+"}",i.cssRules.length)}else Object.keys(t).forEach(S=>{const j=t[S];if(Array.isArray(j))j.forEach(k=>{const E=Object.keys(k).map(_=>`${_}:${k[_]}`).join(";");i.insertRule(`${S}{${E}}`,i.cssRules.length)});else{const g=Object.keys(j).map(E=>`${E}:${j[E]}`).join(";");i.insertRule(`${S}{${g}}`,i.cssRules.length)}})}addScript(t){return new Promise((function(n,i){var a,o=!1;if(!this.document){n(!1);return}a=this.document.createElement("script"),a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(a)}).bind(this))}addClass(t){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.add(t))}removeClass(t){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.remove(t))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Fa.forEach(function(t){this.document.addEventListener(t,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Fa.forEach(function(t){this.document.removeEventListener(t,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(t){this.emit(t.type,t)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(t){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}).bind(this),250)}triggerSelectedEvent(t){var n,i;t&&t.rangeCount>0&&(n=t.getRangeAt(0),n.collapsed||(i=new xt(n,this.cfiBase).toString(),this.emit(Me.CONTENTS.SELECTED,i),this.emit(Me.CONTENTS.SELECTED_RANGE,n)))}range(t,n){var i=new xt(t);return i.toRange(this.document,n)}cfiFromRange(t,n){return new xt(t,this.cfiBase,n).toString()}cfiFromNode(t,n){return new xt(t,this.cfiBase,n).toString()}map(t){var n=new Ga(t);return n.section()}size(t,n){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),t>=0&&(this.width(t),i.width=t,this.css("padding","0 "+t/12+"px")),n>=0&&(this.height(n),i.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(t,n,i,a,o){let u=Li("column-axis"),c=Li("column-gap"),f=Li("column-width"),v=Li("column-fill"),w=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),o==="rtl"&&w==="horizontal"&&this.direction(o),this.width(t),this.height(n),this.viewport({width:t,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),w==="vertical"?(this.css("padding-top",a/2+"px",!0),this.css("padding-bottom",a/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(u,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",a/2+"px",!0),this.css("padding-right",a/2+"px",!0),this.css(u,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(v,"auto"),this.css(c,a+"px"),this.css(f,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(t,n,i){var a="scale("+t+")",o="";this.css("transform-origin","top left"),(n>=0||i>=0)&&(o=" translate("+(n||0)+"px, "+(i||0)+"px )"),this.css("transform",a+o)}fit(t,n,i){var a=this.viewport(),o=parseInt(a.width),u=parseInt(a.height),c=t/o,f=n/u,v=c<f?c:f;if(this.layoutStyle("paginated"),this.width(o),this.height(u),this.overflow("hidden"),this.scaler(v,0,0),this.css("background-size",o*v+"px "+u*v+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var x=t-o*v;this.css("margin-left",x+"px")}}direction(t){this.documentElement&&(this.documentElement.style.direction=t)}mapPage(t,n,i,a,o){var u=new Ga(n,o);return u.page(this,t,i,a)}linksHandler(){A0(this.content,t=>{this.emit(Me.CONTENTS.LINK_CLICKED,t)})}writingMode(t){let n=Li("writing-mode");return t&&this.documentElement&&(this.documentElement.style[n]=t),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(t){return t&&(this._layoutStyle=t,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(t,n){return navigator.epubReadingSystem={name:t,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}sn(Qu.prototype);class j0{constructor(t){this.rendition=t,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(t,n,i,a,o,u){let c=encodeURI(n+t),v=new xt(n).spinePos,x=new Tp({type:t,cfiRange:n,data:i,sectionIndex:v,cb:a,className:o,styles:u});return this._annotations[c]=x,v in this._annotationsBySectionIndex?this._annotationsBySectionIndex[v].push(c):this._annotationsBySectionIndex[v]=[c],this.rendition.views().forEach(C=>{x.sectionIndex===C.index&&x.attach(C)}),x}remove(t,n){let i=encodeURI(t+n);if(i in this._annotations){let a=this._annotations[i];if(n&&a.type!==n)return;this.rendition.views().forEach(u=>{this._removeFromAnnotationBySectionIndex(a.sectionIndex,i),a.sectionIndex===u.index&&a.detach(u)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(t,n){this._annotationsBySectionIndex[t]=this._annotationsAt(t).filter(i=>i!==n)}_annotationsAt(t){return this._annotationsBySectionIndex[t]}highlight(t,n,i,a,o){return this.add("highlight",t,n,i,a,o)}underline(t,n,i,a,o){return this.add("underline",t,n,i,a,o)}mark(t,n,i){return this.add("mark",t,n,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(t){let n=t.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(a=>{this._annotations[a].attach(t)})}clear(t){let n=t.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(a=>{this._annotations[a].detach(t)})}show(){}hide(){}}class Tp{constructor({type:t,cfiRange:n,data:i,sectionIndex:a,cb:o,className:u,styles:c}){this.type=t,this.cfiRange=n,this.data=i,this.sectionIndex=a,this.mark=void 0,this.cb=o,this.className=u,this.styles=c}update(t){this.data=t}attach(t){let{cfiRange:n,data:i,type:a,mark:o,cb:u,className:c,styles:f}=this,v;return a==="highlight"?v=t.highlight(n,i,u,c,f):a==="underline"?v=t.underline(n,i,u,c,f):a==="mark"&&(v=t.mark(n,i,u)),this.mark=v,this.emit(Me.ANNOTATION.ATTACH,v),v}detach(t){let{cfiRange:n,type:i}=this,a;return t&&(i==="highlight"?a=t.unhighlight(n):i==="underline"?a=t.ununderline(n):i==="mark"&&(a=t.unmark(n))),this.mark=void 0,this.emit(Me.ANNOTATION.DETACH,a),a}text(){}}sn(Tp.prototype);var Yr={},_s={},Ed;function M0(){if(Ed)return _s;Ed=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.createElement=h;function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}return _s.default={createElement:h},_s}var Oi={},bd;function U0(){if(bd)return Oi;bd=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.proxyMouse=h,Oi.clone=t,Oi.default={proxyMouse:h};function h(i,a){function o(v){for(var x=a.length-1;x>=0;x--){var w=a[x],C=v.clientX,S=v.clientY;if(v.touches&&v.touches.length&&(C=v.touches[0].clientX,S=v.touches[0].clientY),!!n(w,i,C,S)){w.dispatchEvent(t(v));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var u=["mouseup","mousedown","click","touchstart"],c=0;c<u.length;c++){var f=u[c];this.target.addEventListener(f,function(v){return o(v)},!1)}}function t(i){var a=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,a)}catch{var o=document.createEvent("MouseEvents");return o.initMouseEvent(i.type,!1,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),o}}function n(i,a,o,u){var c=a.getBoundingClientRect();function f(S,j,k){var g=S.top-c.top,E=S.left-c.left,_=g+S.height,R=E+S.width;return g<=k&&E<=j&&_>k&&R>j}var v=i.getBoundingClientRect();if(!f(v,o,u))return!1;for(var x=i.getClientRects(),w=0,C=x.length;w<C;w++)if(f(x[w],o,u))return!0;return!1}return Oi}var Sd;function W0(){if(Sd)return Yr;Sd=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Underline=Yr.Highlight=Yr.Mark=Yr.Pane=void 0;var h=function k(g,E,_){g===null&&(g=Function.prototype);var R=Object.getOwnPropertyDescriptor(g,E);if(R===void 0){var M=Object.getPrototypeOf(g);return M===null?void 0:k(M,E,_)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(_)}},t=(function(){function k(g,E){for(var _=0;_<E.length;_++){var R=E[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}return function(g,E,_){return E&&k(g.prototype,E),_&&k(g,_),g}})(),n=M0(),i=u(n),a=U0(),o=u(a);function u(k){return k&&k.__esModule?k:{default:k}}function c(k,g){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:k}function f(k,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);k.prototype=Object.create(g&&g.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(k,g):k.__proto__=g)}function v(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}Yr.Pane=(function(){function k(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;v(this,k),this.target=g,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),o.default.proxyMouse(this.target,this.marks),this.container=E,this.container.appendChild(this.element),this.render()}return t(k,[{key:"addMark",value:function(E){var _=i.default.createElement("g");return this.element.appendChild(_),E.bind(_,this.container),this.marks.push(E),E.render(),E}},{key:"removeMark",value:function(E){var _=this.marks.indexOf(E);if(_!==-1){var R=E.unbind();this.element.removeChild(R),this.marks.splice(_,1)}}},{key:"render",value:function(){S(this.element,C(this.target,this.container));var E=!0,_=!1,R=void 0;try{for(var M=this.marks[Symbol.iterator](),D;!(E=(D=M.next()).done);E=!0){var L=D.value;L.render()}}catch(F){_=!0,R=F}finally{try{!E&&M.return&&M.return()}finally{if(_)throw R}}}}]),k})();var x=Yr.Mark=(function(){function k(){v(this,k),this.element=null}return t(k,[{key:"bind",value:function(E,_){this.element=E,this.container=_}},{key:"unbind",value:function(){var E=this.element;return this.element=null,E}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(E){this.element&&this.element.dispatchEvent(E)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var E=[],_=this.element.firstChild;_;)E.push(_.getBoundingClientRect()),_=_.nextSibling;return E}},{key:"filteredRanges",value:function(){var E=Array.from(this.range.getClientRects());return E.filter(function(_){for(var R=0;R<E.length;R++){if(E[R]===_)return!0;var M=j(E[R],_);if(M)return!1}return!0})}}]),k})(),w=Yr.Highlight=(function(k){f(g,k);function g(E,_,R,M){v(this,g);var D=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return D.range=E,D.className=_,D.data=R||{},D.attributes=M||{},D}return t(g,[{key:"bind",value:function(_,R){h(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"bind",this).call(this,_,R);for(var M in this.data)this.data.hasOwnProperty(M)&&(this.element.dataset[M]=this.data[M]);for(var M in this.attributes)this.attributes.hasOwnProperty(M)&&this.element.setAttribute(M,this.attributes[M]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var _=this.element.ownerDocument.createDocumentFragment(),R=this.filteredRanges(),M=this.element.getBoundingClientRect(),D=this.container.getBoundingClientRect(),L=0,F=R.length;L<F;L++){var U=R[L],z=i.default.createElement("rect");z.setAttribute("x",U.left-M.left+D.left),z.setAttribute("y",U.top-M.top+D.top),z.setAttribute("height",U.height),z.setAttribute("width",U.width),_.appendChild(z)}this.element.appendChild(_)}}]),g})(x);Yr.Underline=(function(k){f(g,k);function g(E,_,R,M){return v(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E,_,R,M))}return t(g,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var _=this.element.ownerDocument.createDocumentFragment(),R=this.filteredRanges(),M=this.element.getBoundingClientRect(),D=this.container.getBoundingClientRect(),L=0,F=R.length;L<F;L++){var U=R[L],z=i.default.createElement("rect");z.setAttribute("x",U.left-M.left+D.left),z.setAttribute("y",U.top-M.top+D.top),z.setAttribute("height",U.height),z.setAttribute("width",U.width),z.setAttribute("fill","none");var q=i.default.createElement("line");q.setAttribute("x1",U.left-M.left+D.left),q.setAttribute("x2",U.left-M.left+D.left+U.width),q.setAttribute("y1",U.top-M.top+D.top+U.height-1),q.setAttribute("y2",U.top-M.top+D.top+U.height-1),q.setAttribute("stroke-width",1),q.setAttribute("stroke","black"),q.setAttribute("stroke-linecap","square"),_.appendChild(z),_.appendChild(q)}this.element.appendChild(_)}}]),g})(w);function C(k,g){var E=g.getBoundingClientRect(),_=k.getBoundingClientRect();return{top:_.top-E.top,left:_.left-E.left,height:k.scrollHeight,width:k.scrollWidth}}function S(k,g){k.style.setProperty("top",g.top+"px","important"),k.style.setProperty("left",g.left+"px","important"),k.style.setProperty("height",g.height+"px","important"),k.style.setProperty("width",g.width+"px","important")}function j(k,g){return g.right<=k.right&&g.left>=k.left&&g.top>=k.top&&g.bottom<=k.bottom}return Yr}var Pa=W0();class Np{constructor(t,n){this.settings=lr({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+Ja(),this.section=t,this.index=t.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new xt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(t){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",t&&t=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Ba(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(t,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(t)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),a;return this.settings.flow==="scrolled"?a=i.indexOf("vertical")===0?"horizontal":"vertical":a=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(a),this.emit(Me.VIEWS.AXIS,a),this.setWritingMode(i),this.emit(Me.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((o,u)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),o()})}).bind(this),(function(i){return this.emit(Me.VIEWS.LOAD_ERROR,i),new Promise((a,o)=>{o(i)})}).bind(this)).then((function(){this.emit(Me.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(t,n){var i=t||this.settings.width,a=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,a):this.settings.axis==="horizontal"?this.lock("height",i,a):this.lock("width",i,a),this.settings.width=i,this.settings.height=a}lock(t,n,i){var a=Ua(this.element),o;this.iframe?o=Ua(this.iframe):o={width:0,height:0},t=="width"&&Ht(n)&&(this.lockedWidth=n-a.width-o.width),t=="height"&&Ht(i)&&(this.lockedHeight=i-a.height-o.height),t==="both"&&Ht(n)&&Ht(i)&&(this.lockedWidth=n-a.width-o.width,this.lockedHeight=i-a.height-o.height),this.displayed&&this.iframe&&this.expand()}expand(t){var n=this.lockedWidth,i=this.lockedHeight,a;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(a=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&a%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||i!=this._height)&&this.reframe(n,i),this._expanding=!1)}reframe(t,n){var i;Ht(t)&&(this.element.style.width=t+"px",this.iframe.style.width=t+"px",this._width=t),Ht(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let a=this.prevBounds?t-this.prevBounds.width:t,o=this.prevBounds?n-this.prevBounds.height:n;i={width:t,height:n,widthDelta:a,heightDelta:o},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let u;for(let c in this.marks)this.marks.hasOwnProperty(c)&&(u=this.marks[c],this.placeMark(u.element,u.range))}),this.onResize(this,i),this.emit(Me.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=Ba(this.element)}load(t){var n=new wt,i=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(o){this.onLoad(o,n)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=qa(t,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=t,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var a=this;MSApp.execUnsafeLocalFunction(function(){a.iframe.contentDocument.write(t)})}else this.iframe.contentDocument.write(t);this.iframe.contentDocument.close()}return i}onLoad(t,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Qu(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(Me.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Me.CONTENTS.RESIZE,a=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(t){this.layout=t,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(t){this.settings.axis=t,t=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(t){this.writingMode=t}addListeners(){}removeListeners(t){}display(t){var n=new wt;return this.displayed?n.resolve(this):this.render(t).then((function(){this.emit(Me.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}).bind(this),function(i){n.reject(i,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Me.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Me.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(t){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(t,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(t){}onResize(t,n){}bounds(t){return(t||!this.elementBounds)&&(this.elementBounds=Ba(this.element)),this.elementBounds}highlight(t,n={},i,a="epubjs-hl",o={}){if(!this.contents)return;const u=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},o);let c=this.contents.range(t),f=()=>{this.emit(Me.VIEWS.MARK_CLICKED,t,n)};n.epubcfi=t,this.pane||(this.pane=new Pa.Pane(this.iframe,this.element));let v=new Pa.Highlight(c,a,n,u),x=this.pane.addMark(v);return this.highlights[t]={mark:x,element:x.element,listeners:[f,i]},x.element.setAttribute("ref",a),x.element.addEventListener("click",f),x.element.addEventListener("touchstart",f),i&&(x.element.addEventListener("click",i),x.element.addEventListener("touchstart",i)),x}underline(t,n={},i,a="epubjs-ul",o={}){if(!this.contents)return;const u=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},o);let c=this.contents.range(t),f=()=>{this.emit(Me.VIEWS.MARK_CLICKED,t,n)};n.epubcfi=t,this.pane||(this.pane=new Pa.Pane(this.iframe,this.element));let v=new Pa.Underline(c,a,n,u),x=this.pane.addMark(v);return this.underlines[t]={mark:x,element:x.element,listeners:[f,i]},x.element.setAttribute("ref",a),x.element.addEventListener("click",f),x.element.addEventListener("touchstart",f),i&&(x.element.addEventListener("click",i),x.element.addEventListener("touchstart",i)),x}mark(t,n={},i){if(!this.contents)return;if(t in this.marks)return this.marks[t];let a=this.contents.range(t);if(!a)return;let o=a.commonAncestorContainer,u=o.nodeType===1?o:o.parentNode,c=v=>{this.emit(Me.VIEWS.MARK_CLICKED,t,n)};a.collapsed&&o.nodeType===1?(a=new Range,a.selectNodeContents(o)):a.collapsed&&(a=new Range,a.selectNodeContents(u));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=t,n&&Object.keys(n).forEach(v=>{f.dataset[v]=n[v]}),i&&(f.addEventListener("click",i),f.addEventListener("touchstart",i)),f.addEventListener("click",c),f.addEventListener("touchstart",c),this.placeMark(f,a),this.element.appendChild(f),this.marks[t]={element:f,range:a,listeners:[c,i]},u}placeMark(t,n){let i,a,o;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let c=n.getBoundingClientRect();i=c.top,a=c.right}else{let c=n.getClientRects(),f;for(var u=0;u!=c.length;u++)f=c[u],(!o||f.left<o)&&(o=f.left,a=Math.ceil(o/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=f.top)}t.style.top=`${i}px`,t.style.left=`${a}px`}unhighlight(t){let n;t in this.highlights&&(n=this.highlights[t],this.pane.removeMark(n.mark),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.highlights[t])}ununderline(t){let n;t in this.underlines&&(n=this.underlines[t],this.pane.removeMark(n.mark),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.underlines[t])}unmark(t){let n;t in this.marks&&(n=this.marks[t],this.element.removeChild(n.element),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.marks[t])}destroy(){for(let t in this.highlights)this.unhighlight(t);for(let t in this.underlines)this.ununderline(t);for(let t in this.marks)this.unmark(t);this.blobUrl&&xp(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}sn(Np.prototype);function q0(){var h="reverse",t=V0();return document.body.appendChild(t),t.scrollLeft>0?h="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(h="negative")):(t.scrollLeft=1,t.scrollLeft===0&&(h="negative")),document.body.removeChild(t),h}function V0(){var h=document.createElement("div");h.dir="rtl",h.style.position="fixed",h.style.width="1px",h.style.height="1px",h.style.top="0px",h.style.left="0px",h.style.overflow="hidden";var t=document.createElement("div");t.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",t.appendChild(n),t.appendChild(i),h.appendChild(t),h}var hu,Cd;function Ju(){if(Cd)return hu;Cd=1;function h(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return hu=h,hu}var du,Dd;function H0(){if(Dd)return du;Dd=1;var h=typeof jr=="object"&&jr&&jr.Object===Object&&jr;return du=h,du}var pu,kd;function Rp(){if(kd)return pu;kd=1;var h=H0(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=h||t||Function("return this")();return pu=n,pu}var mu,Ad;function G0(){if(Ad)return mu;Ad=1;var h=Rp(),t=function(){return h.Date.now()};return mu=t,mu}var vu,Td;function Y0(){if(Td)return vu;Td=1;var h=/\s/;function t(n){for(var i=n.length;i--&&h.test(n.charAt(i)););return i}return vu=t,vu}var gu,Nd;function Z0(){if(Nd)return gu;Nd=1;var h=Y0(),t=/^\s+/;function n(i){return i&&i.slice(0,h(i)+1).replace(t,"")}return gu=n,gu}var yu,Rd;function Ip(){if(Rd)return yu;Rd=1;var h=Rp(),t=h.Symbol;return yu=t,yu}var wu,Id;function X0(){if(Id)return wu;Id=1;var h=Ip(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,a=h?h.toStringTag:void 0;function o(u){var c=n.call(u,a),f=u[a];try{u[a]=void 0;var v=!0}catch{}var x=i.call(u);return v&&(c?u[a]=f:delete u[a]),x}return wu=o,wu}var xu,Od;function $0(){if(Od)return xu;Od=1;var h=Object.prototype,t=h.toString;function n(i){return t.call(i)}return xu=n,xu}var _u,Ld;function K0(){if(Ld)return _u;Ld=1;var h=Ip(),t=X0(),n=$0(),i="[object Null]",a="[object Undefined]",o=h?h.toStringTag:void 0;function u(c){return c==null?c===void 0?a:i:o&&o in Object(c)?t(c):n(c)}return _u=u,_u}var Eu,Pd;function Q0(){if(Pd)return Eu;Pd=1;function h(t){return t!=null&&typeof t=="object"}return Eu=h,Eu}var bu,Bd;function J0(){if(Bd)return bu;Bd=1;var h=K0(),t=Q0(),n="[object Symbol]";function i(a){return typeof a=="symbol"||t(a)&&h(a)==n}return bu=i,bu}var Su,Fd;function ey(){if(Fd)return Su;Fd=1;var h=Z0(),t=Ju(),n=J0(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;function f(v){if(typeof v=="number")return v;if(n(v))return i;if(t(v)){var x=typeof v.valueOf=="function"?v.valueOf():v;v=t(x)?x+"":x}if(typeof v!="string")return v===0?v:+v;v=h(v);var w=o.test(v);return w||u.test(v)?c(v.slice(2),w?2:8):a.test(v)?i:+v}return Su=f,Su}var Cu,zd;function Op(){if(zd)return Cu;zd=1;var h=Ju(),t=G0(),n=ey(),i="Expected a function",a=Math.max,o=Math.min;function u(c,f,v){var x,w,C,S,j,k,g=0,E=!1,_=!1,R=!0;if(typeof c!="function")throw new TypeError(i);f=n(f)||0,h(v)&&(E=!!v.leading,_="maxWait"in v,C=_?a(n(v.maxWait)||0,f):C,R="trailing"in v?!!v.trailing:R);function M(oe){var xe=x,we=w;return x=w=void 0,g=oe,S=c.apply(we,xe),S}function D(oe){return g=oe,j=setTimeout(U,f),E?M(oe):S}function L(oe){var xe=oe-k,we=oe-g,Te=f-xe;return _?o(Te,C-we):Te}function F(oe){var xe=oe-k,we=oe-g;return k===void 0||xe>=f||xe<0||_&&we>=C}function U(){var oe=t();if(F(oe))return z(oe);j=setTimeout(U,L(oe))}function z(oe){return j=void 0,R&&x?M(oe):(x=w=void 0,S)}function q(){j!==void 0&&clearTimeout(j),g=0,x=k=w=j=void 0}function ae(){return j===void 0?S:z(t())}function $(){var oe=t(),xe=F(oe);if(x=arguments,w=this,k=oe,xe){if(j===void 0)return D(k);if(_)return clearTimeout(j),j=setTimeout(U,f),M(k)}return j===void 0&&(j=setTimeout(U,f)),S}return $.cancel=q,$.flush=ae,$}return Cu=u,Cu}var Du,jd;function ty(){if(jd)return Du;jd=1;var h=Op(),t=Ju(),n="Expected a function";function i(a,o,u){var c=!0,f=!0;if(typeof a!="function")throw new TypeError(n);return t(u)&&(c="leading"in u?!!u.leading:c,f="trailing"in u?!!u.trailing:f),h(a,o,{leading:c,maxWait:o,trailing:f})}return Du=i,Du}var ry=ty();const ny=Mn(ry);class iy{constructor(t){this.settings=t||{},this.id="epubjs-container-"+Ja(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(t){let n=t.height,i=t.width,a=t.overflow||!1,o=t.axis||"vertical",u=t.direction;lr(this.settings,t),t.height&&Ht(t.height)&&(n=t.height+"px"),t.width&&Ht(t.width)&&(i=t.width+"px");let c=document.createElement("div");return c.id=this.id,c.classList.add("epub-container"),c.style.wordSpacing="0",c.style.lineHeight="0",c.style.verticalAlign="top",c.style.position="relative",o==="horizontal"&&(c.style.display="flex",c.style.flexDirection="row",c.style.flexWrap="nowrap"),i&&(c.style.width=i),n&&(c.style.height=n),a&&(a==="scroll"&&o==="vertical"?(c.style["overflow-y"]=a,c.style["overflow-x"]="hidden"):a==="scroll"&&o==="horizontal"?(c.style["overflow-y"]="hidden",c.style["overflow-x"]=a):c.style.overflow=a),u&&(c.dir=u,c.style.direction=u),u&&this.settings.fullsize&&(document.body.style.direction=u),c}wrap(t){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(t),n}getElement(t){var n;if(mp(t)?n=t:typeof t=="string"&&(n=document.getElementById(t)),!n)throw new Error("Not an Element");return n}attachTo(t){var n=this.getElement(t),i;if(n)return this.settings.hidden?i=this.wrapper:i=this.container,n.appendChild(i),this.element=n,n}getContainer(){return this.container}onResize(t){(!Ht(this.settings.width)||!Ht(this.settings.height))&&(this.resizeFunc=ny(t,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(t){this.orientationChangeFunc=t,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(t,n){var i;let a=t||this.settings.width,o=n||this.settings.height;t===null?(i=this.element.getBoundingClientRect(),i.width&&(t=Math.floor(i.width),this.container.style.width=t+"px")):Ht(t)?this.container.style.width=t+"px":this.container.style.width=t,n===null?(i=i||this.element.getBoundingClientRect(),i.height&&(n=i.height,this.container.style.height=n+"px")):Ht(n)?this.container.style.height=n+"px":this.container.style.height=n,Ht(t)||(t=this.container.clientWidth),Ht(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let u=Wa(),c=window.getComputedStyle(document.body),f={left:parseFloat(c["padding-left"])||0,right:parseFloat(c["padding-right"])||0,top:parseFloat(c["padding-top"])||0,bottom:parseFloat(c["padding-bottom"])||0};return a||(t=u.width-f.left-f.right),(this.settings.fullsize&&!o||!o)&&(n=u.height-f.top-f.bottom),{width:t-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let t;return this.container.style.overflow!=="visible"&&(t=this.container&&this.container.getBoundingClientRect()),!t||!t.width||!t.height?Wa():t}getSheet(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet}addStyleRules(t,n){var i="#"+this.id+" ",a="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(o){for(var u in o)o.hasOwnProperty(u)&&(a+=u+":"+o[u]+";")}),this.sheet.insertRule(i+t+" {"+a+"}",0)}axis(t){t==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=t}direction(t){this.container&&(this.container.dir=t,this.container.style.direction=t),this.settings.fullsize&&(document.body.style.direction=t),this.settings.dir=t}overflow(t){this.container&&(t==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=t,this.container.style["overflow-x"]="hidden"):t==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=t):this.container.style.overflow=t),this.settings.overflow=t}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class sy{constructor(t){this.container=t,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(t){return this._views.indexOf(t)}slice(){return this._views.slice.apply(this._views,arguments)}get(t){return this._views[t]}append(t){return this._views.push(t),this.container&&this.container.appendChild(t.element),this.length++,t}prepend(t){return this._views.unshift(t),this.container&&this.container.insertBefore(t.element,this.container.firstChild),this.length++,t}insert(t,n){return this._views.splice(n,0,t),this.container&&(n<this.container.children.length?this.container.insertBefore(t.element,this.container.children[n]):this.container.appendChild(t.element)),this.length++,t}remove(t){var n=this._views.indexOf(t);n>-1&&this._views.splice(n,1),this.destroy(t),this.length--}destroy(t){t.displayed&&t.destroy(),this.container&&this.container.removeChild(t.element),t=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var t,n=this.length;if(this.length){for(var i=0;i<n;i++)t=this._views[i],this.destroy(t);this._views=[],this.length=0}}find(t){for(var n,i=this.length,a=0;a<i;a++)if(n=this._views[a],n.displayed&&n.section.index==t.index)return n}displayed(){for(var t=[],n,i=this.length,a=0;a<i;a++)n=this._views[a],n.displayed&&t.push(n);return t}show(){for(var t,n=this.length,i=0;i<n;i++)t=this._views[i],t.displayed&&t.show();this.hidden=!1}hide(){for(var t,n=this.length,i=0;i<n;i++)t=this._views[i],t.displayed&&t.hide();this.hidden=!0}}class Ya{constructor(t){this.name="default",this.optsSettings=t.settings,this.View=t.view,this.request=t.request,this.renditionQueue=t.queue,this.q=new Ku(this),this.settings=lr(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),lr(this.settings,t.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(t,n){let i=t.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=q0(),this.stage=new iy({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(t),this.container=this.stage.getContainer(),this.views=new sy(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var t;window.addEventListener("unload",(function(n){this.destroy()}).bind(this)),this.settings.fullsize?t=window:t=this.container,this._onScroll=this.onScroll.bind(this),t.addEventListener("scroll",this._onScroll)}removeEventListeners(){var t;this.settings.fullsize?t=window:t=this.container,t.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(t){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Me.MANAGERS.ORIENTATION_CHANGE,n)}).bind(this),500)}onResized(t){this.resize()}resize(t,n,i){let a=this.stage.size(t,n);if(this.winBounds=Wa(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===a.width&&this._stageSize.height===a.height||(this._stageSize=a,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Me.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(t,n){return new this.View(t,lr(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(t,n,i){let a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(t||n.index===0)return;if(a=n.next(),a&&!a.properties.includes("page-spread-left"))return i.call(this,a)}}display(t,n){var i=new wt,a=i.promise;(n===t.href||Ht(n))&&(n=void 0);var o=this.views.find(t);if(o&&t&&this.layout.name!=="pre-paginated"){let c=o.offset();if(this.settings.direction==="ltr")this.scrollTo(c.left,c.top,!0);else{let f=o.width();this.scrollTo(c.left+f,c.top,!0)}if(n){let f=o.locationOf(n),v=o.width();this.moveTo(f,v)}return i.resolve(),a}this.clear();let u=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&t.properties.includes("page-spread-right")&&(u=!0),this.add(t,u).then((function(c){if(n){let f=c.locationOf(n),v=c.width();this.moveTo(f,v)}}).bind(this),c=>{i.reject(c)}).then((function(){return this.handleNextPrePaginated(u,t,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),a}afterDisplayed(t){this.emit(Me.MANAGERS.ADDED,t)}afterResized(t){this.emit(Me.MANAGERS.RESIZE,t.section)}moveTo(t,n){var i=0,a=0;this.isPaginated?(i=Math.floor(t.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),a=Math.floor(t.top/this.layout.delta)*this.layout.delta,a+this.layout.delta>this.container.scrollHeight&&(a=this.container.scrollHeight-this.layout.delta)):a=t.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-n),this.scrollTo(i,a,!0)}add(t,n){var i=this.createView(t,n);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Me.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Me.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}append(t,n){var i=this.createView(t,n);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Me.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Me.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}prepend(t,n){var i=this.createView(t,n);return i.on(Me.VIEWS.RESIZED,a=>{this.counter(a)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Me.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Me.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}counter(t){this.settings.axis==="vertical"?this.scrollBy(0,t.heightDelta,!0):this.scrollBy(t.widthDelta,0,!0)}next(){var t,n;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):t=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):t=this.views.last().section.next()):t=this.views.last().section.next(),t)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&t.properties.includes("page-spread-right")&&(a=!0),this.append(t,a).then((function(){return this.handleNextPrePaginated(a,t,this.append)}).bind(this),o=>o).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var t,n;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):t=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):t=this.views.first().section.prev()):t=this.views.first().section.prev(),t)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof t.prev()!="object"&&(a=!0),this.prepend(t,a).then((function(){var o;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(o=t.prev(),o))return this.prepend(o)}).bind(this),o=>o).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var t=this.visible();return t.length?t[t.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let t=this.visible(),n=this.container.getBoundingClientRect(),i=n.height<window.innerHeight?n.height:window.innerHeight,a=n.width<window.innerWidth?n.width:window.innerWidth,o=this.settings.axis==="vertical";this.settings.direction;let u=0,c=0;return this.settings.fullsize&&(u=o?window.scrollY:window.scrollX),t.map(v=>{let{index:x,href:w}=v.section,C=v.position(),S=v.width(),j=v.height(),k,g,E,_;o?(k=u+n.top-C.top+c,g=k+i-c,_=this.layout.count(j,i).pages,E=i):(k=u+n.left-C.left+c,g=k+a-c,_=this.layout.count(S,a).pages,E=a);let R=Math.ceil(k/E),M=[],D=Math.ceil(g/E);if(this.settings.direction==="rtl"&&!o){let U=R;R=_-D,D=_-U}M=[];for(var L=R;L<=D;L++){let U=L+1;M.push(U)}let F=this.mapping.page(v.contents,v.section.cfiBase,k,g);return{index:x,href:w,pages:M,totalPages:_,mapping:F}})}paginatedLocation(){let t=this.visible(),n=this.container.getBoundingClientRect(),i=0,a=0;return this.settings.fullsize&&(i=window.scrollX),t.map(u=>{let{index:c,href:f}=u.section,v,x=u.position(),w=u.width(),C,S,j;this.settings.direction==="rtl"?(v=n.right-i,j=Math.min(Math.abs(v-x.left),this.layout.width)-a,S=x.width-(x.right-v)-a,C=S-j):(v=n.left+i,j=Math.min(x.right-v,this.layout.width)-a,C=v-x.left+a,S=C+j),a+=j;let k=this.mapping.page(u.contents,u.section.cfiBase,C,S),g=this.layout.count(w).pages,E=Math.floor(C/this.layout.pageWidth),_=[],R=Math.floor(S/this.layout.pageWidth);if(E<0&&(E=0,R=R+1),this.settings.direction==="rtl"){let D=E;E=g-R,R=g-D}for(var M=E+1;M<=R;M++){let D=M;_.push(D)}return{index:c,href:f,pages:_,totalPages:g,mapping:k}})}isVisible(t,n,i,a){var o=t.position(),u=a||this.bounds();return this.settings.axis==="horizontal"&&o.right>u.left-n&&o.left<u.right+i?!0:this.settings.axis==="vertical"&&o.bottom>u.top-n&&o.top<u.bottom+i}visible(){for(var t=this.bounds(),n=this.views.displayed(),i=n.length,a=[],o,u,c=0;c<i;c++)u=n[c],o=this.isVisible(u,0,0,t),o===!0&&a.push(u);return a}scrollBy(t,n,i){let a=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(t*a,n*a):(t&&(this.container.scrollLeft+=t*a),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(t,n,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(t,n):(this.container.scrollLeft=t,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let t,n;this.settings.fullsize?(t=window.scrollY,n=window.scrollX):(t=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=t,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(Me.MANAGERS.SCROLL,{top:t,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Me.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var t;return t=this.stage.bounds(),t}applyLayout(t){this.layout=t,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(t){this.viewSettings.layout=t,this.mapping=new Ga(t.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(t)})}updateWritingMode(t){this.writingMode=t}updateAxis(t,n){!n&&t===this.settings.axis||(this.settings.axis=t,this.stage&&this.stage.axis(t),this.viewSettings.axis=t,this.mapping&&(this.mapping=new Ga(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(t==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(t,n="auto"){let i=t==="paginated"||t==="auto";this.isPaginated=i,t==="scrolled-doc"||t==="scrolled-continuous"||t==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=t,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var t=[];return this.views&&this.views.forEach(function(n){const i=n&&n.contents;i&&t.push(i)}),t}direction(t="ltr"){this.settings.direction=t,this.stage&&this.stage.direction(t),this.viewSettings.direction=t,this.updateLayout()}isRendered(){return this.rendered}}sn(Ya.prototype);const ay={easeInCubic:function(h){return Math.pow(h,3)}};class Wu{constructor(t,n){this.settings=lr({duration:80,minVelocity:.2,minDistance:10,easing:ay.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(t)}setup(t){this.manager=t,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Me.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Me.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(t){let n=t.contents;["touchstart","touchmove","touchend"].forEach(i=>{n.on(i,a=>this.triggerViewEvent(a,n))})}triggerViewEvent(t,n){this.emit(t.type,t,n)}onScroll(t){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(t){this.resizeCanceler=!0}onTouchStart(t){let{screenX:n,screenY:i}=t.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}onTouchMove(t){let{screenX:n,screenY:i}=t.touches[0],a=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&a<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(t){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let t=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,i=Math.abs(n),a=this.endTime-this.startTime,o=n/a,u=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=t)return 0;if(o>u)return-1;if(o<-u)return 1}needsSnap(){let t=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return t%n!==0}snap(t=0){let n=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,a=Math.round(n/i)*i;return t&&(a+=t*i),this.smoothScrollTo(a)}smoothScrollTo(t){const n=new wt,i=this.scrollLeft,a=this.now(),o=this.settings.duration,u=this.settings.easing;this.snapping=!0;function c(){const f=this.now(),v=Math.min(1,(f-a)/o);if(u(v),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}v<1?(window.requestAnimationFrame(c.bind(this)),this.scrollTo(i+(t-i)*v,0)):(this.scrollTo(t,0),this.snapping=!1,n.resolve())}return c.call(this),n.promise}scrollTo(t=0,n=0){this.fullsize?window.scroll(t,n):(this.scroller.scrollLeft=t,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}sn(Wu.prototype);var oy=Op();const ly=Mn(oy);class uy extends Ya{constructor(t){super(t),this.name="continuous",this.settings=lr(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),lr(this.settings,t.settings||{}),t.settings.gap!="undefined"&&t.settings.gap===0&&(this.settings.gap=t.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(t,n){return Ya.prototype.display.call(this,t,n).then((function(){return this.fill()}).bind(this))}fill(t){var n=t||new wt;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(n):n.resolve()}),n.promise}moveTo(t){var n=0,i=0;this.isPaginated?(n=Math.floor(t.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(i=t.top,t.top+this.settings.offsetDelta),(n>0||i>0)&&this.scrollBy(n,i,!0)}afterResized(t){this.emit(Me.MANAGERS.RESIZE,t.section)}removeShownListeners(t){t.onDisplayed=function(){}}add(t){var n=this.createView(t);return this.views.append(n),n.on(Me.VIEWS.RESIZED,i=>{n.expanded=!0}),n.on(Me.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(Me.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(t){var n=this.createView(t);return n.on(Me.VIEWS.RESIZED,i=>{n.expanded=!0}),n.on(Me.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(Me.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(t){var n=this.createView(t);return n.on(Me.VIEWS.RESIZED,i=>{this.counter(i),n.expanded=!0}),n.on(Me.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(Me.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(t){this.settings.axis==="vertical"?this.scrollBy(0,t.heightDelta,!0):this.scrollBy(t.widthDelta,0,!0)}update(t){for(var n=this.bounds(),i=this.views.all(),a=i.length,o=typeof t<"u"?t:this.settings.offset||0,u,c,f=new wt,v=[],x=0;x<a;x++)if(c=i[x],u=this.isVisible(c,o,o,n),u===!0)if(c.displayed)c.show();else{let w=c.display(this.request).then(function(C){C.show()},C=>{c.hide()});v.push(w)}else this.q.enqueue(c.destroy.bind(c)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return v.length?Promise.all(v).catch(w=>{f.reject(w)}):(f.resolve(),f.promise)}check(t,n){var i=new wt,a=[],o=this.settings.axis==="horizontal",u=this.settings.offset||0;t&&o&&(u=t),n&&!o&&(u=n);var c=this._bounds;let f=o?this.scrollLeft:this.scrollTop,v=o?Math.floor(c.width):c.height,x=o?this.container.scrollWidth:this.container.scrollHeight,w=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",C=this.settings.rtlScrollType,S=this.settings.direction==="rtl";this.settings.fullsize?(o&&S&&C==="negative"||!o&&S&&C==="default")&&(f=f*-1):(S&&C==="default"&&w==="horizontal"&&(f=x-v-f),S&&C==="negative"&&w==="horizontal"&&(f=f*-1));let j=()=>{let R=this.views.first(),M=R&&R.section.prev();M&&a.push(this.prepend(M))},k=()=>{let R=this.views.last(),M=R&&R.section.next();M&&a.push(this.append(M))},g=f+v+u,E=f-u;g>=x&&k(),E<0&&j();let _=a.map(R=>R.display(this.request));return a.length?Promise.all(_).then(()=>this.check()).then(()=>this.update(u),R=>R):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var t=new wt,n=this.views.displayed(),i=n[0],a=n[n.length-1],o=this.views.indexOf(i),u=this.views.indexOf(a),c=this.views.slice(0,o),f=this.views.slice(u+1),v=0;v<c.length-1;v++)this.erase(c[v],c);for(var x=1;x<f.length;x++)this.erase(f[x]);return t.resolve(),t.promise}erase(t,n){var i,a;this.settings.fullsize?(i=window.scrollY,a=window.scrollX):(i=this.container.scrollTop,a=this.container.scrollLeft);var o=t.bounds();this.views.remove(t),n&&(this.settings.axis==="vertical"?this.scrollTo(0,i-o.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(a+Math.floor(o.width),0,!0):this.scrollTo(a,0,!0):this.scrollTo(a-Math.floor(o.width),0,!0))}addEventListeners(t){window.addEventListener("unload",(function(n){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Wu(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var t;this.tick=Zu;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(t=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(t=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),t.addEventListener("scroll",this._onScroll),this._scrolled=ly(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var t;this.settings.fullsize?t=window:t=this.container,t.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let t,n,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(t=window.scrollY*i,n=window.scrollX*i):(t=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=t,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(t-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=t,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Me.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Me.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let t=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(t,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let t=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-t,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(t){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(t,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Wu(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class ec{constructor(t,n){this.settings=lr(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),lr(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=t,this.hooks={},this.hooks.display=new $r(this),this.hooks.serialize=new $r(this),this.hooks.content=new $r(this),this.hooks.unloaded=new $r(this),this.hooks.layout=new $r(this),this.hooks.render=new $r(this),this.hooks.show=new $r(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new B0(this),this.annotations=new j0(this),this.epubcfi=new xt,this.q=new Ku(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new wt,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(t){this.manager=t}requireManager(t){var n;return typeof t=="string"&&t==="default"?n=Ya:typeof t=="string"&&t==="continuous"?n=uy:n=t,n}requireView(t){var n;return typeof t=="string"&&t==="iframe"?n=Np:n=t,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Me.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Me.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Me.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Me.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Me.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Me.RENDITION.STARTED),this.starting.resolve()}attachTo(t){return this.q.enqueue((function(){this.manager.render(t,{width:this.settings.width,height:this.settings.height}),this.emit(Me.RENDITION.ATTACHED)}).bind(this))}display(t){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,t)}_display(t){if(this.book){this.epubcfi.isCfiString(t);var n=new wt,i=n.promise,a;return this.displaying=n,this.book.locations.length()&&vp(t)&&(t=this.book.locations.cfiFromPercentage(parseFloat(t))),a=this.book.spine.get(t),a?(this.manager.display(a,t).then(()=>{n.resolve(a),this.displaying=void 0,this.emit(Me.RENDITION.DISPLAYED,a),this.reportLocation()},o=>{this.emit(Me.RENDITION.DISPLAY_ERROR,o)}),i):(n.reject(new Error("No Section Found")),i)}}afterDisplayed(t){t.on(Me.VIEWS.MARK_CLICKED,(n,i)=>this.triggerMarkEvent(n,i,t.contents)),this.hooks.render.trigger(t,this).then(()=>{t.contents?this.hooks.content.trigger(t.contents,this).then(()=>{this.emit(Me.RENDITION.RENDERED,t.section,t)}):this.emit(Me.RENDITION.RENDERED,t.section,t)})}afterRemoved(t){this.hooks.unloaded.trigger(t,this).then(()=>{this.emit(Me.RENDITION.REMOVED,t.section,t)})}onResized(t,n){this.emit(Me.RENDITION.RESIZED,{width:t.width,height:t.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(t){this.emit(Me.RENDITION.ORIENTATION_CHANGE,t)}moveTo(t){this.manager.moveTo(t)}resize(t,n,i){t&&(this.settings.width=t),n&&(this.settings.height=n),this.manager.resize(t,n,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(t){var n,i=this.settings.layout||t.layout||"reflowable",a=this.settings.spread||t.spread||"auto",o=this.settings.orientation||t.orientation||"auto",u=this.settings.flow||t.flow||"auto",c=t.viewport||"",f=this.settings.minSpreadWidth||t.minSpreadWidth||800,v=this.settings.direction||t.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:i,spread:a,orientation:o,flow:u,viewport:c,minSpreadWidth:f,direction:v},n}flow(t){var n=t;(t==="scrolled"||t==="scrolled-doc"||t==="scrolled-continuous")&&(n="scrolled"),(t==="auto"||t==="paginated")&&(n="paginated"),this.settings.flow=t,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(t){return t&&(this._layout=new kp(t),this._layout.spread(t.spread,this.settings.minSpreadWidth),this._layout.on(Me.LAYOUT.UPDATED,(n,i)=>{this.emit(Me.RENDITION.LAYOUT,n,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(t,n){this.settings.spread=t,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(t,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(t){this.settings.direction=t||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(a){let o=this.located(a);!o||!o.start||!o.end||(this.location=o,this.emit(Me.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Me.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let a=this.located(i);if(!a||!a.start||!a.end)return;this.location=a,this.emit(Me.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Me.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var t=this.manager.currentLocation();if(t&&t.then&&typeof t.then=="function")t.then((function(n){return this.located(n)}).bind(this));else if(t)return this.located(t)}located(t){if(!t.length)return{};let n=t[0],i=t[t.length-1],a={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},o=this.book.locations.locationFromCfi(n.mapping.start),u=this.book.locations.locationFromCfi(i.mapping.end);o!=null&&(a.start.location=o,a.start.percentage=this.book.locations.percentageFromLocation(o)),u!=null&&(a.end.location=u,a.end.percentage=this.book.locations.percentageFromLocation(u));let c=this.book.pageList.pageFromCfi(n.mapping.start),f=this.book.pageList.pageFromCfi(i.mapping.end);return c!=-1&&(a.start.page=c),f!=-1&&(a.end.page=f),i.index===this.book.spine.last().index&&a.end.displayed.page>=a.end.displayed.total&&(a.atEnd=!0),n.index===this.book.spine.first().index&&a.start.displayed.page===1&&(a.atStart=!0),a}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(t){Fa.forEach(n=>{t.on(n,i=>this.triggerViewEvent(i,t))}),t.on(Me.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,t))}triggerViewEvent(t,n){this.emit(t.type,t,n)}triggerSelectedEvent(t,n){this.emit(Me.RENDITION.SELECTED,t,n)}triggerMarkEvent(t,n,i){this.emit(Me.RENDITION.MARK_CLICKED,t,n,i)}getRange(t,n){var i=new xt(t),a=this.manager.visible().filter(function(o){if(i.spinePos===o.index)return!0});if(a.length)return a[0].contents.range(i,n)}adjustImages(t){if(this._layout.name==="pre-paginated")return new Promise(function(o){o()});let n=t.window.getComputedStyle(t.content,null),i=(t.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,a=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return t.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(o,u){setTimeout(function(){o()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(t){t&&t.on(Me.CONTENTS.LINK_CLICKED,n=>{let i=this.book.path.relative(n);this.display(i)})}injectStylesheet(t,n){let i=t.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),t.getElementsByTagName("head")[0].appendChild(i)}injectScript(t,n){let i=t.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",t.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(t,n){let i=this.book.packaging.metadata.identifier,a=t.createElement("meta");a.setAttribute("name","dc.relation.ispartof"),i&&a.setAttribute("content",i),t.getElementsByTagName("head")[0].appendChild(a)}}sn(ec.prototype);function jn(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ku={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Md;function cy(){return Md||(Md=1,(function(h,t){(function(n){h.exports=n()})(function(){return(function n(i,a,o){function u(v,x){if(!a[v]){if(!i[v]){var w=typeof jn=="function"&&jn;if(!x&&w)return w(v,!0);if(c)return c(v,!0);var C=new Error("Cannot find module '"+v+"'");throw C.code="MODULE_NOT_FOUND",C}var S=a[v]={exports:{}};i[v][0].call(S.exports,function(j){var k=i[v][1][j];return u(k||j)},S,S.exports,n,i,a,o)}return a[v].exports}for(var c=typeof jn=="function"&&jn,f=0;f<o.length;f++)u(o[f]);return u})({1:[function(n,i,a){var o=n("./utils"),u=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var v=[],x,w,C,S,j,k,g,E=0,_=f.length,R=_,M=o.getTypeOf(f)!=="string";E<f.length;)R=_-E,M?(x=f[E++],w=E<_?f[E++]:0,C=E<_?f[E++]:0):(x=f.charCodeAt(E++),w=E<_?f.charCodeAt(E++):0,C=E<_?f.charCodeAt(E++):0),S=x>>2,j=(x&3)<<4|w>>4,k=R>1?(w&15)<<2|C>>6:64,g=R>2?C&63:64,v.push(c.charAt(S)+c.charAt(j)+c.charAt(k)+c.charAt(g));return v.join("")},a.decode=function(f){var v,x,w,C,S,j,k,g=0,E=0,_="data:";if(f.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");f=f.replace(/[^A-Za-z0-9+/=]/g,"");var R=f.length*3/4;if(f.charAt(f.length-1)===c.charAt(64)&&R--,f.charAt(f.length-2)===c.charAt(64)&&R--,R%1!==0)throw new Error("Invalid base64 input, bad content length.");var M;for(u.uint8array?M=new Uint8Array(R|0):M=new Array(R|0);g<f.length;)C=c.indexOf(f.charAt(g++)),S=c.indexOf(f.charAt(g++)),j=c.indexOf(f.charAt(g++)),k=c.indexOf(f.charAt(g++)),v=C<<2|S>>4,x=(S&15)<<4|j>>2,w=(j&3)<<6|k,M[E++]=v,j!==64&&(M[E++]=x),k!==64&&(M[E++]=w);return M}},{"./support":30,"./utils":32}],2:[function(n,i,a){var o=n("./external"),u=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function v(x,w,C,S,j){this.compressedSize=x,this.uncompressedSize=w,this.crc32=C,this.compression=S,this.compressedContent=j}v.prototype={getContentWorker:function(){var x=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),w=this;return x.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(x,w,C){return x.pipe(new c).pipe(new f("uncompressedSize")).pipe(w.compressWorker(C)).pipe(new f("compressedSize")).withStreamInfo("compression",w)},i.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,a){var o=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,a){var o=n("./utils");function u(){for(var x,w=[],C=0;C<256;C++){x=C;for(var S=0;S<8;S++)x=x&1?3988292384^x>>>1:x>>>1;w[C]=x}return w}var c=u();function f(x,w,C,S){var j=c,k=S+C;x=x^-1;for(var g=S;g<k;g++)x=x>>>8^j[(x^w[g])&255];return x^-1}function v(x,w,C,S){var j=c,k=S+C;x=x^-1;for(var g=S;g<k;g++)x=x>>>8^j[(x^w.charCodeAt(g))&255];return x^-1}i.exports=function(w,C){if(typeof w>"u"||!w.length)return 0;var S=o.getTypeOf(w)!=="string";return S?f(C|0,w,w.length,0):v(C|0,w,w.length,0)}},{"./utils":32}],5:[function(n,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,i,a){var o=null;typeof Promise<"u"?o=Promise:o=n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=n("pako"),c=n("./utils"),f=n("./stream/GenericWorker"),v=o?"uint8array":"array";a.magic="\b\0";function x(w,C){f.call(this,"FlateWorker/"+w),this._pako=null,this._pakoAction=w,this._pakoOptions=C,this.meta={}}c.inherits(x,f),x.prototype.processChunk=function(w){this.meta=w.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(v,w.data),!1)},x.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var w=this;this._pako.onData=function(C){w.push({data:C,meta:w.meta})}},a.compressWorker=function(w){return new x("Deflate",w)},a.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,a){var o=n("../utils"),u=n("../stream/GenericWorker"),c=n("../utf8"),f=n("../crc32"),v=n("../signature"),x=function(E,_){var R="",M;for(M=0;M<_;M++)R+=String.fromCharCode(E&255),E=E>>>8;return R},w=function(E,_){var R=E;return E||(R=_?16893:33204),(R&65535)<<16},C=function(E){return(E||0)&63},S=function(E,_,R,M,D,L){var F=E.file,U=E.compression,z=L!==c.utf8encode,q=o.transformTo("string",L(F.name)),ae=o.transformTo("string",c.utf8encode(F.name)),$=F.comment,oe=o.transformTo("string",L($)),xe=o.transformTo("string",c.utf8encode($)),we=ae.length!==F.name.length,Te=xe.length!==$.length,ve,te,pe="",me="",W="",ne=F.dir,Le=F.date,Ce={crc32:0,compressedSize:0,uncompressedSize:0};(!_||R)&&(Ce.crc32=E.crc32,Ce.compressedSize=E.compressedSize,Ce.uncompressedSize=E.uncompressedSize);var Be=0;_&&(Be|=8),!z&&(we||Te)&&(Be|=2048);var We=0,Ge=0;ne&&(We|=16),D==="UNIX"?(Ge=798,We|=w(F.unixPermissions,ne)):(Ge=20,We|=C(F.dosPermissions)),ve=Le.getUTCHours(),ve=ve<<6,ve=ve|Le.getUTCMinutes(),ve=ve<<5,ve=ve|Le.getUTCSeconds()/2,te=Le.getUTCFullYear()-1980,te=te<<4,te=te|Le.getUTCMonth()+1,te=te<<5,te=te|Le.getUTCDate(),we&&(me=x(1,1)+x(f(q),4)+ae,pe+="up"+x(me.length,2)+me),Te&&(W=x(1,1)+x(f(oe),4)+xe,pe+="uc"+x(W.length,2)+W);var ce="";ce+=`
\0`,ce+=x(Be,2),ce+=U.magic,ce+=x(ve,2),ce+=x(te,2),ce+=x(Ce.crc32,4),ce+=x(Ce.compressedSize,4),ce+=x(Ce.uncompressedSize,4),ce+=x(q.length,2),ce+=x(pe.length,2);var ze=v.LOCAL_FILE_HEADER+ce+q+pe,qe=v.CENTRAL_FILE_HEADER+x(Ge,2)+ce+x(oe.length,2)+"\0\0\0\0"+x(We,4)+x(M,4)+q+pe+oe;return{fileRecord:ze,dirRecord:qe}},j=function(E,_,R,M,D){var L="",F=o.transformTo("string",D(M));return L=v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+x(E,2)+x(E,2)+x(_,4)+x(R,4)+x(F.length,2)+F,L},k=function(E){var _="";return _=v.DATA_DESCRIPTOR+x(E.crc32,4)+x(E.compressedSize,4)+x(E.uncompressedSize,4),_};function g(E,_,R,M){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=R,this.encodeFileName=M,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,u),g.prototype.push=function(E){var _=E.meta.percent||0,R=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,u.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:R?(_+100*(R-M-1))/R:100}}))},g.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var _=this.streamFiles&&!E.file.dir;if(_){var R=S(E,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(E){this.accumulate=!1;var _=this.streamFiles&&!E.file.dir,R=S(E,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),_)this.push({data:k(E),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var E=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var R=this.bytesWritten-E,M=j(this.dirRecords.length,R,E,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(E){this._sources.push(E);var _=this;return E.on("data",function(R){_.processChunk(R)}),E.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),E.on("error",function(R){_.error(R)}),this},g.prototype.resume=function(){if(!u.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},g.prototype.error=function(E){var _=this._sources;if(!u.prototype.error.call(this,E))return!1;for(var R=0;R<_.length;R++)try{_[R].error(E)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var E=this._sources,_=0;_<E.length;_++)E[_].lock()},i.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,a){var o=n("../compressions"),u=n("./ZipFileWorker"),c=function(f,v){var x=f||v,w=o[x];if(!w)throw new Error(x+" is not a valid compression method !");return w};a.generateWorker=function(f,v,x){var w=new u(v.streamFiles,x,v.platform,v.encodeFileName),C=0;try{f.forEach(function(S,j){C++;var k=c(j.options.compression,v.compression),g=j.options.compressionOptions||v.compressionOptions||{},E=j.dir,_=j.date;j._compressWorker(k,g).withStreamInfo("file",{name:S,dir:E,date:_,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(w)}),w.entriesCount=C}catch(S){w.error(S)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}o.prototype=n("./object"),o.prototype.loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(u,c){return new o().loadAsync(u,c)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,a){var o=n("./utils"),u=n("./external"),c=n("./utf8"),f=n("./zipEntries"),v=n("./stream/Crc32Probe"),x=n("./nodejsUtils");function w(C){return new u.Promise(function(S,j){var k=C.decompressed.getContentWorker().pipe(new v);k.on("error",function(g){j(g)}).on("end",function(){k.streamInfo.crc32!==C.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}i.exports=function(C,S){var j=this;return S=o.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),x.isNode&&x.isStream(C)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",C,!0,S.optimizedBinaryString,S.base64).then(function(k){var g=new f(S);return g.load(k),g}).then(function(g){var E=[u.Promise.resolve(g)],_=g.files;if(S.checkCRC32)for(var R=0;R<_.length;R++)E.push(w(_[R]));return u.Promise.all(E)}).then(function(g){for(var E=g.shift(),_=E.files,R=0;R<_.length;R++){var M=_[R],D=M.fileNameStr,L=o.resolve(M.fileNameStr);j.file(L,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:S.createFolders}),M.dir||(j.file(L).unsafeOriginalName=D)}return E.zipComment.length&&(j.comment=E.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,a){var o=n("../utils"),u=n("../stream/GenericWorker");function c(f,v){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(v)}o.inherits(c,u),c.prototype._bindStream=function(f){var v=this;this._stream=f,f.pause(),f.on("data",function(x){v.push({data:x,meta:{percent:0}})}).on("error",function(x){v.isPaused?this.generatedError=x:v.error(x)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},c.prototype.pause=function(){return u.prototype.pause.call(this)?(this._stream.pause(),!0):!1},c.prototype.resume=function(){return u.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,a){var o=n("readable-stream").Readable,u=n("../utils");u.inherits(c,o);function c(f,v,x){o.call(this,v),this._helper=f;var w=this;f.on("data",function(C,S){w.push(C)||w._helper.pause(),x&&x(S)}).on("error",function(C){w.emit("error",C)}).on("end",function(){w.push(null)})}c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,a){var o=n("./utf8"),u=n("./utils"),c=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),v=n("./defaults"),x=n("./compressedObject"),w=n("./zipObject"),C=n("./generate"),S=n("./nodejsUtils"),j=n("./nodejs/NodejsStreamInputAdapter"),k=function(D,L,F){var U=u.getTypeOf(L),z,q=u.extend(F||{},v);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&q.unixPermissions&16384&&(q.dir=!0),q.dosPermissions&&q.dosPermissions&16&&(q.dir=!0),q.dir&&(D=E(D)),q.createFolders&&(z=g(D))&&_.call(this,z,!0);var ae=U==="string"&&q.binary===!1&&q.base64===!1;(!F||typeof F.binary>"u")&&(q.binary=!ae);var $=L instanceof x&&L.uncompressedSize===0;($||q.dir||!L||L.length===0)&&(q.base64=!1,q.binary=!0,L="",q.compression="STORE",U="string");var oe=null;L instanceof x||L instanceof c?oe=L:S.isNode&&S.isStream(L)?oe=new j(D,L):oe=u.prepareContent(D,L,q.binary,q.optimizedBinaryString,q.base64);var xe=new w(D,oe,q);this.files[D]=xe},g=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var L=D.lastIndexOf("/");return L>0?D.substring(0,L):""},E=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},_=function(D,L){return L=typeof L<"u"?L:v.createFolders,D=E(D),this.files[D]||k.call(this,D,null,{dir:!0,createFolders:L}),this.files[D]};function R(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var L,F,U;for(L in this.files)U=this.files[L],F=L.slice(this.root.length,L.length),F&&L.slice(0,this.root.length)===this.root&&D(F,U)},filter:function(D){var L=[];return this.forEach(function(F,U){D(F,U)&&L.push(U)}),L},file:function(D,L,F){if(arguments.length===1)if(R(D)){var U=D;return this.filter(function(q,ae){return!ae.dir&&U.test(q)})}else{var z=this.files[this.root+D];return z&&!z.dir?z:null}else D=this.root+D,k.call(this,D,L,F);return this},folder:function(D){if(!D)return this;if(R(D))return this.filter(function(z,q){return q.dir&&D.test(z)});var L=this.root+D,F=_.call(this,L),U=this.clone();return U.root=F.name,U},remove:function(D){D=this.root+D;var L=this.files[D];if(L||(D.slice(-1)!=="/"&&(D+="/"),L=this.files[D]),L&&!L.dir)delete this.files[D];else for(var F=this.filter(function(z,q){return q.name.slice(0,D.length)===D}),U=0;U<F.length;U++)delete this.files[F[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var L,F={};try{if(F=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode}),F.type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");u.checkSupport(F.type),(F.platform==="darwin"||F.platform==="freebsd"||F.platform==="linux"||F.platform==="sunos")&&(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var U=F.comment||this.comment||"";L=C.generateWorker(this,F,U)}catch(z){L=new c("error"),L.error(z)}return new f(L,F.type||"string",F.mimeType)},generateAsync:function(D,L){return this.generateInternalStream(D).accumulate(L)},generateNodeStream:function(D,L){return D=D||{},D.type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(L)}};i.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,a){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,a){var o=n("./DataReader"),u=n("../utils");function c(f){o.call(this,f);for(var v=0;v<this.data.length;v++)f[v]=f[v]&255}u.inherits(c,o),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var v=f.charCodeAt(0),x=f.charCodeAt(1),w=f.charCodeAt(2),C=f.charCodeAt(3),S=this.length-4;S>=0;--S)if(this.data[S]===v&&this.data[S+1]===x&&this.data[S+2]===w&&this.data[S+3]===C)return S-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var v=f.charCodeAt(0),x=f.charCodeAt(1),w=f.charCodeAt(2),C=f.charCodeAt(3),S=this.readData(4);return v===S[0]&&x===S[1]&&w===S[2]&&C===S[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,v},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,i,a){var o=n("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f=0,v;for(this.checkOffset(c),v=this.index+c-1;v>=this.index;v--)f=(f<<8)+this.byteAt(v);return this.index+=c,f},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC((c>>25&127)+1980,(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(c&31)<<1))}},i.exports=u},{"../utils":32}],19:[function(n,i,a){var o=n("./Uint8ArrayReader"),u=n("../utils");function c(f){o.call(this,f)}u.inherits(c,o),c.prototype.readData=function(f){this.checkOffset(f);var v=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,v},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,a){var o=n("./DataReader"),u=n("../utils");function c(f){o.call(this,f)}u.inherits(c,o),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){var v=this.readData(4);return f===v},c.prototype.readData=function(f){this.checkOffset(f);var v=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,v},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,i,a){var o=n("./ArrayReader"),u=n("../utils");function c(f){o.call(this,f)}u.inherits(c,o),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,v},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,a){var o=n("../utils"),u=n("../support"),c=n("./ArrayReader"),f=n("./StringReader"),v=n("./NodeBufferReader"),x=n("./Uint8ArrayReader");i.exports=function(w){var C=o.getTypeOf(w);return o.checkSupport(C),C==="string"&&!u.uint8array?new f(w):C==="nodebuffer"?new v(w):u.uint8array?new x(o.transformTo("uint8array",w)):new c(o.transformTo("array",w))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,a){var o=n("./GenericWorker"),u=n("../utils");function c(f){o.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(c,o),c.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,a){var o=n("./GenericWorker"),u=n("../crc32"),c=n("../utils");function f(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(f,o),f.prototype.processChunk=function(v){this.streamInfo.crc32=u(v.data,this.streamInfo.crc32||0),this.push(v)},i.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,a){var o=n("../utils"),u=n("./GenericWorker");function c(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(c,u),c.prototype.processChunk=function(f){if(f){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+f.data.length}u.prototype.processChunk.call(this,f)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,a){var o=n("../utils"),u=n("./GenericWorker"),c=16*1024;function f(v){u.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(w){x.dataIsReady=!0,x.data=w,x.max=w&&w.length||0,x.type=o.getTypeOf(w),x.isPaused||x._tickAndRepeat()},function(w){x.error(w)})}o.inherits(f,u),f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return u.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0):!1},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=c,x=null,w=Math.min(this.max,this.index+v);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,w);break;case"uint8array":x=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":x=this.data.slice(this.index,w);break}return this.index=w,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,a){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return this.isFinished?!1:(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(f){c.processChunk(f)}),u.on("end",function(){c.end()}),u.on("error",function(f){c.error(f)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var u=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},i.exports=o},{}],29:[function(n,i,a){var o=n("../utils"),u=n("./ConvertWorker"),c=n("./GenericWorker"),f=n("../base64"),v=n("../support"),x=n("../external"),w=null;if(v.nodestream)try{w=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function C(g,E,_){switch(g){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),_);case"base64":return f.encode(E);default:return o.transformTo(g,E)}}function S(g,E){var _,R=0,M=null,D=0;for(_=0;_<E.length;_++)D+=E[_].length;switch(g){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(M=new Uint8Array(D),_=0;_<E.length;_++)M.set(E[_],R),R+=E[_].length;return M;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+g+"'")}}function j(g,E){return new x.Promise(function(_,R){var M=[],D=g._internalType,L=g._outputType,F=g._mimeType;g.on("data",function(U,z){M.push(U),E&&E(z)}).on("error",function(U){M=[],R(U)}).on("end",function(){try{var U=C(L,S(D,M),F);_(U)}catch(z){R(z)}M=[]}).resume()})}function k(g,E,_){var R=E;switch(E){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string";break}try{this._internalType=R,this._outputType=E,this._mimeType=_,o.checkSupport(R),this._worker=g.pipe(new u(R)),g.lock()}catch(M){this._worker=new c("error"),this._worker.error(M)}}k.prototype={accumulate:function(g){return j(this,g)},on:function(g,E){var _=this;return g==="data"?this._worker.on(g,function(R){E.call(_,R.data,R.meta)}):this._worker.on(g,function(){o.delay(E,arguments,_)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new w(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,c=new u;c.append(o),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,a){for(var o=n("./utils"),u=n("./support"),c=n("./nodejsUtils"),f=n("./stream/GenericWorker"),v=new Array(256),x=0;x<256;x++)v[x]=x>=252?6:x>=248?5:x>=240?4:x>=224?3:x>=192?2:1;v[254]=v[254]=1;var w=function(g){var E,_,R,M,D,L=g.length,F=0;for(M=0;M<L;M++)_=g.charCodeAt(M),(_&64512)===55296&&M+1<L&&(R=g.charCodeAt(M+1),(R&64512)===56320&&(_=65536+(_-55296<<10)+(R-56320),M++)),F+=_<128?1:_<2048?2:_<65536?3:4;for(u.uint8array?E=new Uint8Array(F):E=new Array(F),D=0,M=0;D<F;M++)_=g.charCodeAt(M),(_&64512)===55296&&M+1<L&&(R=g.charCodeAt(M+1),(R&64512)===56320&&(_=65536+(_-55296<<10)+(R-56320),M++)),_<128?E[D++]=_:_<2048?(E[D++]=192|_>>>6,E[D++]=128|_&63):_<65536?(E[D++]=224|_>>>12,E[D++]=128|_>>>6&63,E[D++]=128|_&63):(E[D++]=240|_>>>18,E[D++]=128|_>>>12&63,E[D++]=128|_>>>6&63,E[D++]=128|_&63);return E},C=function(g,E){var _;for(E=E||g.length,E>g.length&&(E=g.length),_=E-1;_>=0&&(g[_]&192)===128;)_--;return _<0||_===0?E:_+v[g[_]]>E?_:E},S=function(g){var E,_,R,M,D=g.length,L=new Array(D*2);for(_=0,E=0;E<D;){if(R=g[E++],R<128){L[_++]=R;continue}if(M=v[R],M>4){L[_++]=65533,E+=M-1;continue}for(R&=M===2?31:M===3?15:7;M>1&&E<D;)R=R<<6|g[E++]&63,M--;if(M>1){L[_++]=65533;continue}R<65536?L[_++]=R:(R-=65536,L[_++]=55296|R>>10&1023,L[_++]=56320|R&1023)}return L.length!==_&&(L.subarray?L=L.subarray(0,_):L.length=_),o.applyFromCharCode(L)};a.utf8encode=function(E){return u.nodebuffer?c.newBufferFrom(E,"utf-8"):w(E)},a.utf8decode=function(E){return u.nodebuffer?o.transformTo("nodebuffer",E).toString("utf-8"):(E=o.transformTo(u.uint8array?"uint8array":"array",E),S(E))};function j(){f.call(this,"utf-8 decode"),this.leftOver=null}o.inherits(j,f),j.prototype.processChunk=function(g){var E=o.transformTo(u.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var _=E;E=new Uint8Array(_.length+this.leftOver.length),E.set(this.leftOver,0),E.set(_,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var R=C(E),M=E;R!==E.length&&(u.uint8array?(M=E.subarray(0,R),this.leftOver=E.subarray(R,E.length)):(M=E.slice(0,R),this.leftOver=E.slice(R,E.length))),this.push({data:a.utf8decode(M),meta:g.meta})},j.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=j;function k(){f.call(this,"utf-8 encode")}o.inherits(k,f),k.prototype.processChunk=function(g){this.push({data:a.utf8encode(g.data),meta:g.meta})},a.Utf8EncodeWorker=k},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,a){var o=n("./support"),u=n("./base64"),c=n("./nodejsUtils"),f=n("./external");n("setimmediate");function v(g){var E=null;return o.uint8array?E=new Uint8Array(g.length):E=new Array(g.length),w(g,E)}a.newBlob=function(g,E){a.checkSupport("blob");try{return new Blob([g],{type:E})}catch{try{var _=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,R=new _;return R.append(g),R.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};function x(g){return g}function w(g,E){for(var _=0;_<g.length;++_)E[_]=g.charCodeAt(_)&255;return E}var C={stringifyByChunk:function(g,E,_){var R=[],M=0,D=g.length;if(D<=_)return String.fromCharCode.apply(null,g);for(;M<D;)E==="array"||E==="nodebuffer"?R.push(String.fromCharCode.apply(null,g.slice(M,Math.min(M+_,D)))):R.push(String.fromCharCode.apply(null,g.subarray(M,Math.min(M+_,D)))),M+=_;return R.join("")},stringifyByChar:function(g){for(var E="",_=0;_<g.length;_++)E+=String.fromCharCode(g[_]);return E},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function S(g){var E=65536,_=a.getTypeOf(g),R=!0;if(_==="uint8array"?R=C.applyCanBeUsed.uint8array:_==="nodebuffer"&&(R=C.applyCanBeUsed.nodebuffer),R)for(;E>1;)try{return C.stringifyByChunk(g,_,E)}catch{E=Math.floor(E/2)}return C.stringifyByChar(g)}a.applyFromCharCode=S;function j(g,E){for(var _=0;_<g.length;_++)E[_]=g[_];return E}var k={};k.string={string:x,array:function(g){return w(g,new Array(g.length))},arraybuffer:function(g){return k.string.uint8array(g).buffer},uint8array:function(g){return w(g,new Uint8Array(g.length))},nodebuffer:function(g){return w(g,c.allocBuffer(g.length))}},k.array={string:S,array:x,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(g)}},k.arraybuffer={string:function(g){return S(new Uint8Array(g))},array:function(g){return j(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:x,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(new Uint8Array(g))}},k.uint8array={string:S,array:function(g){return j(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:x,nodebuffer:function(g){return c.newBufferFrom(g)}},k.nodebuffer={string:S,array:function(g){return j(g,new Array(g.length))},arraybuffer:function(g){return k.nodebuffer.uint8array(g).buffer},uint8array:function(g){return j(g,new Uint8Array(g.length))},nodebuffer:x},a.transformTo=function(g,E){if(E||(E=""),!g)return E;a.checkSupport(g);var _=a.getTypeOf(E),R=k[_][g](E);return R},a.resolve=function(g){for(var E=g.split("/"),_=[],R=0;R<E.length;R++){var M=E[R];M==="."||M===""&&R!==0&&R!==E.length-1||(M===".."?_.pop():_.push(M))}return _.join("/")},a.getTypeOf=function(g){if(typeof g=="string")return"string";if(Object.prototype.toString.call(g)==="[object Array]")return"array";if(o.nodebuffer&&c.isBuffer(g))return"nodebuffer";if(o.uint8array&&g instanceof Uint8Array)return"uint8array";if(o.arraybuffer&&g instanceof ArrayBuffer)return"arraybuffer"},a.checkSupport=function(g){var E=o[g.toLowerCase()];if(!E)throw new Error(g+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(g){var E="",_,R;for(R=0;R<(g||"").length;R++)_=g.charCodeAt(R),E+="\\x"+(_<16?"0":"")+_.toString(16).toUpperCase();return E},a.delay=function(g,E,_){setImmediate(function(){g.apply(_||null,E||[])})},a.inherits=function(g,E){var _=function(){};_.prototype=E.prototype,g.prototype=new _},a.extend=function(){var g={},E,_;for(E=0;E<arguments.length;E++)for(_ in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],_)&&typeof g[_]>"u"&&(g[_]=arguments[E][_]);return g},a.prepareContent=function(g,E,_,R,M){var D=f.Promise.resolve(E).then(function(L){var F=o.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1);return F&&typeof FileReader<"u"?new f.Promise(function(U,z){var q=new FileReader;q.onload=function(ae){U(ae.target.result)},q.onerror=function(ae){z(ae.target.error)},q.readAsArrayBuffer(L)}):L});return D.then(function(L){var F=a.getTypeOf(L);return F?(F==="arraybuffer"?L=a.transformTo("uint8array",L):F==="string"&&(M?L=u.decode(L):_&&R!==!0&&(L=v(L))),L):f.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,a){var o=n("./reader/readerFor"),u=n("./utils"),c=n("./signature"),f=n("./zipEntry"),v=n("./support");function x(w){this.files=[],this.loadOptions=w}x.prototype={checkSignature:function(w){if(!this.reader.readAndCheckSignature(w)){this.reader.index-=4;var C=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(C)+", expected "+u.pretty(w)+")")}},isSignature:function(w,C){var S=this.reader.index;this.reader.setIndex(w);var j=this.reader.readString(4),k=j===C;return this.reader.setIndex(S),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var w=this.reader.readData(this.zipCommentLength),C=v.uint8array?"uint8array":"array",S=u.transformTo(C,w);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var w=this.zip64EndOfCentralSize-44,C=0,S,j,k;C<w;)S=this.reader.readInt(2),j=this.reader.readInt(4),k=this.reader.readData(j),this.zip64ExtensibleData[S]={id:S,length:j,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var w,C;for(w=0;w<this.files.length;w++)C=this.files[w],this.reader.setIndex(C.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),C.readLocalPart(this.reader),C.handleUTF8(),C.processAttributes()},readCentralDir:function(){var w;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)w=new f({zip64:this.zip64},this.loadOptions),w.readCentralPart(this.reader),this.files.push(w);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var w=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(w<0){var C=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw C?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(w);var S=w;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,w=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),w<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(w),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var k=S-j;if(k>0)this.isSignature(S,c.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(w){this.reader=o(w)},load:function(w){this.prepareReader(w),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,a){var o=n("./reader/readerFor"),u=n("./utils"),c=n("./compressedObject"),f=n("./crc32"),v=n("./utf8"),x=n("./compressions"),w=n("./support"),C=0,S=3,j=function(g){for(var E in x)if(Object.prototype.hasOwnProperty.call(x,E)&&x[E].magic===g)return x[E];return null};function k(g,E){this.options=g,this.loadOptions=E}k.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(g){var E,_;if(g.skip(22),this.fileNameLength=g.readInt(2),_=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(E=j(this.compressionMethod),E===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,E,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var E=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(E),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),g===C&&(this.dosPermissions=this.externalFileAttributes&63),g===S&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var E=g.index+this.extraFieldsLength,_,R,M;for(this.extraFields||(this.extraFields={});g.index+4<E;)_=g.readInt(2),R=g.readInt(2),M=g.readData(R),this.extraFields[_]={id:_,length:R,value:M};g.setIndex(E)},handleUTF8:function(){var g=w.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var _=u.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var M=u.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var E=o(g.value);return E.readInt(1)!==1||f(this.fileName)!==E.readInt(4)?null:v.utf8decode(E.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var E=o(g.value);return E.readInt(1)!==1||f(this.fileComment)!==E.readInt(4)?null:v.utf8decode(E.readData(g.length-5))}return null}},i.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,a){var o=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),c=n("./utf8"),f=n("./compressedObject"),v=n("./stream/GenericWorker"),x=function(j,k,g){this.name=j,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=k,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}};x.prototype={internalStream:function(j){var k=null,g="string";try{if(!j)throw new Error("No output type specified.");g=j.toLowerCase();var E=g==="string"||g==="text";(g==="binarystring"||g==="text")&&(g="string"),k=this._decompressWorker();var _=!this._dataBinary;_&&!E&&(k=k.pipe(new c.Utf8EncodeWorker)),!_&&E&&(k=k.pipe(new c.Utf8DecodeWorker))}catch(R){k=new v("error"),k.error(R)}return new o(k,g,"")},async:function(j,k){return this.internalStream(j).accumulate(k)},nodeStream:function(j,k){return this.internalStream(j||"nodebuffer").toNodejsStream(k)},_compressWorker:function(j,k){if(this._data instanceof f&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(g,j,k)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof v?this._data:new u(this._data)}};for(var w=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<w.length;S++)x.prototype[w[S]]=C;i.exports=x},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,a){(function(o){var u=o.MutationObserver||o.WebKitMutationObserver,c;if(u){var f=0,v=new u(j),x=o.document.createTextNode("");v.observe(x,{characterData:!0}),c=function(){x.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var w=new o.MessageChannel;w.port1.onmessage=j,c=function(){w.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){j(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:c=function(){setTimeout(j,0)};var C,S=[];function j(){C=!0;for(var g,E,_=S.length;_;){for(E=S,S=[],g=-1;++g<_;)E[g]();_=S.length}C=!1}i.exports=k;function k(g){S.push(g)===1&&!C&&c()}}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,a){var o=n("immediate");function u(){}var c={},f=["REJECTED"],v=["FULFILLED"],x=["PENDING"];i.exports=w;function w(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,D!==u&&k(this,D)}w.prototype.finally=function(D){if(typeof D!="function")return this;var L=this.constructor;return this.then(F,U);function F(z){function q(){return z}return L.resolve(D()).then(q)}function U(z){function q(){throw z}return L.resolve(D()).then(q)}},w.prototype.catch=function(D){return this.then(null,D)},w.prototype.then=function(D,L){if(typeof D!="function"&&this.state===v||typeof L!="function"&&this.state===f)return this;var F=new this.constructor(u);if(this.state!==x){var U=this.state===v?D:L;S(F,U,this.outcome)}else this.queue.push(new C(F,D,L));return F};function C(D,L,F){this.promise=D,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}C.prototype.callFulfilled=function(D){c.resolve(this.promise,D)},C.prototype.otherCallFulfilled=function(D){S(this.promise,this.onFulfilled,D)},C.prototype.callRejected=function(D){c.reject(this.promise,D)},C.prototype.otherCallRejected=function(D){S(this.promise,this.onRejected,D)};function S(D,L,F){o(function(){var U;try{U=L(F)}catch(z){return c.reject(D,z)}U===D?c.reject(D,new TypeError("Cannot resolve promise with itself")):c.resolve(D,U)})}c.resolve=function(D,L){var F=g(j,L);if(F.status==="error")return c.reject(D,F.value);var U=F.value;if(U)k(D,U);else{D.state=v,D.outcome=L;for(var z=-1,q=D.queue.length;++z<q;)D.queue[z].callFulfilled(L)}return D},c.reject=function(D,L){D.state=f,D.outcome=L;for(var F=-1,U=D.queue.length;++F<U;)D.queue[F].callRejected(L);return D};function j(D){var L=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof L=="function")return function(){L.apply(D,arguments)}}function k(D,L){var F=!1;function U($){F||(F=!0,c.reject(D,$))}function z($){F||(F=!0,c.resolve(D,$))}function q(){L(z,U)}var ae=g(q);ae.status==="error"&&U(ae.value)}function g(D,L){var F={};try{F.value=D(L),F.status="success"}catch(U){F.status="error",F.value=U}return F}w.resolve=E;function E(D){return D instanceof this?D:c.resolve(new this(u),D)}w.reject=_;function _(D){var L=new this(u);return c.reject(L,D)}w.all=R;function R(D){var L=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=D.length,U=!1;if(!F)return this.resolve([]);for(var z=new Array(F),q=0,ae=-1,$=new this(u);++ae<F;)oe(D[ae],ae);return $;function oe(xe,we){L.resolve(xe).then(Te,function(ve){U||(U=!0,c.reject($,ve))});function Te(ve){z[we]=ve,++q===F&&!U&&(U=!0,c.resolve($,z))}}}w.race=M;function M(D){var L=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=D.length,U=!1;if(!F)return this.resolve([]);for(var z=-1,q=new this(u);++z<F;)ae(D[z]);return q;function ae($){L.resolve($).then(function(oe){U||(U=!0,c.resolve(q,oe))},function(oe){U||(U=!0,c.reject(q,oe))})}}},{immediate:36}],38:[function(n,i,a){var o=n("./lib/utils/common").assign,u=n("./lib/deflate"),c=n("./lib/inflate"),f=n("./lib/zlib/constants"),v={};o(v,u,c,f),i.exports=v},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,a){var o=n("./zlib/deflate"),u=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/messages"),v=n("./zlib/zstream"),x=Object.prototype.toString,w=0,C=4,S=0,j=1,k=2,g=-1,E=0,_=8;function R(F){if(!(this instanceof R))return new R(F);this.options=u.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},F||{});var U=this.options;U.raw&&U.windowBits>0?U.windowBits=-U.windowBits:U.gzip&&U.windowBits>0&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var z=o.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(z!==S)throw new Error(f[z]);if(U.header&&o.deflateSetHeader(this.strm,U.header),U.dictionary){var q;if(typeof U.dictionary=="string"?q=c.string2buf(U.dictionary):x.call(U.dictionary)==="[object ArrayBuffer]"?q=new Uint8Array(U.dictionary):q=U.dictionary,z=o.deflateSetDictionary(this.strm,q),z!==S)throw new Error(f[z]);this._dict_set=!0}}R.prototype.push=function(F,U){var z=this.strm,q=this.options.chunkSize,ae,$;if(this.ended)return!1;$=U===~~U?U:U===!0?C:w,typeof F=="string"?z.input=c.string2buf(F):x.call(F)==="[object ArrayBuffer]"?z.input=new Uint8Array(F):z.input=F,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new u.Buf8(q),z.next_out=0,z.avail_out=q),ae=o.deflate(z,$),ae!==j&&ae!==S)return this.onEnd(ae),this.ended=!0,!1;(z.avail_out===0||z.avail_in===0&&($===C||$===k))&&(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(z.output,z.next_out))):this.onData(u.shrinkBuf(z.output,z.next_out)))}while((z.avail_in>0||z.avail_out===0)&&ae!==j);return $===C?(ae=o.deflateEnd(this.strm),this.onEnd(ae),this.ended=!0,ae===S):($===k&&(this.onEnd(S),z.avail_out=0),!0)},R.prototype.onData=function(F){this.chunks.push(F)},R.prototype.onEnd=function(F){F===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg};function M(F,U){var z=new R(U);if(z.push(F,!0),z.err)throw z.msg||f[z.err];return z.result}function D(F,U){return U=U||{},U.raw=!0,M(F,U)}function L(F,U){return U=U||{},U.gzip=!0,M(F,U)}a.Deflate=R,a.deflate=M,a.deflateRaw=D,a.gzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,a){var o=n("./zlib/inflate"),u=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/constants"),v=n("./zlib/messages"),x=n("./zlib/zstream"),w=n("./zlib/gzheader"),C=Object.prototype.toString;function S(g){if(!(this instanceof S))return new S(g);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},g||{});var E=this.options;E.raw&&E.windowBits>=0&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),E.windowBits>=0&&E.windowBits<16&&!(g&&g.windowBits)&&(E.windowBits+=32),E.windowBits>15&&E.windowBits<48&&(E.windowBits&15)===0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,E.windowBits);if(_!==f.Z_OK)throw new Error(v[_]);this.header=new w,o.inflateGetHeader(this.strm,this.header)}S.prototype.push=function(g,E){var _=this.strm,R=this.options.chunkSize,M=this.options.dictionary,D,L,F,U,z,q,ae=!1;if(this.ended)return!1;L=E===~~E?E:E===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof g=="string"?_.input=c.binstring2buf(g):C.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new u.Buf8(R),_.next_out=0,_.avail_out=R),D=o.inflate(_,f.Z_NO_FLUSH),D===f.Z_NEED_DICT&&M&&(typeof M=="string"?q=c.string2buf(M):C.call(M)==="[object ArrayBuffer]"?q=new Uint8Array(M):q=M,D=o.inflateSetDictionary(this.strm,q)),D===f.Z_BUF_ERROR&&ae===!0&&(D=f.Z_OK,ae=!1),D!==f.Z_STREAM_END&&D!==f.Z_OK)return this.onEnd(D),this.ended=!0,!1;_.next_out&&(_.avail_out===0||D===f.Z_STREAM_END||_.avail_in===0&&(L===f.Z_FINISH||L===f.Z_SYNC_FLUSH))&&(this.options.to==="string"?(F=c.utf8border(_.output,_.next_out),U=_.next_out-F,z=c.buf2string(_.output,F),_.next_out=U,_.avail_out=R-U,U&&u.arraySet(_.output,_.output,F,U,0),this.onData(z)):this.onData(u.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(ae=!0)}while((_.avail_in>0||_.avail_out===0)&&D!==f.Z_STREAM_END);return D===f.Z_STREAM_END&&(L=f.Z_FINISH),L===f.Z_FINISH?(D=o.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===f.Z_OK):(L===f.Z_SYNC_FLUSH&&(this.onEnd(f.Z_OK),_.avail_out=0),!0)},S.prototype.onData=function(g){this.chunks.push(g)},S.prototype.onEnd=function(g){g===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function j(g,E){var _=new S(E);if(_.push(g,!0),_.err)throw _.msg||v[_.err];return _.result}function k(g,E){return E=E||{},E.raw=!0,j(g,E)}a.Inflate=S,a.inflate=j,a.inflateRaw=k,a.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(f){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var x=v.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var w in x)x.hasOwnProperty(w)&&(f[w]=x[w])}}return f},a.shrinkBuf=function(f,v){return f.length===v?f:f.subarray?f.subarray(0,v):(f.length=v,f)};var u={arraySet:function(f,v,x,w,C){if(v.subarray&&f.subarray){f.set(v.subarray(x,x+w),C);return}for(var S=0;S<w;S++)f[C+S]=v[x+S]},flattenChunks:function(f){var v,x,w,C,S,j;for(w=0,v=0,x=f.length;v<x;v++)w+=f[v].length;for(j=new Uint8Array(w),C=0,v=0,x=f.length;v<x;v++)S=f[v],j.set(S,C),C+=S.length;return j}},c={arraySet:function(f,v,x,w,C){for(var S=0;S<w;S++)f[C+S]=v[x+S]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,u)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(o)},{}],42:[function(n,i,a){var o=n("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var f=new o.Buf8(256),v=0;v<256;v++)f[v]=v>=252?6:v>=248?5:v>=240?4:v>=224?3:v>=192?2:1;f[254]=f[254]=1,a.string2buf=function(w){var C,S,j,k,g,E=w.length,_=0;for(k=0;k<E;k++)S=w.charCodeAt(k),(S&64512)===55296&&k+1<E&&(j=w.charCodeAt(k+1),(j&64512)===56320&&(S=65536+(S-55296<<10)+(j-56320),k++)),_+=S<128?1:S<2048?2:S<65536?3:4;for(C=new o.Buf8(_),g=0,k=0;g<_;k++)S=w.charCodeAt(k),(S&64512)===55296&&k+1<E&&(j=w.charCodeAt(k+1),(j&64512)===56320&&(S=65536+(S-55296<<10)+(j-56320),k++)),S<128?C[g++]=S:S<2048?(C[g++]=192|S>>>6,C[g++]=128|S&63):S<65536?(C[g++]=224|S>>>12,C[g++]=128|S>>>6&63,C[g++]=128|S&63):(C[g++]=240|S>>>18,C[g++]=128|S>>>12&63,C[g++]=128|S>>>6&63,C[g++]=128|S&63);return C};function x(w,C){if(C<65537&&(w.subarray&&c||!w.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(w,C));for(var S="",j=0;j<C;j++)S+=String.fromCharCode(w[j]);return S}a.buf2binstring=function(w){return x(w,w.length)},a.binstring2buf=function(w){for(var C=new o.Buf8(w.length),S=0,j=C.length;S<j;S++)C[S]=w.charCodeAt(S);return C},a.buf2string=function(w,C){var S,j,k,g,E=C||w.length,_=new Array(E*2);for(j=0,S=0;S<E;){if(k=w[S++],k<128){_[j++]=k;continue}if(g=f[k],g>4){_[j++]=65533,S+=g-1;continue}for(k&=g===2?31:g===3?15:7;g>1&&S<E;)k=k<<6|w[S++]&63,g--;if(g>1){_[j++]=65533;continue}k<65536?_[j++]=k:(k-=65536,_[j++]=55296|k>>10&1023,_[j++]=56320|k&1023)}return x(_,j)},a.utf8border=function(w,C){var S;for(C=C||w.length,C>w.length&&(C=w.length),S=C-1;S>=0&&(w[S]&192)===128;)S--;return S<0||S===0?C:S+f[w[S]]>C?S:C}},{"./common":41}],43:[function(n,i,a){function o(u,c,f,v){for(var x=u&65535|0,w=u>>>16&65535|0,C=0;f!==0;){C=f>2e3?2e3:f,f-=C;do x=x+c[v++]|0,w=w+x|0;while(--C);x%=65521,w%=65521}return x|w<<16|0}i.exports=o},{}],44:[function(n,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,a){function o(){for(var f,v=[],x=0;x<256;x++){f=x;for(var w=0;w<8;w++)f=f&1?3988292384^f>>>1:f>>>1;v[x]=f}return v}var u=o();function c(f,v,x,w){var C=u,S=w+x;f^=-1;for(var j=w;j<S;j++)f=f>>>8^C[(f^v[j])&255];return f^-1}i.exports=c},{}],46:[function(n,i,a){var o=n("../utils/common"),u=n("./trees"),c=n("./adler32"),f=n("./crc32"),v=n("./messages"),x=0,w=1,C=3,S=4,j=5,k=0,g=1,E=-2,_=-3,R=-5,M=-1,D=1,L=2,F=3,U=4,z=0,q=2,ae=8,$=9,oe=15,xe=8,we=29,Te=256,ve=Te+1+we,te=30,pe=19,me=2*ve+1,W=15,ne=3,Le=258,Ce=Le+ne+1,Be=32,We=42,Ge=69,ce=73,ze=91,qe=103,Ve=113,ft=666,et=1,ot=2,yt=3,pt=4,ht=3;function bt(d,V){return d.msg=v[V],V}function st(d){return(d<<1)-(d>4?9:0)}function lt(d){for(var V=d.length;--V>=0;)d[V]=0}function Qe(d){var V=d.state,Q=V.pending;Q>d.avail_out&&(Q=d.avail_out),Q!==0&&(o.arraySet(d.output,V.pending_buf,V.pending_out,Q,d.next_out),d.next_out+=Q,V.pending_out+=Q,d.total_out+=Q,d.avail_out-=Q,V.pending-=Q,V.pending===0&&(V.pending_out=0))}function nt(d,V){u._tr_flush_block(d,d.block_start>=0?d.block_start:-1,d.strstart-d.block_start,V),d.block_start=d.strstart,Qe(d.strm)}function Je(d,V){d.pending_buf[d.pending++]=V}function kt(d,V){d.pending_buf[d.pending++]=V>>>8&255,d.pending_buf[d.pending++]=V&255}function rr(d,V,Q,A){var G=d.avail_in;return G>A&&(G=A),G===0?0:(d.avail_in-=G,o.arraySet(V,d.input,d.next_in,G,Q),d.state.wrap===1?d.adler=c(d.adler,V,G,Q):d.state.wrap===2&&(d.adler=f(d.adler,V,G,Q)),d.next_in+=G,d.total_in+=G,G)}function Xt(d,V){var Q=d.max_chain_length,A=d.strstart,G,ie,je=d.prev_length,Ne=d.nice_match,Fe=d.strstart>d.w_size-Ce?d.strstart-(d.w_size-Ce):0,it=d.window,Ft=d.w_mask,mt=d.prev,ut=d.strstart+Le,Dt=it[A+je-1],gt=it[A+je];d.prev_length>=d.good_match&&(Q>>=2),Ne>d.lookahead&&(Ne=d.lookahead);do if(G=V,!(it[G+je]!==gt||it[G+je-1]!==Dt||it[G]!==it[A]||it[++G]!==it[A+1])){A+=2,G++;do;while(it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&it[++A]===it[++G]&&A<ut);if(ie=Le-(ut-A),A=ut-Le,ie>je){if(d.match_start=V,je=ie,ie>=Ne)break;Dt=it[A+je-1],gt=it[A+je]}}while((V=mt[V&Ft])>Fe&&--Q!==0);return je<=d.lookahead?je:d.lookahead}function Rt(d){var V=d.w_size,Q,A,G,ie,je;do{if(ie=d.window_size-d.lookahead-d.strstart,d.strstart>=V+(V-Ce)){o.arraySet(d.window,d.window,V,V,0),d.match_start-=V,d.strstart-=V,d.block_start-=V,A=d.hash_size,Q=A;do G=d.head[--Q],d.head[Q]=G>=V?G-V:0;while(--A);A=V,Q=A;do G=d.prev[--Q],d.prev[Q]=G>=V?G-V:0;while(--A);ie+=V}if(d.strm.avail_in===0)break;if(A=rr(d.strm,d.window,d.strstart+d.lookahead,ie),d.lookahead+=A,d.lookahead+d.insert>=ne)for(je=d.strstart-d.insert,d.ins_h=d.window[je],d.ins_h=(d.ins_h<<d.hash_shift^d.window[je+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[je+ne-1])&d.hash_mask,d.prev[je&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=je,je++,d.insert--,!(d.lookahead+d.insert<ne)););}while(d.lookahead<Ce&&d.strm.avail_in!==0)}function At(d,V){var Q=65535;for(Q>d.pending_buf_size-5&&(Q=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Rt(d),d.lookahead===0&&V===x)return et;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var A=d.block_start+Q;if((d.strstart===0||d.strstart>=A)&&(d.lookahead=d.strstart-A,d.strstart=A,nt(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-Ce&&(nt(d,!1),d.strm.avail_out===0))return et}return d.insert=0,V===S?(nt(d,!0),d.strm.avail_out===0?yt:pt):(d.strstart>d.block_start&&(nt(d,!1),d.strm.avail_out===0),et)}function Kt(d,V){for(var Q,A;;){if(d.lookahead<Ce){if(Rt(d),d.lookahead<Ce&&V===x)return et;if(d.lookahead===0)break}if(Q=0,d.lookahead>=ne&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ne-1])&d.hash_mask,Q=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),Q!==0&&d.strstart-Q<=d.w_size-Ce&&(d.match_length=Xt(d,Q)),d.match_length>=ne)if(A=u._tr_tally(d,d.strstart-d.match_start,d.match_length-ne),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=ne){d.match_length--;do d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ne-1])&d.hash_mask,Q=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart;while(--d.match_length!==0);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else A=u._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(A&&(nt(d,!1),d.strm.avail_out===0))return et}return d.insert=d.strstart<ne-1?d.strstart:ne-1,V===S?(nt(d,!0),d.strm.avail_out===0?yt:pt):d.last_lit&&(nt(d,!1),d.strm.avail_out===0)?et:ot}function It(d,V){for(var Q,A,G;;){if(d.lookahead<Ce){if(Rt(d),d.lookahead<Ce&&V===x)return et;if(d.lookahead===0)break}if(Q=0,d.lookahead>=ne&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ne-1])&d.hash_mask,Q=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=ne-1,Q!==0&&d.prev_length<d.max_lazy_match&&d.strstart-Q<=d.w_size-Ce&&(d.match_length=Xt(d,Q),d.match_length<=5&&(d.strategy===D||d.match_length===ne&&d.strstart-d.match_start>4096)&&(d.match_length=ne-1)),d.prev_length>=ne&&d.match_length<=d.prev_length){G=d.strstart+d.lookahead-ne,A=u._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-ne),d.lookahead-=d.prev_length-1,d.prev_length-=2;do++d.strstart<=G&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ne-1])&d.hash_mask,Q=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart);while(--d.prev_length!==0);if(d.match_available=0,d.match_length=ne-1,d.strstart++,A&&(nt(d,!1),d.strm.avail_out===0))return et}else if(d.match_available){if(A=u._tr_tally(d,0,d.window[d.strstart-1]),A&&nt(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return et}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(A=u._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<ne-1?d.strstart:ne-1,V===S?(nt(d,!0),d.strm.avail_out===0?yt:pt):d.last_lit&&(nt(d,!1),d.strm.avail_out===0)?et:ot}function Wt(d,V){for(var Q,A,G,ie,je=d.window;;){if(d.lookahead<=Le){if(Rt(d),d.lookahead<=Le&&V===x)return et;if(d.lookahead===0)break}if(d.match_length=0,d.lookahead>=ne&&d.strstart>0&&(G=d.strstart-1,A=je[G],A===je[++G]&&A===je[++G]&&A===je[++G])){ie=d.strstart+Le;do;while(A===je[++G]&&A===je[++G]&&A===je[++G]&&A===je[++G]&&A===je[++G]&&A===je[++G]&&A===je[++G]&&A===je[++G]&&G<ie);d.match_length=Le-(ie-G),d.match_length>d.lookahead&&(d.match_length=d.lookahead)}if(d.match_length>=ne?(Q=u._tr_tally(d,1,d.match_length-ne),d.lookahead-=d.match_length,d.strstart+=d.match_length,d.match_length=0):(Q=u._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++),Q&&(nt(d,!1),d.strm.avail_out===0))return et}return d.insert=0,V===S?(nt(d,!0),d.strm.avail_out===0?yt:pt):d.last_lit&&(nt(d,!1),d.strm.avail_out===0)?et:ot}function Qt(d,V){for(var Q;;){if(d.lookahead===0&&(Rt(d),d.lookahead===0)){if(V===x)return et;break}if(d.match_length=0,Q=u._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++,Q&&(nt(d,!1),d.strm.avail_out===0))return et}return d.insert=0,V===S?(nt(d,!0),d.strm.avail_out===0?yt:pt):d.last_lit&&(nt(d,!1),d.strm.avail_out===0)?et:ot}function Ie(d,V,Q,A,G){this.good_length=d,this.max_lazy=V,this.nice_length=Q,this.max_chain=A,this.func=G}var Pe;Pe=[new Ie(0,0,0,0,At),new Ie(4,4,8,4,Kt),new Ie(4,5,16,8,Kt),new Ie(4,6,32,32,Kt),new Ie(4,4,16,16,It),new Ie(8,16,32,32,It),new Ie(8,16,128,128,It),new Ie(8,32,128,256,It),new Ie(32,128,258,1024,It),new Ie(32,258,258,4096,It)];function Xe(d){d.window_size=2*d.w_size,lt(d.head),d.max_lazy_match=Pe[d.level].max_lazy,d.good_match=Pe[d.level].good_length,d.nice_match=Pe[d.level].nice_length,d.max_chain_length=Pe[d.level].max_chain,d.strstart=0,d.block_start=0,d.lookahead=0,d.insert=0,d.match_length=d.prev_length=ne-1,d.match_available=0,d.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(me*2),this.dyn_dtree=new o.Buf16((2*te+1)*2),this.bl_tree=new o.Buf16((2*pe+1)*2),lt(this.dyn_ltree),lt(this.dyn_dtree),lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(W+1),this.heap=new o.Buf16(2*ve+1),lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*ve+1),lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(d){var V;return!d||!d.state?bt(d,E):(d.total_in=d.total_out=0,d.data_type=q,V=d.state,V.pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?We:Ve,d.adler=V.wrap===2?0:1,V.last_flush=x,u._tr_init(V),k)}function ye(d){var V=ue(d);return V===k&&Xe(d.state),V}function _e(d,V){return!d||!d.state||d.state.wrap!==2?E:(d.state.gzhead=V,k)}function Y(d,V,Q,A,G,ie){if(!d)return E;var je=1;if(V===M&&(V=6),A<0?(je=0,A=-A):A>15&&(je=2,A-=16),G<1||G>$||Q!==ae||A<8||A>15||V<0||V>9||ie<0||ie>U)return bt(d,E);A===8&&(A=9);var Ne=new N;return d.state=Ne,Ne.strm=d,Ne.wrap=je,Ne.gzhead=null,Ne.w_bits=A,Ne.w_size=1<<Ne.w_bits,Ne.w_mask=Ne.w_size-1,Ne.hash_bits=G+7,Ne.hash_size=1<<Ne.hash_bits,Ne.hash_mask=Ne.hash_size-1,Ne.hash_shift=~~((Ne.hash_bits+ne-1)/ne),Ne.window=new o.Buf8(Ne.w_size*2),Ne.head=new o.Buf16(Ne.hash_size),Ne.prev=new o.Buf16(Ne.w_size),Ne.lit_bufsize=1<<G+6,Ne.pending_buf_size=Ne.lit_bufsize*4,Ne.pending_buf=new o.Buf8(Ne.pending_buf_size),Ne.d_buf=1*Ne.lit_bufsize,Ne.l_buf=3*Ne.lit_bufsize,Ne.level=V,Ne.strategy=ie,Ne.method=Q,ye(d)}function fe(d,V){return Y(d,V,ae,oe,xe,z)}function p(d,V){var Q,A,G,ie;if(!d||!d.state||V>j||V<0)return d?bt(d,E):E;if(A=d.state,!d.output||!d.input&&d.avail_in!==0||A.status===ft&&V!==S)return bt(d,d.avail_out===0?R:E);if(A.strm=d,Q=A.last_flush,A.last_flush=V,A.status===We)if(A.wrap===2)d.adler=0,Je(A,31),Je(A,139),Je(A,8),A.gzhead?(Je(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),Je(A,A.gzhead.time&255),Je(A,A.gzhead.time>>8&255),Je(A,A.gzhead.time>>16&255),Je(A,A.gzhead.time>>24&255),Je(A,A.level===9?2:A.strategy>=L||A.level<2?4:0),Je(A,A.gzhead.os&255),A.gzhead.extra&&A.gzhead.extra.length&&(Je(A,A.gzhead.extra.length&255),Je(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(d.adler=f(d.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=Ge):(Je(A,0),Je(A,0),Je(A,0),Je(A,0),Je(A,0),Je(A,A.level===9?2:A.strategy>=L||A.level<2?4:0),Je(A,ht),A.status=Ve);else{var je=ae+(A.w_bits-8<<4)<<8,Ne=-1;A.strategy>=L||A.level<2?Ne=0:A.level<6?Ne=1:A.level===6?Ne=2:Ne=3,je|=Ne<<6,A.strstart!==0&&(je|=Be),je+=31-je%31,A.status=Ve,kt(A,je),A.strstart!==0&&(kt(A,d.adler>>>16),kt(A,d.adler&65535)),d.adler=1}if(A.status===Ge)if(A.gzhead.extra){for(G=A.pending;A.gzindex<(A.gzhead.extra.length&65535)&&!(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),Qe(d),G=A.pending,A.pending===A.pending_buf_size));)Je(A,A.gzhead.extra[A.gzindex]&255),A.gzindex++;A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=ce)}else A.status=ce;if(A.status===ce)if(A.gzhead.name){G=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),Qe(d),G=A.pending,A.pending===A.pending_buf_size)){ie=1;break}A.gzindex<A.gzhead.name.length?ie=A.gzhead.name.charCodeAt(A.gzindex++)&255:ie=0,Je(A,ie)}while(ie!==0);A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),ie===0&&(A.gzindex=0,A.status=ze)}else A.status=ze;if(A.status===ze)if(A.gzhead.comment){G=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),Qe(d),G=A.pending,A.pending===A.pending_buf_size)){ie=1;break}A.gzindex<A.gzhead.comment.length?ie=A.gzhead.comment.charCodeAt(A.gzindex++)&255:ie=0,Je(A,ie)}while(ie!==0);A.gzhead.hcrc&&A.pending>G&&(d.adler=f(d.adler,A.pending_buf,A.pending-G,G)),ie===0&&(A.status=qe)}else A.status=qe;if(A.status===qe&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&Qe(d),A.pending+2<=A.pending_buf_size&&(Je(A,d.adler&255),Je(A,d.adler>>8&255),d.adler=0,A.status=Ve)):A.status=Ve),A.pending!==0){if(Qe(d),d.avail_out===0)return A.last_flush=-1,k}else if(d.avail_in===0&&st(V)<=st(Q)&&V!==S)return bt(d,R);if(A.status===ft&&d.avail_in!==0)return bt(d,R);if(d.avail_in!==0||A.lookahead!==0||V!==x&&A.status!==ft){var Fe=A.strategy===L?Qt(A,V):A.strategy===F?Wt(A,V):Pe[A.level].func(A,V);if((Fe===yt||Fe===pt)&&(A.status=ft),Fe===et||Fe===yt)return d.avail_out===0&&(A.last_flush=-1),k;if(Fe===ot&&(V===w?u._tr_align(A):V!==j&&(u._tr_stored_block(A,0,0,!1),V===C&&(lt(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),Qe(d),d.avail_out===0))return A.last_flush=-1,k}return V!==S?k:A.wrap<=0?g:(A.wrap===2?(Je(A,d.adler&255),Je(A,d.adler>>8&255),Je(A,d.adler>>16&255),Je(A,d.adler>>24&255),Je(A,d.total_in&255),Je(A,d.total_in>>8&255),Je(A,d.total_in>>16&255),Je(A,d.total_in>>24&255)):(kt(A,d.adler>>>16),kt(A,d.adler&65535)),Qe(d),A.wrap>0&&(A.wrap=-A.wrap),A.pending!==0?k:g)}function b(d){var V;return!d||!d.state?E:(V=d.state.status,V!==We&&V!==Ge&&V!==ce&&V!==ze&&V!==qe&&V!==Ve&&V!==ft?bt(d,E):(d.state=null,V===Ve?bt(d,_):k))}function P(d,V){var Q=V.length,A,G,ie,je,Ne,Fe,it,Ft;if(!d||!d.state||(A=d.state,je=A.wrap,je===2||je===1&&A.status!==We||A.lookahead))return E;for(je===1&&(d.adler=c(d.adler,V,Q,0)),A.wrap=0,Q>=A.w_size&&(je===0&&(lt(A.head),A.strstart=0,A.block_start=0,A.insert=0),Ft=new o.Buf8(A.w_size),o.arraySet(Ft,V,Q-A.w_size,A.w_size,0),V=Ft,Q=A.w_size),Ne=d.avail_in,Fe=d.next_in,it=d.input,d.avail_in=Q,d.next_in=0,d.input=V,Rt(A);A.lookahead>=ne;){G=A.strstart,ie=A.lookahead-(ne-1);do A.ins_h=(A.ins_h<<A.hash_shift^A.window[G+ne-1])&A.hash_mask,A.prev[G&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=G,G++;while(--ie);A.strstart=G,A.lookahead=ne-1,Rt(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=ne-1,A.match_available=0,d.next_in=Fe,d.input=it,d.avail_in=Ne,A.wrap=je,k}a.deflateInit=fe,a.deflateInit2=Y,a.deflateReset=ye,a.deflateResetKeep=ue,a.deflateSetHeader=_e,a.deflate=p,a.deflateEnd=b,a.deflateSetDictionary=P,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,a){function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=o},{}],48:[function(n,i,a){var o=30,u=12;i.exports=function(f,v){var x,w,C,S,j,k,g,E,_,R,M,D,L,F,U,z,q,ae,$,oe,xe,we,Te,ve,te;x=f.state,w=f.next_in,ve=f.input,C=w+(f.avail_in-5),S=f.next_out,te=f.output,j=S-(v-f.avail_out),k=S+(f.avail_out-257),g=x.dmax,E=x.wsize,_=x.whave,R=x.wnext,M=x.window,D=x.hold,L=x.bits,F=x.lencode,U=x.distcode,z=(1<<x.lenbits)-1,q=(1<<x.distbits)-1;e:do{L<15&&(D+=ve[w++]<<L,L+=8,D+=ve[w++]<<L,L+=8),ae=F[D&z];t:for(;;){if($=ae>>>24,D>>>=$,L-=$,$=ae>>>16&255,$===0)te[S++]=ae&65535;else if($&16){oe=ae&65535,$&=15,$&&(L<$&&(D+=ve[w++]<<L,L+=8),oe+=D&(1<<$)-1,D>>>=$,L-=$),L<15&&(D+=ve[w++]<<L,L+=8,D+=ve[w++]<<L,L+=8),ae=U[D&q];r:for(;;){if($=ae>>>24,D>>>=$,L-=$,$=ae>>>16&255,$&16){if(xe=ae&65535,$&=15,L<$&&(D+=ve[w++]<<L,L+=8,L<$&&(D+=ve[w++]<<L,L+=8)),xe+=D&(1<<$)-1,xe>g){f.msg="invalid distance too far back",x.mode=o;break e}if(D>>>=$,L-=$,$=S-j,xe>$){if($=xe-$,$>_&&x.sane){f.msg="invalid distance too far back",x.mode=o;break e}if(we=0,Te=M,R===0){if(we+=E-$,$<oe){oe-=$;do te[S++]=M[we++];while(--$);we=S-xe,Te=te}}else if(R<$){if(we+=E+R-$,$-=R,$<oe){oe-=$;do te[S++]=M[we++];while(--$);if(we=0,R<oe){$=R,oe-=$;do te[S++]=M[we++];while(--$);we=S-xe,Te=te}}}else if(we+=R-$,$<oe){oe-=$;do te[S++]=M[we++];while(--$);we=S-xe,Te=te}for(;oe>2;)te[S++]=Te[we++],te[S++]=Te[we++],te[S++]=Te[we++],oe-=3;oe&&(te[S++]=Te[we++],oe>1&&(te[S++]=Te[we++]))}else{we=S-xe;do te[S++]=te[we++],te[S++]=te[we++],te[S++]=te[we++],oe-=3;while(oe>2);oe&&(te[S++]=te[we++],oe>1&&(te[S++]=te[we++]))}}else if(($&64)===0){ae=U[(ae&65535)+(D&(1<<$)-1)];continue r}else{f.msg="invalid distance code",x.mode=o;break e}break}}else if(($&64)===0){ae=F[(ae&65535)+(D&(1<<$)-1)];continue t}else if($&32){x.mode=u;break e}else{f.msg="invalid literal/length code",x.mode=o;break e}break}}while(w<C&&S<k);oe=L>>3,w-=oe,L-=oe<<3,D&=(1<<L)-1,f.next_in=w,f.next_out=S,f.avail_in=w<C?5+(C-w):5-(w-C),f.avail_out=S<k?257+(k-S):257-(S-k),x.hold=D,x.bits=L}},{}],49:[function(n,i,a){var o=n("../utils/common"),u=n("./adler32"),c=n("./crc32"),f=n("./inffast"),v=n("./inftrees"),x=0,w=1,C=2,S=4,j=5,k=6,g=0,E=1,_=2,R=-2,M=-3,D=-4,L=-5,F=8,U=1,z=2,q=3,ae=4,$=5,oe=6,xe=7,we=8,Te=9,ve=10,te=11,pe=12,me=13,W=14,ne=15,Le=16,Ce=17,Be=18,We=19,Ge=20,ce=21,ze=22,qe=23,Ve=24,ft=25,et=26,ot=27,yt=28,pt=29,ht=30,bt=31,st=32,lt=852,Qe=592,nt=15,Je=nt;function kt(Y){return(Y>>>24&255)+(Y>>>8&65280)+((Y&65280)<<8)+((Y&255)<<24)}function rr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Xt(Y){var fe;return!Y||!Y.state?R:(fe=Y.state,Y.total_in=Y.total_out=fe.total=0,Y.msg="",fe.wrap&&(Y.adler=fe.wrap&1),fe.mode=U,fe.last=0,fe.havedict=0,fe.dmax=32768,fe.head=null,fe.hold=0,fe.bits=0,fe.lencode=fe.lendyn=new o.Buf32(lt),fe.distcode=fe.distdyn=new o.Buf32(Qe),fe.sane=1,fe.back=-1,g)}function Rt(Y){var fe;return!Y||!Y.state?R:(fe=Y.state,fe.wsize=0,fe.whave=0,fe.wnext=0,Xt(Y))}function At(Y,fe){var p,b;return!Y||!Y.state||(b=Y.state,fe<0?(p=0,fe=-fe):(p=(fe>>4)+1,fe<48&&(fe&=15)),fe&&(fe<8||fe>15))?R:(b.window!==null&&b.wbits!==fe&&(b.window=null),b.wrap=p,b.wbits=fe,Rt(Y))}function Kt(Y,fe){var p,b;return Y?(b=new rr,Y.state=b,b.window=null,p=At(Y,fe),p!==g&&(Y.state=null),p):R}function It(Y){return Kt(Y,Je)}var Wt=!0,Qt,Ie;function Pe(Y){if(Wt){var fe;for(Qt=new o.Buf32(512),Ie=new o.Buf32(32),fe=0;fe<144;)Y.lens[fe++]=8;for(;fe<256;)Y.lens[fe++]=9;for(;fe<280;)Y.lens[fe++]=7;for(;fe<288;)Y.lens[fe++]=8;for(v(w,Y.lens,0,288,Qt,0,Y.work,{bits:9}),fe=0;fe<32;)Y.lens[fe++]=5;v(C,Y.lens,0,32,Ie,0,Y.work,{bits:5}),Wt=!1}Y.lencode=Qt,Y.lenbits=9,Y.distcode=Ie,Y.distbits=5}function Xe(Y,fe,p,b){var P,d=Y.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new o.Buf8(d.wsize)),b>=d.wsize?(o.arraySet(d.window,fe,p-d.wsize,d.wsize,0),d.wnext=0,d.whave=d.wsize):(P=d.wsize-d.wnext,P>b&&(P=b),o.arraySet(d.window,fe,p-b,P,d.wnext),b-=P,b?(o.arraySet(d.window,fe,p-b,b,0),d.wnext=b,d.whave=d.wsize):(d.wnext+=P,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=P))),0}function N(Y,fe){var p,b,P,d,V,Q,A,G,ie,je,Ne,Fe,it,Ft,mt=0,ut,Dt,gt,Gt,Yt,Rr,Lt,ur,qt=new o.Buf8(4),yr,pr,Wn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return R;p=Y.state,p.mode===pe&&(p.mode=me),V=Y.next_out,P=Y.output,A=Y.avail_out,d=Y.next_in,b=Y.input,Q=Y.avail_in,G=p.hold,ie=p.bits,je=Q,Ne=A,ur=g;e:for(;;)switch(p.mode){case U:if(p.wrap===0){p.mode=me;break}for(;ie<16;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(p.wrap&2&&G===35615){p.check=0,qt[0]=G&255,qt[1]=G>>>8&255,p.check=c(p.check,qt,2,0),G=0,ie=0,p.mode=z;break}if(p.flags=0,p.head&&(p.head.done=!1),!(p.wrap&1)||(((G&255)<<8)+(G>>8))%31){Y.msg="incorrect header check",p.mode=ht;break}if((G&15)!==F){Y.msg="unknown compression method",p.mode=ht;break}if(G>>>=4,ie-=4,Lt=(G&15)+8,p.wbits===0)p.wbits=Lt;else if(Lt>p.wbits){Y.msg="invalid window size",p.mode=ht;break}p.dmax=1<<Lt,Y.adler=p.check=1,p.mode=G&512?ve:pe,G=0,ie=0;break;case z:for(;ie<16;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(p.flags=G,(p.flags&255)!==F){Y.msg="unknown compression method",p.mode=ht;break}if(p.flags&57344){Y.msg="unknown header flags set",p.mode=ht;break}p.head&&(p.head.text=G>>8&1),p.flags&512&&(qt[0]=G&255,qt[1]=G>>>8&255,p.check=c(p.check,qt,2,0)),G=0,ie=0,p.mode=q;case q:for(;ie<32;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.head&&(p.head.time=G),p.flags&512&&(qt[0]=G&255,qt[1]=G>>>8&255,qt[2]=G>>>16&255,qt[3]=G>>>24&255,p.check=c(p.check,qt,4,0)),G=0,ie=0,p.mode=ae;case ae:for(;ie<16;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.head&&(p.head.xflags=G&255,p.head.os=G>>8),p.flags&512&&(qt[0]=G&255,qt[1]=G>>>8&255,p.check=c(p.check,qt,2,0)),G=0,ie=0,p.mode=$;case $:if(p.flags&1024){for(;ie<16;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.length=G,p.head&&(p.head.extra_len=G),p.flags&512&&(qt[0]=G&255,qt[1]=G>>>8&255,p.check=c(p.check,qt,2,0)),G=0,ie=0}else p.head&&(p.head.extra=null);p.mode=oe;case oe:if(p.flags&1024&&(Fe=p.length,Fe>Q&&(Fe=Q),Fe&&(p.head&&(Lt=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),o.arraySet(p.head.extra,b,d,Fe,Lt)),p.flags&512&&(p.check=c(p.check,b,Fe,d)),Q-=Fe,d+=Fe,p.length-=Fe),p.length))break e;p.length=0,p.mode=xe;case xe:if(p.flags&2048){if(Q===0)break e;Fe=0;do Lt=b[d+Fe++],p.head&&Lt&&p.length<65536&&(p.head.name+=String.fromCharCode(Lt));while(Lt&&Fe<Q);if(p.flags&512&&(p.check=c(p.check,b,Fe,d)),Q-=Fe,d+=Fe,Lt)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=we;case we:if(p.flags&4096){if(Q===0)break e;Fe=0;do Lt=b[d+Fe++],p.head&&Lt&&p.length<65536&&(p.head.comment+=String.fromCharCode(Lt));while(Lt&&Fe<Q);if(p.flags&512&&(p.check=c(p.check,b,Fe,d)),Q-=Fe,d+=Fe,Lt)break e}else p.head&&(p.head.comment=null);p.mode=Te;case Te:if(p.flags&512){for(;ie<16;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(G!==(p.check&65535)){Y.msg="header crc mismatch",p.mode=ht;break}G=0,ie=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),Y.adler=p.check=0,p.mode=pe;break;case ve:for(;ie<32;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}Y.adler=p.check=kt(G),G=0,ie=0,p.mode=te;case te:if(p.havedict===0)return Y.next_out=V,Y.avail_out=A,Y.next_in=d,Y.avail_in=Q,p.hold=G,p.bits=ie,_;Y.adler=p.check=1,p.mode=pe;case pe:if(fe===j||fe===k)break e;case me:if(p.last){G>>>=ie&7,ie-=ie&7,p.mode=ot;break}for(;ie<3;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}switch(p.last=G&1,G>>>=1,ie-=1,G&3){case 0:p.mode=W;break;case 1:if(Pe(p),p.mode=Ge,fe===k){G>>>=2,ie-=2;break e}break;case 2:p.mode=Ce;break;case 3:Y.msg="invalid block type",p.mode=ht}G>>>=2,ie-=2;break;case W:for(G>>>=ie&7,ie-=ie&7;ie<32;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if((G&65535)!==(G>>>16^65535)){Y.msg="invalid stored block lengths",p.mode=ht;break}if(p.length=G&65535,G=0,ie=0,p.mode=ne,fe===k)break e;case ne:p.mode=Le;case Le:if(Fe=p.length,Fe){if(Fe>Q&&(Fe=Q),Fe>A&&(Fe=A),Fe===0)break e;o.arraySet(P,b,d,Fe,V),Q-=Fe,d+=Fe,A-=Fe,V+=Fe,p.length-=Fe;break}p.mode=pe;break;case Ce:for(;ie<14;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(p.nlen=(G&31)+257,G>>>=5,ie-=5,p.ndist=(G&31)+1,G>>>=5,ie-=5,p.ncode=(G&15)+4,G>>>=4,ie-=4,p.nlen>286||p.ndist>30){Y.msg="too many length or distance symbols",p.mode=ht;break}p.have=0,p.mode=Be;case Be:for(;p.have<p.ncode;){for(;ie<3;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.lens[Wn[p.have++]]=G&7,G>>>=3,ie-=3}for(;p.have<19;)p.lens[Wn[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,yr={bits:p.lenbits},ur=v(x,p.lens,0,19,p.lencode,0,p.work,yr),p.lenbits=yr.bits,ur){Y.msg="invalid code lengths set",p.mode=ht;break}p.have=0,p.mode=We;case We:for(;p.have<p.nlen+p.ndist;){for(;mt=p.lencode[G&(1<<p.lenbits)-1],ut=mt>>>24,Dt=mt>>>16&255,gt=mt&65535,!(ut<=ie);){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(gt<16)G>>>=ut,ie-=ut,p.lens[p.have++]=gt;else{if(gt===16){for(pr=ut+2;ie<pr;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(G>>>=ut,ie-=ut,p.have===0){Y.msg="invalid bit length repeat",p.mode=ht;break}Lt=p.lens[p.have-1],Fe=3+(G&3),G>>>=2,ie-=2}else if(gt===17){for(pr=ut+3;ie<pr;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}G>>>=ut,ie-=ut,Lt=0,Fe=3+(G&7),G>>>=3,ie-=3}else{for(pr=ut+7;ie<pr;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}G>>>=ut,ie-=ut,Lt=0,Fe=11+(G&127),G>>>=7,ie-=7}if(p.have+Fe>p.nlen+p.ndist){Y.msg="invalid bit length repeat",p.mode=ht;break}for(;Fe--;)p.lens[p.have++]=Lt}}if(p.mode===ht)break;if(p.lens[256]===0){Y.msg="invalid code -- missing end-of-block",p.mode=ht;break}if(p.lenbits=9,yr={bits:p.lenbits},ur=v(w,p.lens,0,p.nlen,p.lencode,0,p.work,yr),p.lenbits=yr.bits,ur){Y.msg="invalid literal/lengths set",p.mode=ht;break}if(p.distbits=6,p.distcode=p.distdyn,yr={bits:p.distbits},ur=v(C,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,yr),p.distbits=yr.bits,ur){Y.msg="invalid distances set",p.mode=ht;break}if(p.mode=Ge,fe===k)break e;case Ge:p.mode=ce;case ce:if(Q>=6&&A>=258){Y.next_out=V,Y.avail_out=A,Y.next_in=d,Y.avail_in=Q,p.hold=G,p.bits=ie,f(Y,Ne),V=Y.next_out,P=Y.output,A=Y.avail_out,d=Y.next_in,b=Y.input,Q=Y.avail_in,G=p.hold,ie=p.bits,p.mode===pe&&(p.back=-1);break}for(p.back=0;mt=p.lencode[G&(1<<p.lenbits)-1],ut=mt>>>24,Dt=mt>>>16&255,gt=mt&65535,!(ut<=ie);){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(Dt&&(Dt&240)===0){for(Gt=ut,Yt=Dt,Rr=gt;mt=p.lencode[Rr+((G&(1<<Gt+Yt)-1)>>Gt)],ut=mt>>>24,Dt=mt>>>16&255,gt=mt&65535,!(Gt+ut<=ie);){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}G>>>=Gt,ie-=Gt,p.back+=Gt}if(G>>>=ut,ie-=ut,p.back+=ut,p.length=gt,Dt===0){p.mode=et;break}if(Dt&32){p.back=-1,p.mode=pe;break}if(Dt&64){Y.msg="invalid literal/length code",p.mode=ht;break}p.extra=Dt&15,p.mode=ze;case ze:if(p.extra){for(pr=p.extra;ie<pr;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.length+=G&(1<<p.extra)-1,G>>>=p.extra,ie-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=qe;case qe:for(;mt=p.distcode[G&(1<<p.distbits)-1],ut=mt>>>24,Dt=mt>>>16&255,gt=mt&65535,!(ut<=ie);){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if((Dt&240)===0){for(Gt=ut,Yt=Dt,Rr=gt;mt=p.distcode[Rr+((G&(1<<Gt+Yt)-1)>>Gt)],ut=mt>>>24,Dt=mt>>>16&255,gt=mt&65535,!(Gt+ut<=ie);){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}G>>>=Gt,ie-=Gt,p.back+=Gt}if(G>>>=ut,ie-=ut,p.back+=ut,Dt&64){Y.msg="invalid distance code",p.mode=ht;break}p.offset=gt,p.extra=Dt&15,p.mode=Ve;case Ve:if(p.extra){for(pr=p.extra;ie<pr;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}p.offset+=G&(1<<p.extra)-1,G>>>=p.extra,ie-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){Y.msg="invalid distance too far back",p.mode=ht;break}p.mode=ft;case ft:if(A===0)break e;if(Fe=Ne-A,p.offset>Fe){if(Fe=p.offset-Fe,Fe>p.whave&&p.sane){Y.msg="invalid distance too far back",p.mode=ht;break}Fe>p.wnext?(Fe-=p.wnext,it=p.wsize-Fe):it=p.wnext-Fe,Fe>p.length&&(Fe=p.length),Ft=p.window}else Ft=P,it=V-p.offset,Fe=p.length;Fe>A&&(Fe=A),A-=Fe,p.length-=Fe;do P[V++]=Ft[it++];while(--Fe);p.length===0&&(p.mode=ce);break;case et:if(A===0)break e;P[V++]=p.length,A--,p.mode=ce;break;case ot:if(p.wrap){for(;ie<32;){if(Q===0)break e;Q--,G|=b[d++]<<ie,ie+=8}if(Ne-=A,Y.total_out+=Ne,p.total+=Ne,Ne&&(Y.adler=p.check=p.flags?c(p.check,P,Ne,V-Ne):u(p.check,P,Ne,V-Ne)),Ne=A,(p.flags?G:kt(G))!==p.check){Y.msg="incorrect data check",p.mode=ht;break}G=0,ie=0}p.mode=yt;case yt:if(p.wrap&&p.flags){for(;ie<32;){if(Q===0)break e;Q--,G+=b[d++]<<ie,ie+=8}if(G!==(p.total&4294967295)){Y.msg="incorrect length check",p.mode=ht;break}G=0,ie=0}p.mode=pt;case pt:ur=E;break e;case ht:ur=M;break e;case bt:return D;case st:default:return R}return Y.next_out=V,Y.avail_out=A,Y.next_in=d,Y.avail_in=Q,p.hold=G,p.bits=ie,(p.wsize||Ne!==Y.avail_out&&p.mode<ht&&(p.mode<ot||fe!==S))&&Xe(Y,Y.output,Y.next_out,Ne-Y.avail_out),je-=Y.avail_in,Ne-=Y.avail_out,Y.total_in+=je,Y.total_out+=Ne,p.total+=Ne,p.wrap&&Ne&&(Y.adler=p.check=p.flags?c(p.check,P,Ne,Y.next_out-Ne):u(p.check,P,Ne,Y.next_out-Ne)),Y.data_type=p.bits+(p.last?64:0)+(p.mode===pe?128:0)+(p.mode===Ge||p.mode===ne?256:0),(je===0&&Ne===0||fe===S)&&ur===g&&(ur=L),ur}function ue(Y){if(!Y||!Y.state)return R;var fe=Y.state;return fe.window&&(fe.window=null),Y.state=null,g}function ye(Y,fe){var p;return!Y||!Y.state||(p=Y.state,(p.wrap&2)===0)?R:(p.head=fe,fe.done=!1,g)}function _e(Y,fe){var p=fe.length,b,P,d;return!Y||!Y.state||(b=Y.state,b.wrap!==0&&b.mode!==te)?R:b.mode===te&&(P=1,P=u(P,fe,p,0),P!==b.check)?M:(d=Xe(Y,fe,p,p),d?(b.mode=bt,D):(b.havedict=1,g))}a.inflateReset=Rt,a.inflateReset2=At,a.inflateResetKeep=Xt,a.inflateInit=It,a.inflateInit2=Kt,a.inflate=N,a.inflateEnd=ue,a.inflateGetHeader=ye,a.inflateSetDictionary=_e,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,a){var o=n("../utils/common"),u=15,c=852,f=592,v=0,x=1,w=2,C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(E,_,R,M,D,L,F,U){var z=U.bits,q=0,ae=0,$=0,oe=0,xe=0,we=0,Te=0,ve=0,te=0,pe=0,me,W,ne,Le,Ce,Be=null,We=0,Ge,ce=new o.Buf16(u+1),ze=new o.Buf16(u+1),qe=null,Ve=0,ft,et,ot;for(q=0;q<=u;q++)ce[q]=0;for(ae=0;ae<M;ae++)ce[_[R+ae]]++;for(xe=z,oe=u;oe>=1&&ce[oe]===0;oe--);if(xe>oe&&(xe=oe),oe===0)return D[L++]=1<<24|64<<16|0,D[L++]=1<<24|64<<16|0,U.bits=1,0;for($=1;$<oe&&ce[$]===0;$++);for(xe<$&&(xe=$),ve=1,q=1;q<=u;q++)if(ve<<=1,ve-=ce[q],ve<0)return-1;if(ve>0&&(E===v||oe!==1))return-1;for(ze[1]=0,q=1;q<u;q++)ze[q+1]=ze[q]+ce[q];for(ae=0;ae<M;ae++)_[R+ae]!==0&&(F[ze[_[R+ae]]++]=ae);if(E===v?(Be=qe=F,Ge=19):E===x?(Be=C,We-=257,qe=S,Ve-=257,Ge=256):(Be=j,qe=k,Ge=-1),pe=0,ae=0,q=$,Ce=L,we=xe,Te=0,ne=-1,te=1<<xe,Le=te-1,E===x&&te>c||E===w&&te>f)return 1;for(;;){ft=q-Te,F[ae]<Ge?(et=0,ot=F[ae]):F[ae]>Ge?(et=qe[Ve+F[ae]],ot=Be[We+F[ae]]):(et=96,ot=0),me=1<<q-Te,W=1<<we,$=W;do W-=me,D[Ce+(pe>>Te)+W]=ft<<24|et<<16|ot|0;while(W!==0);for(me=1<<q-1;pe&me;)me>>=1;if(me!==0?(pe&=me-1,pe+=me):pe=0,ae++,--ce[q]===0){if(q===oe)break;q=_[R+F[ae]]}if(q>xe&&(pe&Le)!==ne){for(Te===0&&(Te=xe),Ce+=$,we=q-Te,ve=1<<we;we+Te<oe&&(ve-=ce[we+Te],!(ve<=0));)we++,ve<<=1;if(te+=1<<we,E===x&&te>c||E===w&&te>f)return 1;ne=pe&Le,D[ne]=xe<<24|we<<16|Ce-L|0}}return pe!==0&&(D[Ce+pe]=q-Te<<24|64<<16|0),U.bits=xe,0}},{"../utils/common":41}],51:[function(n,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,a){var o=n("../utils/common"),u=4,c=0,f=1,v=2;function x(N){for(var ue=N.length;--ue>=0;)N[ue]=0}var w=0,C=1,S=2,j=3,k=258,g=29,E=256,_=E+1+g,R=30,M=19,D=2*_+1,L=15,F=16,U=7,z=256,q=16,ae=17,$=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],xe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=512,te=new Array((_+2)*2);x(te);var pe=new Array(R*2);x(pe);var me=new Array(ve);x(me);var W=new Array(k-j+1);x(W);var ne=new Array(g);x(ne);var Le=new Array(R);x(Le);function Ce(N,ue,ye,_e,Y){this.static_tree=N,this.extra_bits=ue,this.extra_base=ye,this.elems=_e,this.max_length=Y,this.has_stree=N&&N.length}var Be,We,Ge;function ce(N,ue){this.dyn_tree=N,this.max_code=0,this.stat_desc=ue}function ze(N){return N<256?me[N]:me[256+(N>>>7)]}function qe(N,ue){N.pending_buf[N.pending++]=ue&255,N.pending_buf[N.pending++]=ue>>>8&255}function Ve(N,ue,ye){N.bi_valid>F-ye?(N.bi_buf|=ue<<N.bi_valid&65535,qe(N,N.bi_buf),N.bi_buf=ue>>F-N.bi_valid,N.bi_valid+=ye-F):(N.bi_buf|=ue<<N.bi_valid&65535,N.bi_valid+=ye)}function ft(N,ue,ye){Ve(N,ye[ue*2],ye[ue*2+1])}function et(N,ue){var ye=0;do ye|=N&1,N>>>=1,ye<<=1;while(--ue>0);return ye>>>1}function ot(N){N.bi_valid===16?(qe(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function yt(N,ue){var ye=ue.dyn_tree,_e=ue.max_code,Y=ue.stat_desc.static_tree,fe=ue.stat_desc.has_stree,p=ue.stat_desc.extra_bits,b=ue.stat_desc.extra_base,P=ue.stat_desc.max_length,d,V,Q,A,G,ie,je=0;for(A=0;A<=L;A++)N.bl_count[A]=0;for(ye[N.heap[N.heap_max]*2+1]=0,d=N.heap_max+1;d<D;d++)V=N.heap[d],A=ye[ye[V*2+1]*2+1]+1,A>P&&(A=P,je++),ye[V*2+1]=A,!(V>_e)&&(N.bl_count[A]++,G=0,V>=b&&(G=p[V-b]),ie=ye[V*2],N.opt_len+=ie*(A+G),fe&&(N.static_len+=ie*(Y[V*2+1]+G)));if(je!==0){do{for(A=P-1;N.bl_count[A]===0;)A--;N.bl_count[A]--,N.bl_count[A+1]+=2,N.bl_count[P]--,je-=2}while(je>0);for(A=P;A!==0;A--)for(V=N.bl_count[A];V!==0;)Q=N.heap[--d],!(Q>_e)&&(ye[Q*2+1]!==A&&(N.opt_len+=(A-ye[Q*2+1])*ye[Q*2],ye[Q*2+1]=A),V--)}}function pt(N,ue,ye){var _e=new Array(L+1),Y=0,fe,p;for(fe=1;fe<=L;fe++)_e[fe]=Y=Y+ye[fe-1]<<1;for(p=0;p<=ue;p++){var b=N[p*2+1];b!==0&&(N[p*2]=et(_e[b]++,b))}}function ht(){var N,ue,ye,_e,Y,fe=new Array(L+1);for(ye=0,_e=0;_e<g-1;_e++)for(ne[_e]=ye,N=0;N<1<<oe[_e];N++)W[ye++]=_e;for(W[ye-1]=_e,Y=0,_e=0;_e<16;_e++)for(Le[_e]=Y,N=0;N<1<<xe[_e];N++)me[Y++]=_e;for(Y>>=7;_e<R;_e++)for(Le[_e]=Y<<7,N=0;N<1<<xe[_e]-7;N++)me[256+Y++]=_e;for(ue=0;ue<=L;ue++)fe[ue]=0;for(N=0;N<=143;)te[N*2+1]=8,N++,fe[8]++;for(;N<=255;)te[N*2+1]=9,N++,fe[9]++;for(;N<=279;)te[N*2+1]=7,N++,fe[7]++;for(;N<=287;)te[N*2+1]=8,N++,fe[8]++;for(pt(te,_+1,fe),N=0;N<R;N++)pe[N*2+1]=5,pe[N*2]=et(N,5);Be=new Ce(te,oe,E+1,_,L),We=new Ce(pe,xe,0,R,L),Ge=new Ce(new Array(0),we,0,M,U)}function bt(N){var ue;for(ue=0;ue<_;ue++)N.dyn_ltree[ue*2]=0;for(ue=0;ue<R;ue++)N.dyn_dtree[ue*2]=0;for(ue=0;ue<M;ue++)N.bl_tree[ue*2]=0;N.dyn_ltree[z*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function st(N){N.bi_valid>8?qe(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function lt(N,ue,ye,_e){st(N),qe(N,ye),qe(N,~ye),o.arraySet(N.pending_buf,N.window,ue,ye,N.pending),N.pending+=ye}function Qe(N,ue,ye,_e){var Y=ue*2,fe=ye*2;return N[Y]<N[fe]||N[Y]===N[fe]&&_e[ue]<=_e[ye]}function nt(N,ue,ye){for(var _e=N.heap[ye],Y=ye<<1;Y<=N.heap_len&&(Y<N.heap_len&&Qe(ue,N.heap[Y+1],N.heap[Y],N.depth)&&Y++,!Qe(ue,_e,N.heap[Y],N.depth));)N.heap[ye]=N.heap[Y],ye=Y,Y<<=1;N.heap[ye]=_e}function Je(N,ue,ye){var _e,Y,fe=0,p,b;if(N.last_lit!==0)do _e=N.pending_buf[N.d_buf+fe*2]<<8|N.pending_buf[N.d_buf+fe*2+1],Y=N.pending_buf[N.l_buf+fe],fe++,_e===0?ft(N,Y,ue):(p=W[Y],ft(N,p+E+1,ue),b=oe[p],b!==0&&(Y-=ne[p],Ve(N,Y,b)),_e--,p=ze(_e),ft(N,p,ye),b=xe[p],b!==0&&(_e-=Le[p],Ve(N,_e,b)));while(fe<N.last_lit);ft(N,z,ue)}function kt(N,ue){var ye=ue.dyn_tree,_e=ue.stat_desc.static_tree,Y=ue.stat_desc.has_stree,fe=ue.stat_desc.elems,p,b,P=-1,d;for(N.heap_len=0,N.heap_max=D,p=0;p<fe;p++)ye[p*2]!==0?(N.heap[++N.heap_len]=P=p,N.depth[p]=0):ye[p*2+1]=0;for(;N.heap_len<2;)d=N.heap[++N.heap_len]=P<2?++P:0,ye[d*2]=1,N.depth[d]=0,N.opt_len--,Y&&(N.static_len-=_e[d*2+1]);for(ue.max_code=P,p=N.heap_len>>1;p>=1;p--)nt(N,ye,p);d=fe;do p=N.heap[1],N.heap[1]=N.heap[N.heap_len--],nt(N,ye,1),b=N.heap[1],N.heap[--N.heap_max]=p,N.heap[--N.heap_max]=b,ye[d*2]=ye[p*2]+ye[b*2],N.depth[d]=(N.depth[p]>=N.depth[b]?N.depth[p]:N.depth[b])+1,ye[p*2+1]=ye[b*2+1]=d,N.heap[1]=d++,nt(N,ye,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],yt(N,ue),pt(ye,P,N.bl_count)}function rr(N,ue,ye){var _e,Y=-1,fe,p=ue[1],b=0,P=7,d=4;for(p===0&&(P=138,d=3),ue[(ye+1)*2+1]=65535,_e=0;_e<=ye;_e++)fe=p,p=ue[(_e+1)*2+1],!(++b<P&&fe===p)&&(b<d?N.bl_tree[fe*2]+=b:fe!==0?(fe!==Y&&N.bl_tree[fe*2]++,N.bl_tree[q*2]++):b<=10?N.bl_tree[ae*2]++:N.bl_tree[$*2]++,b=0,Y=fe,p===0?(P=138,d=3):fe===p?(P=6,d=3):(P=7,d=4))}function Xt(N,ue,ye){var _e,Y=-1,fe,p=ue[1],b=0,P=7,d=4;for(p===0&&(P=138,d=3),_e=0;_e<=ye;_e++)if(fe=p,p=ue[(_e+1)*2+1],!(++b<P&&fe===p)){if(b<d)do ft(N,fe,N.bl_tree);while(--b!==0);else fe!==0?(fe!==Y&&(ft(N,fe,N.bl_tree),b--),ft(N,q,N.bl_tree),Ve(N,b-3,2)):b<=10?(ft(N,ae,N.bl_tree),Ve(N,b-3,3)):(ft(N,$,N.bl_tree),Ve(N,b-11,7));b=0,Y=fe,p===0?(P=138,d=3):fe===p?(P=6,d=3):(P=7,d=4)}}function Rt(N){var ue;for(rr(N,N.dyn_ltree,N.l_desc.max_code),rr(N,N.dyn_dtree,N.d_desc.max_code),kt(N,N.bl_desc),ue=M-1;ue>=3&&N.bl_tree[Te[ue]*2+1]===0;ue--);return N.opt_len+=3*(ue+1)+5+5+4,ue}function At(N,ue,ye,_e){var Y;for(Ve(N,ue-257,5),Ve(N,ye-1,5),Ve(N,_e-4,4),Y=0;Y<_e;Y++)Ve(N,N.bl_tree[Te[Y]*2+1],3);Xt(N,N.dyn_ltree,ue-1),Xt(N,N.dyn_dtree,ye-1)}function Kt(N){var ue=4093624447,ye;for(ye=0;ye<=31;ye++,ue>>>=1)if(ue&1&&N.dyn_ltree[ye*2]!==0)return c;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return f;for(ye=32;ye<E;ye++)if(N.dyn_ltree[ye*2]!==0)return f;return c}var It=!1;function Wt(N){It||(ht(),It=!0),N.l_desc=new ce(N.dyn_ltree,Be),N.d_desc=new ce(N.dyn_dtree,We),N.bl_desc=new ce(N.bl_tree,Ge),N.bi_buf=0,N.bi_valid=0,bt(N)}function Qt(N,ue,ye,_e){Ve(N,(w<<1)+(_e?1:0),3),lt(N,ue,ye)}function Ie(N){Ve(N,C<<1,3),ft(N,z,te),ot(N)}function Pe(N,ue,ye,_e){var Y,fe,p=0;N.level>0?(N.strm.data_type===v&&(N.strm.data_type=Kt(N)),kt(N,N.l_desc),kt(N,N.d_desc),p=Rt(N),Y=N.opt_len+3+7>>>3,fe=N.static_len+3+7>>>3,fe<=Y&&(Y=fe)):Y=fe=ye+5,ye+4<=Y&&ue!==-1?Qt(N,ue,ye,_e):N.strategy===u||fe===Y?(Ve(N,(C<<1)+(_e?1:0),3),Je(N,te,pe)):(Ve(N,(S<<1)+(_e?1:0),3),At(N,N.l_desc.max_code+1,N.d_desc.max_code+1,p+1),Je(N,N.dyn_ltree,N.dyn_dtree)),bt(N),_e&&st(N)}function Xe(N,ue,ye){return N.pending_buf[N.d_buf+N.last_lit*2]=ue>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=ue&255,N.pending_buf[N.l_buf+N.last_lit]=ye&255,N.last_lit++,ue===0?N.dyn_ltree[ye*2]++:(N.matches++,ue--,N.dyn_ltree[(W[ye]+E+1)*2]++,N.dyn_dtree[ze(ue)*2]++),N.last_lit===N.lit_bufsize-1}a._tr_init=Wt,a._tr_stored_block=Qt,a._tr_flush_block=Pe,a._tr_tally=Xe,a._tr_align=Ie},{"../utils/common":41}],53:[function(n,i,a){function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=o},{}],54:[function(n,i,a){(function(o){(function(u,c){if(u.setImmediate)return;var f=1,v={},x=!1,w=u.document,C;function S(U){typeof U!="function"&&(U=new Function(""+U));for(var z=new Array(arguments.length-1),q=0;q<z.length;q++)z[q]=arguments[q+1];var ae={callback:U,args:z};return v[f]=ae,C(f),f++}function j(U){delete v[U]}function k(U){var z=U.callback,q=U.args;switch(q.length){case 0:z();break;case 1:z(q[0]);break;case 2:z(q[0],q[1]);break;case 3:z(q[0],q[1],q[2]);break;default:z.apply(c,q);break}}function g(U){if(x)setTimeout(g,0,U);else{var z=v[U];if(z){x=!0;try{k(z)}finally{j(U),x=!1}}}}function E(){C=function(U){process.nextTick(function(){g(U)})}}function _(){if(u.postMessage&&!u.importScripts){var U=!0,z=u.onmessage;return u.onmessage=function(){U=!1},u.postMessage("","*"),u.onmessage=z,U}}function R(){var U="setImmediate$"+Math.random()+"$",z=function(q){q.source===u&&typeof q.data=="string"&&q.data.indexOf(U)===0&&g(+q.data.slice(U.length))};u.addEventListener?u.addEventListener("message",z,!1):u.attachEvent("onmessage",z),C=function(q){u.postMessage(U+q,"*")}}function M(){var U=new MessageChannel;U.port1.onmessage=function(z){var q=z.data;g(q)},C=function(z){U.port2.postMessage(z)}}function D(){var U=w.documentElement;C=function(z){var q=w.createElement("script");q.onreadystatechange=function(){g(z),q.onreadystatechange=null,U.removeChild(q),q=null},U.appendChild(q)}}function L(){C=function(U){setTimeout(g,0,U)}}var F=Object.getPrototypeOf&&Object.getPrototypeOf(u);F=F&&F.setTimeout?F:u,{}.toString.call(u.process)==="[object process]"?E():_()?R():u.MessageChannel?M():w&&"onreadystatechange"in w.createElement("script")?D():L(),F.setImmediate=S,F.clearImmediate=j})(typeof self>"u"?typeof o>"u"?this:o:self)}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ku)),ku.exports}var fy=cy();const hy=Mn(fy);class dy{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new hy}catch{throw new Error("JSZip lib not loaded")}}open(t,n){return this.zip.loadAsync(t,{base64:n})}openUrl(t,n){return Ds(t,"binary").then((function(i){return this.zip.loadAsync(i,{base64:n})}).bind(this))}request(t,n){var i=new wt,a,o=new yn(t);return n||(n=o.extension),n=="blob"?a=this.getBlob(t):a=this.getText(t),a?a.then((function(u){let c=this.handleResponse(u,n);i.resolve(c)}).bind(this)):i.reject({message:"File not found in the epub: "+t,stack:new Error().stack}),i.promise}handleResponse(t,n){var i;return n=="json"?i=JSON.parse(t):Cs(n)?i=nn(t,"text/xml"):n=="xhtml"?i=nn(t,"application/xhtml+xml"):n=="html"||n=="htm"?i=nn(t,"text/html"):i=t,i}getBlob(t,n){var i=window.decodeURIComponent(t.substr(1)),a=this.zip.file(i);if(a)return n=n||Fi.lookup(a.name),a.async("uint8array").then(function(o){return new Blob([o],{type:n})})}getText(t,n){var i=window.decodeURIComponent(t.substr(1)),a=this.zip.file(i);if(a)return a.async("string").then(function(o){return o})}getBase64(t,n){var i=window.decodeURIComponent(t.substr(1)),a=this.zip.file(i);if(a)return n=n||Fi.lookup(a.name),a.async("base64").then(function(o){return"data:"+n+";base64,"+o})}createUrl(t,n){var i=new wt,a=window.URL||window.webkitURL||window.mozURL,o,u,c=n&&n.base64;return t in this.urlCache?(i.resolve(this.urlCache[t]),i.promise):(c?(u=this.getBase64(t),u&&u.then((function(f){this.urlCache[t]=f,i.resolve(f)}).bind(this))):(u=this.getBlob(t),u&&u.then((function(f){o=a.createObjectURL(f),this.urlCache[t]=o,i.resolve(o)}).bind(this))),u||i.reject({message:"File not found in the epub: "+t,stack:new Error().stack}),i.promise)}revokeUrl(t){var n=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[t];i&&n.revokeObjectURL(i)}destroy(){var t=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)t.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var Au={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Ud;function py(){return Ud||(Ud=1,(function(h,t){(function(n){h.exports=n()})(function(){return(function n(i,a,o){function u(v,x){if(!a[v]){if(!i[v]){var w=typeof jn=="function"&&jn;if(!x&&w)return w(v,!0);if(c)return c(v,!0);var C=new Error("Cannot find module '"+v+"'");throw C.code="MODULE_NOT_FOUND",C}var S=a[v]={exports:{}};i[v][0].call(S.exports,function(j){var k=i[v][1][j];return u(k||j)},S,S.exports,n,i,a,o)}return a[v].exports}for(var c=typeof jn=="function"&&jn,f=0;f<o.length;f++)u(o[f]);return u})({1:[function(n,i,a){(function(o){var u=o.MutationObserver||o.WebKitMutationObserver,c;if(u){var f=0,v=new u(j),x=o.document.createTextNode("");v.observe(x,{characterData:!0}),c=function(){x.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var w=new o.MessageChannel;w.port1.onmessage=j,c=function(){w.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){j(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:c=function(){setTimeout(j,0)};var C,S=[];function j(){C=!0;for(var g,E,_=S.length;_;){for(E=S,S=[],g=-1;++g<_;)E[g]();_=S.length}C=!1}i.exports=k;function k(g){S.push(g)===1&&!C&&c()}}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,a){var o=n(1);function u(){}var c={},f=["REJECTED"],v=["FULFILLED"],x=["PENDING"];i.exports=w;function w(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,D!==u&&k(this,D)}w.prototype.catch=function(D){return this.then(null,D)},w.prototype.then=function(D,L){if(typeof D!="function"&&this.state===v||typeof L!="function"&&this.state===f)return this;var F=new this.constructor(u);if(this.state!==x){var U=this.state===v?D:L;S(F,U,this.outcome)}else this.queue.push(new C(F,D,L));return F};function C(D,L,F){this.promise=D,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}C.prototype.callFulfilled=function(D){c.resolve(this.promise,D)},C.prototype.otherCallFulfilled=function(D){S(this.promise,this.onFulfilled,D)},C.prototype.callRejected=function(D){c.reject(this.promise,D)},C.prototype.otherCallRejected=function(D){S(this.promise,this.onRejected,D)};function S(D,L,F){o(function(){var U;try{U=L(F)}catch(z){return c.reject(D,z)}U===D?c.reject(D,new TypeError("Cannot resolve promise with itself")):c.resolve(D,U)})}c.resolve=function(D,L){var F=g(j,L);if(F.status==="error")return c.reject(D,F.value);var U=F.value;if(U)k(D,U);else{D.state=v,D.outcome=L;for(var z=-1,q=D.queue.length;++z<q;)D.queue[z].callFulfilled(L)}return D},c.reject=function(D,L){D.state=f,D.outcome=L;for(var F=-1,U=D.queue.length;++F<U;)D.queue[F].callRejected(L);return D};function j(D){var L=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof L=="function")return function(){L.apply(D,arguments)}}function k(D,L){var F=!1;function U($){F||(F=!0,c.reject(D,$))}function z($){F||(F=!0,c.resolve(D,$))}function q(){L(z,U)}var ae=g(q);ae.status==="error"&&U(ae.value)}function g(D,L){var F={};try{F.value=D(L),F.status="success"}catch(U){F.status="error",F.value=U}return F}w.resolve=E;function E(D){return D instanceof this?D:c.resolve(new this(u),D)}w.reject=_;function _(D){var L=new this(u);return c.reject(L,D)}w.all=R;function R(D){var L=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=D.length,U=!1;if(!F)return this.resolve([]);for(var z=new Array(F),q=0,ae=-1,$=new this(u);++ae<F;)oe(D[ae],ae);return $;function oe(xe,we){L.resolve(xe).then(Te,function(ve){U||(U=!0,c.reject($,ve))});function Te(ve){z[we]=ve,++q===F&&!U&&(U=!0,c.resolve($,z))}}}w.race=M;function M(D){var L=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=D.length,U=!1;if(!F)return this.resolve([]);for(var z=-1,q=new this(u);++z<F;)ae(D[z]);return q;function ae($){L.resolve($).then(function(oe){U||(U=!0,c.resolve(q,oe))},function(oe){U||(U=!0,c.reject(q,oe))})}}},{1:1}],3:[function(n,i,a){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function u(I,Z){if(!(I instanceof Z))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=c();function v(){try{if(!f||!f.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function x(I,Z){I=I||[],Z=Z||{};try{return new Blob(I,Z)}catch(K){if(K.name!=="TypeError")throw K;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ee=new B,re=0;re<I.length;re+=1)ee.append(I[re]);return ee.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var w=Promise;function C(I,Z){Z&&I.then(function(B){Z(null,B)},function(B){Z(B)})}function S(I,Z,B){typeof Z=="function"&&I.then(Z),typeof B=="function"&&I.catch(B)}function j(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",E=void 0,_={},R=Object.prototype.toString,M="readonly",D="readwrite";function L(I){for(var Z=I.length,B=new ArrayBuffer(Z),ee=new Uint8Array(B),re=0;re<Z;re++)ee[re]=I.charCodeAt(re);return B}function F(I){return new w(function(Z){var B=I.transaction(g,D),ee=x([""]);B.objectStore(g).put(ee,"key"),B.onabort=function(re){re.preventDefault(),re.stopPropagation(),Z(!1)},B.oncomplete=function(){var re=navigator.userAgent.match(/Chrome\/(\d+)/),K=navigator.userAgent.match(/Edge\//);Z(K||!re||parseInt(re[1],10)>=43)}}).catch(function(){return!1})}function U(I){return typeof E=="boolean"?w.resolve(E):F(I).then(function(Z){return E=Z,E})}function z(I){var Z=_[I.name],B={};B.promise=new w(function(ee,re){B.resolve=ee,B.reject=re}),Z.deferredOperations.push(B),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return B.promise}):Z.dbReady=B.promise}function q(I){var Z=_[I.name],B=Z.deferredOperations.pop();if(B)return B.resolve(),B.promise}function ae(I,Z){var B=_[I.name],ee=B.deferredOperations.pop();if(ee)return ee.reject(Z),ee.promise}function $(I,Z){return new w(function(B,ee){if(_[I.name]=_[I.name]||ne(),I.db)if(Z)z(I),I.db.close();else return B(I.db);var re=[I.name];Z&&re.push(I.version);var K=f.open.apply(f,re);Z&&(K.onupgradeneeded=function(ge){var Se=K.result;try{Se.createObjectStore(I.storeName),ge.oldVersion<=1&&Se.createObjectStore(g)}catch(Ae){if(Ae.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+ge.oldVersion+" to version "+ge.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw Ae}}),K.onerror=function(ge){ge.preventDefault(),ee(K.error)},K.onsuccess=function(){var ge=K.result;ge.onversionchange=function(Se){Se.target.close()},B(ge),q(I)}})}function oe(I){return $(I,!1)}function xe(I){return $(I,!0)}function we(I,Z){if(!I.db)return!0;var B=!I.db.objectStoreNames.contains(I.storeName),ee=I.version<I.db.version,re=I.version>I.db.version;if(ee&&(I.version!==Z&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),re||B){if(B){var K=I.db.version+1;K>I.version&&(I.version=K)}return!0}return!1}function Te(I){return new w(function(Z,B){var ee=new FileReader;ee.onerror=B,ee.onloadend=function(re){var K=btoa(re.target.result||"");Z({__local_forage_encoded_blob:!0,data:K,type:I.type})},ee.readAsBinaryString(I)})}function ve(I){var Z=L(atob(I.data));return x([Z],{type:I.type})}function te(I){return I&&I.__local_forage_encoded_blob}function pe(I){var Z=this,B=Z._initReady().then(function(){var ee=_[Z._dbInfo.name];if(ee&&ee.dbReady)return ee.dbReady});return S(B,I,I),B}function me(I){z(I);for(var Z=_[I.name],B=Z.forages,ee=0;ee<B.length;ee++){var re=B[ee];re._dbInfo.db&&(re._dbInfo.db.close(),re._dbInfo.db=null)}return I.db=null,oe(I).then(function(K){return I.db=K,we(I)?xe(I):K}).then(function(K){I.db=Z.db=K;for(var ge=0;ge<B.length;ge++)B[ge]._dbInfo.db=K}).catch(function(K){throw ae(I,K),K})}function W(I,Z,B,ee){ee===void 0&&(ee=1);try{var re=I.db.transaction(I.storeName,Z);B(null,re)}catch(K){if(ee>0&&(!I.db||K.name==="InvalidStateError"||K.name==="NotFoundError"))return w.resolve().then(function(){if(!I.db||K.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),xe(I)}).then(function(){return me(I).then(function(){W(I,Z,B,ee-1)})}).catch(B);B(K)}}function ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Le(I){var Z=this,B={db:null};if(I)for(var ee in I)B[ee]=I[ee];var re=_[B.name];re||(re=ne(),_[B.name]=re),re.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=pe);var K=[];function ge(){return w.resolve()}for(var Se=0;Se<re.forages.length;Se++){var Ae=re.forages[Se];Ae!==Z&&K.push(Ae._initReady().catch(ge))}var ke=re.forages.slice(0);return w.all(K).then(function(){return B.db=re.db,oe(B)}).then(function(Oe){return B.db=Oe,we(B,Z._defaultConfig.version)?xe(B):Oe}).then(function(Oe){B.db=re.db=Oe,Z._dbInfo=B;for(var Ye=0;Ye<ke.length;Ye++){var dt=ke[Ye];dt!==Z&&(dt._dbInfo.db=B.db,dt._dbInfo.version=B.version)}})}function Ce(I,Z){var B=this;I=j(I);var ee=new w(function(re,K){B.ready().then(function(){W(B._dbInfo,M,function(ge,Se){if(ge)return K(ge);try{var Ae=Se.objectStore(B._dbInfo.storeName),ke=Ae.get(I);ke.onsuccess=function(){var Oe=ke.result;Oe===void 0&&(Oe=null),te(Oe)&&(Oe=ve(Oe)),re(Oe)},ke.onerror=function(){K(ke.error)}}catch(Oe){K(Oe)}})}).catch(K)});return C(ee,Z),ee}function Be(I,Z){var B=this,ee=new w(function(re,K){B.ready().then(function(){W(B._dbInfo,M,function(ge,Se){if(ge)return K(ge);try{var Ae=Se.objectStore(B._dbInfo.storeName),ke=Ae.openCursor(),Oe=1;ke.onsuccess=function(){var Ye=ke.result;if(Ye){var dt=Ye.value;te(dt)&&(dt=ve(dt));var St=I(dt,Ye.key,Oe++);St!==void 0?re(St):Ye.continue()}else re()},ke.onerror=function(){K(ke.error)}}catch(Ye){K(Ye)}})}).catch(K)});return C(ee,Z),ee}function We(I,Z,B){var ee=this;I=j(I);var re=new w(function(K,ge){var Se;ee.ready().then(function(){return Se=ee._dbInfo,R.call(Z)==="[object Blob]"?U(Se.db).then(function(Ae){return Ae?Z:Te(Z)}):Z}).then(function(Ae){W(ee._dbInfo,D,function(ke,Oe){if(ke)return ge(ke);try{var Ye=Oe.objectStore(ee._dbInfo.storeName);Ae===null&&(Ae=void 0);var dt=Ye.put(Ae,I);Oe.oncomplete=function(){Ae===void 0&&(Ae=null),K(Ae)},Oe.onabort=Oe.onerror=function(){var St=dt.error?dt.error:dt.transaction.error;ge(St)}}catch(St){ge(St)}})}).catch(ge)});return C(re,B),re}function Ge(I,Z){var B=this;I=j(I);var ee=new w(function(re,K){B.ready().then(function(){W(B._dbInfo,D,function(ge,Se){if(ge)return K(ge);try{var Ae=Se.objectStore(B._dbInfo.storeName),ke=Ae.delete(I);Se.oncomplete=function(){re()},Se.onerror=function(){K(ke.error)},Se.onabort=function(){var Oe=ke.error?ke.error:ke.transaction.error;K(Oe)}}catch(Oe){K(Oe)}})}).catch(K)});return C(ee,Z),ee}function ce(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){W(Z._dbInfo,D,function(K,ge){if(K)return re(K);try{var Se=ge.objectStore(Z._dbInfo.storeName),Ae=Se.clear();ge.oncomplete=function(){ee()},ge.onabort=ge.onerror=function(){var ke=Ae.error?Ae.error:Ae.transaction.error;re(ke)}}catch(ke){re(ke)}})}).catch(re)});return C(B,I),B}function ze(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){W(Z._dbInfo,M,function(K,ge){if(K)return re(K);try{var Se=ge.objectStore(Z._dbInfo.storeName),Ae=Se.count();Ae.onsuccess=function(){ee(Ae.result)},Ae.onerror=function(){re(Ae.error)}}catch(ke){re(ke)}})}).catch(re)});return C(B,I),B}function qe(I,Z){var B=this,ee=new w(function(re,K){if(I<0){re(null);return}B.ready().then(function(){W(B._dbInfo,M,function(ge,Se){if(ge)return K(ge);try{var Ae=Se.objectStore(B._dbInfo.storeName),ke=!1,Oe=Ae.openKeyCursor();Oe.onsuccess=function(){var Ye=Oe.result;if(!Ye){re(null);return}I===0||ke?re(Ye.key):(ke=!0,Ye.advance(I))},Oe.onerror=function(){K(Oe.error)}}catch(Ye){K(Ye)}})}).catch(K)});return C(ee,Z),ee}function Ve(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){W(Z._dbInfo,M,function(K,ge){if(K)return re(K);try{var Se=ge.objectStore(Z._dbInfo.storeName),Ae=Se.openKeyCursor(),ke=[];Ae.onsuccess=function(){var Oe=Ae.result;if(!Oe){ee(ke);return}ke.push(Oe.key),Oe.continue()},Ae.onerror=function(){re(Ae.error)}}catch(Oe){re(Oe)}})}).catch(re)});return C(B,I),B}function ft(I,Z){Z=k.apply(this,arguments);var B=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||B.name,I.storeName=I.storeName||B.storeName);var ee=this,re;if(!I.name)re=w.reject("Invalid arguments");else{var K=I.name===B.name&&ee._dbInfo.db,ge=K?w.resolve(ee._dbInfo.db):oe(I).then(function(Se){var Ae=_[I.name],ke=Ae.forages;Ae.db=Se;for(var Oe=0;Oe<ke.length;Oe++)ke[Oe]._dbInfo.db=Se;return Se});I.storeName?re=ge.then(function(Se){if(Se.objectStoreNames.contains(I.storeName)){var Ae=Se.version+1;z(I);var ke=_[I.name],Oe=ke.forages;Se.close();for(var Ye=0;Ye<Oe.length;Ye++){var dt=Oe[Ye];dt._dbInfo.db=null,dt._dbInfo.version=Ae}var St=new w(function(_t,at){var zt=f.open(I.name,Ae);zt.onerror=function(mr){var on=zt.result;on.close(),at(mr)},zt.onupgradeneeded=function(){var mr=zt.result;mr.deleteObjectStore(I.storeName)},zt.onsuccess=function(){var mr=zt.result;mr.close(),_t(mr)}});return St.then(function(_t){ke.db=_t;for(var at=0;at<Oe.length;at++){var zt=Oe[at];zt._dbInfo.db=_t,q(zt._dbInfo)}}).catch(function(_t){throw(ae(I,_t)||w.resolve()).catch(function(){}),_t})}}):re=ge.then(function(Se){z(I);var Ae=_[I.name],ke=Ae.forages;Se.close();for(var Oe=0;Oe<ke.length;Oe++){var Ye=ke[Oe];Ye._dbInfo.db=null}var dt=new w(function(St,_t){var at=f.deleteDatabase(I.name);at.onerror=function(){var zt=at.result;zt&&zt.close(),_t(at.error)},at.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},at.onsuccess=function(){var zt=at.result;zt&&zt.close(),St(zt)}});return dt.then(function(St){Ae.db=St;for(var _t=0;_t<ke.length;_t++){var at=ke[_t];q(at._dbInfo)}}).catch(function(St){throw(ae(I,St)||w.resolve()).catch(function(){}),St})})}return C(re,Z),re}var et={_driver:"asyncStorage",_initStorage:Le,_support:v(),iterate:Be,getItem:Ce,setItem:We,removeItem:Ge,clear:ce,length:ze,key:qe,keys:Ve,dropInstance:ft};function ot(){return typeof openDatabase=="function"}var yt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",ht=/^~~local_forage_type~([^~]+)~/,bt="__lfsc__:",st=bt.length,lt="arbf",Qe="blob",nt="si08",Je="ui08",kt="uic8",rr="si16",Xt="si32",Rt="ur16",At="ui32",Kt="fl32",It="fl64",Wt=st+lt.length,Qt=Object.prototype.toString;function Ie(I){var Z=I.length*.75,B=I.length,ee,re=0,K,ge,Se,Ae;I[I.length-1]==="="&&(Z--,I[I.length-2]==="="&&Z--);var ke=new ArrayBuffer(Z),Oe=new Uint8Array(ke);for(ee=0;ee<B;ee+=4)K=yt.indexOf(I[ee]),ge=yt.indexOf(I[ee+1]),Se=yt.indexOf(I[ee+2]),Ae=yt.indexOf(I[ee+3]),Oe[re++]=K<<2|ge>>4,Oe[re++]=(ge&15)<<4|Se>>2,Oe[re++]=(Se&3)<<6|Ae&63;return ke}function Pe(I){var Z=new Uint8Array(I),B="",ee;for(ee=0;ee<Z.length;ee+=3)B+=yt[Z[ee]>>2],B+=yt[(Z[ee]&3)<<4|Z[ee+1]>>4],B+=yt[(Z[ee+1]&15)<<2|Z[ee+2]>>6],B+=yt[Z[ee+2]&63];return Z.length%3===2?B=B.substring(0,B.length-1)+"=":Z.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function Xe(I,Z){var B="";if(I&&(B=Qt.call(I)),I&&(B==="[object ArrayBuffer]"||I.buffer&&Qt.call(I.buffer)==="[object ArrayBuffer]")){var ee,re=bt;I instanceof ArrayBuffer?(ee=I,re+=lt):(ee=I.buffer,B==="[object Int8Array]"?re+=nt:B==="[object Uint8Array]"?re+=Je:B==="[object Uint8ClampedArray]"?re+=kt:B==="[object Int16Array]"?re+=rr:B==="[object Uint16Array]"?re+=Rt:B==="[object Int32Array]"?re+=Xt:B==="[object Uint32Array]"?re+=At:B==="[object Float32Array]"?re+=Kt:B==="[object Float64Array]"?re+=It:Z(new Error("Failed to get type for BinaryArray"))),Z(re+Pe(ee))}else if(B==="[object Blob]"){var K=new FileReader;K.onload=function(){var ge=pt+I.type+"~"+Pe(this.result);Z(bt+Qe+ge)},K.readAsArrayBuffer(I)}else try{Z(JSON.stringify(I))}catch(ge){console.error("Couldn't convert value into a JSON string: ",I),Z(null,ge)}}function N(I){if(I.substring(0,st)!==bt)return JSON.parse(I);var Z=I.substring(Wt),B=I.substring(st,Wt),ee;if(B===Qe&&ht.test(Z)){var re=Z.match(ht);ee=re[1],Z=Z.substring(re[0].length)}var K=Ie(Z);switch(B){case lt:return K;case Qe:return x([K],{type:ee});case nt:return new Int8Array(K);case Je:return new Uint8Array(K);case kt:return new Uint8ClampedArray(K);case rr:return new Int16Array(K);case Rt:return new Uint16Array(K);case Xt:return new Int32Array(K);case At:return new Uint32Array(K);case Kt:return new Float32Array(K);case It:return new Float64Array(K);default:throw new Error("Unkown type: "+B)}}var ue={serialize:Xe,deserialize:N,stringToBuffer:Ie,bufferToString:Pe};function ye(I,Z,B,ee){I.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,ee)}function _e(I){var Z=this,B={db:null};if(I)for(var ee in I)B[ee]=typeof I[ee]!="string"?I[ee].toString():I[ee];var re=new w(function(K,ge){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(Se){return ge(Se)}B.db.transaction(function(Se){ye(Se,B,function(){Z._dbInfo=B,K()},function(Ae,ke){ge(ke)})},ge)});return B.serializer=ue,re}function Y(I,Z,B,ee,re,K){I.executeSql(B,ee,re,function(ge,Se){Se.code===Se.SYNTAX_ERR?ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Ae,ke){ke.rows.length?K(Ae,Se):ye(Ae,Z,function(){Ae.executeSql(B,ee,re,K)},K)},K):K(ge,Se)},K)}function fe(I,Z){var B=this;I=j(I);var ee=new w(function(re,K){B.ready().then(function(){var ge=B._dbInfo;ge.db.transaction(function(Se){Y(Se,ge,"SELECT * FROM "+ge.storeName+" WHERE key = ? LIMIT 1",[I],function(Ae,ke){var Oe=ke.rows.length?ke.rows.item(0).value:null;Oe&&(Oe=ge.serializer.deserialize(Oe)),re(Oe)},function(Ae,ke){K(ke)})})}).catch(K)});return C(ee,Z),ee}function p(I,Z){var B=this,ee=new w(function(re,K){B.ready().then(function(){var ge=B._dbInfo;ge.db.transaction(function(Se){Y(Se,ge,"SELECT * FROM "+ge.storeName,[],function(Ae,ke){for(var Oe=ke.rows,Ye=Oe.length,dt=0;dt<Ye;dt++){var St=Oe.item(dt),_t=St.value;if(_t&&(_t=ge.serializer.deserialize(_t)),_t=I(_t,St.key,dt+1),_t!==void 0){re(_t);return}}re()},function(Ae,ke){K(ke)})})}).catch(K)});return C(ee,Z),ee}function b(I,Z,B,ee){var re=this;I=j(I);var K=new w(function(ge,Se){re.ready().then(function(){Z===void 0&&(Z=null);var Ae=Z,ke=re._dbInfo;ke.serializer.serialize(Z,function(Oe,Ye){Ye?Se(Ye):ke.db.transaction(function(dt){Y(dt,ke,"INSERT OR REPLACE INTO "+ke.storeName+" (key, value) VALUES (?, ?)",[I,Oe],function(){ge(Ae)},function(St,_t){Se(_t)})},function(dt){if(dt.code===dt.QUOTA_ERR){if(ee>0){ge(b.apply(re,[I,Ae,B,ee-1]));return}Se(dt)}})})}).catch(Se)});return C(K,B),K}function P(I,Z,B){return b.apply(this,[I,Z,B,1])}function d(I,Z){var B=this;I=j(I);var ee=new w(function(re,K){B.ready().then(function(){var ge=B._dbInfo;ge.db.transaction(function(Se){Y(Se,ge,"DELETE FROM "+ge.storeName+" WHERE key = ?",[I],function(){re()},function(Ae,ke){K(ke)})})}).catch(K)});return C(ee,Z),ee}function V(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){var K=Z._dbInfo;K.db.transaction(function(ge){Y(ge,K,"DELETE FROM "+K.storeName,[],function(){ee()},function(Se,Ae){re(Ae)})})}).catch(re)});return C(B,I),B}function Q(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){var K=Z._dbInfo;K.db.transaction(function(ge){Y(ge,K,"SELECT COUNT(key) as c FROM "+K.storeName,[],function(Se,Ae){var ke=Ae.rows.item(0).c;ee(ke)},function(Se,Ae){re(Ae)})})}).catch(re)});return C(B,I),B}function A(I,Z){var B=this,ee=new w(function(re,K){B.ready().then(function(){var ge=B._dbInfo;ge.db.transaction(function(Se){Y(Se,ge,"SELECT key FROM "+ge.storeName+" WHERE id = ? LIMIT 1",[I+1],function(Ae,ke){var Oe=ke.rows.length?ke.rows.item(0).key:null;re(Oe)},function(Ae,ke){K(ke)})})}).catch(K)});return C(ee,Z),ee}function G(I){var Z=this,B=new w(function(ee,re){Z.ready().then(function(){var K=Z._dbInfo;K.db.transaction(function(ge){Y(ge,K,"SELECT key FROM "+K.storeName,[],function(Se,Ae){for(var ke=[],Oe=0;Oe<Ae.rows.length;Oe++)ke.push(Ae.rows.item(Oe).key);ee(ke)},function(Se,Ae){re(Ae)})})}).catch(re)});return C(B,I),B}function ie(I){return new w(function(Z,B){I.transaction(function(ee){ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(re,K){for(var ge=[],Se=0;Se<K.rows.length;Se++)ge.push(K.rows.item(Se).name);Z({db:I,storeNames:ge})},function(re,K){B(K)})},function(ee){B(ee)})})}function je(I,Z){Z=k.apply(this,arguments);var B=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||B.name,I.storeName=I.storeName||B.storeName);var ee=this,re;return I.name?re=new w(function(K){var ge;I.name===B.name?ge=ee._dbInfo.db:ge=openDatabase(I.name,"","",0),I.storeName?K({db:ge,storeNames:[I.storeName]}):K(ie(ge))}).then(function(K){return new w(function(ge,Se){K.db.transaction(function(Ae){function ke(St){return new w(function(_t,at){Ae.executeSql("DROP TABLE IF EXISTS "+St,[],function(){_t()},function(zt,mr){at(mr)})})}for(var Oe=[],Ye=0,dt=K.storeNames.length;Ye<dt;Ye++)Oe.push(ke(K.storeNames[Ye]));w.all(Oe).then(function(){ge()}).catch(function(St){Se(St)})},function(Ae){Se(Ae)})})}):re=w.reject("Invalid arguments"),C(re,Z),re}var Ne={_driver:"webSQLStorage",_initStorage:_e,_support:ot(),iterate:p,getItem:fe,setItem:P,removeItem:d,clear:V,length:Q,key:A,keys:G,dropInstance:je};function Fe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function it(I,Z){var B=I.name+"/";return I.storeName!==Z.storeName&&(B+=I.storeName+"/"),B}function Ft(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function mt(){return!Ft()||localStorage.length>0}function ut(I){var Z=this,B={};if(I)for(var ee in I)B[ee]=I[ee];return B.keyPrefix=it(I,Z._defaultConfig),mt()?(Z._dbInfo=B,B.serializer=ue,w.resolve()):w.reject()}function Dt(I){var Z=this,B=Z.ready().then(function(){for(var ee=Z._dbInfo.keyPrefix,re=localStorage.length-1;re>=0;re--){var K=localStorage.key(re);K.indexOf(ee)===0&&localStorage.removeItem(K)}});return C(B,I),B}function gt(I,Z){var B=this;I=j(I);var ee=B.ready().then(function(){var re=B._dbInfo,K=localStorage.getItem(re.keyPrefix+I);return K&&(K=re.serializer.deserialize(K)),K});return C(ee,Z),ee}function Gt(I,Z){var B=this,ee=B.ready().then(function(){for(var re=B._dbInfo,K=re.keyPrefix,ge=K.length,Se=localStorage.length,Ae=1,ke=0;ke<Se;ke++){var Oe=localStorage.key(ke);if(Oe.indexOf(K)===0){var Ye=localStorage.getItem(Oe);if(Ye&&(Ye=re.serializer.deserialize(Ye)),Ye=I(Ye,Oe.substring(ge),Ae++),Ye!==void 0)return Ye}}});return C(ee,Z),ee}function Yt(I,Z){var B=this,ee=B.ready().then(function(){var re=B._dbInfo,K;try{K=localStorage.key(I)}catch{K=null}return K&&(K=K.substring(re.keyPrefix.length)),K});return C(ee,Z),ee}function Rr(I){var Z=this,B=Z.ready().then(function(){for(var ee=Z._dbInfo,re=localStorage.length,K=[],ge=0;ge<re;ge++){var Se=localStorage.key(ge);Se.indexOf(ee.keyPrefix)===0&&K.push(Se.substring(ee.keyPrefix.length))}return K});return C(B,I),B}function Lt(I){var Z=this,B=Z.keys().then(function(ee){return ee.length});return C(B,I),B}function ur(I,Z){var B=this;I=j(I);var ee=B.ready().then(function(){var re=B._dbInfo;localStorage.removeItem(re.keyPrefix+I)});return C(ee,Z),ee}function qt(I,Z,B){var ee=this;I=j(I);var re=ee.ready().then(function(){Z===void 0&&(Z=null);var K=Z;return new w(function(ge,Se){var Ae=ee._dbInfo;Ae.serializer.serialize(Z,function(ke,Oe){if(Oe)Se(Oe);else try{localStorage.setItem(Ae.keyPrefix+I,ke),ge(K)}catch(Ye){(Ye.name==="QuotaExceededError"||Ye.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Se(Ye),Se(Ye)}})})});return C(re,B),re}function yr(I,Z){if(Z=k.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var B=this.config();I.name=I.name||B.name,I.storeName=I.storeName||B.storeName}var ee=this,re;return I.name?re=new w(function(K){I.storeName?K(it(I,ee._defaultConfig)):K(I.name+"/")}).then(function(K){for(var ge=localStorage.length-1;ge>=0;ge--){var Se=localStorage.key(ge);Se.indexOf(K)===0&&localStorage.removeItem(Se)}}):re=w.reject("Invalid arguments"),C(re,Z),re}var pr={_driver:"localStorageWrapper",_initStorage:ut,_support:Fe(),iterate:Gt,getItem:gt,setItem:qt,removeItem:ur,clear:Dt,length:Lt,key:Yt,keys:Rr,dropInstance:yr},Wn=function(Z,B){return Z===B||typeof Z=="number"&&typeof B=="number"&&isNaN(Z)&&isNaN(B)},to=function(Z,B){for(var ee=Z.length,re=0;re<ee;){if(Wn(Z[re],B))return!0;re++}return!1},ks=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},Tt={},As={},Kr={INDEXEDDB:et,WEBSQL:Ne,LOCALSTORAGE:pr},Ts=[Kr.INDEXEDDB._driver,Kr.WEBSQL._driver,Kr.LOCALSTORAGE._driver],an=["dropInstance"],Mi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(an),Ns={description:"",driver:Ts.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ii(I,Z){I[Z]=function(){var B=arguments;return I.ready().then(function(){return I[Z].apply(I,B)})}}function wr(){for(var I=1;I<arguments.length;I++){var Z=arguments[I];if(Z)for(var B in Z)Z.hasOwnProperty(B)&&(ks(Z[B])?arguments[0][B]=Z[B].slice():arguments[0][B]=Z[B])}return arguments[0]}var ro=(function(){function I(Z){u(this,I);for(var B in Kr)if(Kr.hasOwnProperty(B)){var ee=Kr[B],re=ee._driver;this[B]=re,Tt[re]||this.defineDriver(ee)}this._defaultConfig=wr({},Ns),this._config=wr({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(B){if((typeof B>"u"?"undefined":o(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ee in B){if(ee==="storeName"&&(B[ee]=B[ee].replace(/\W/g,"_")),ee==="version"&&typeof B[ee]!="number")return new Error("Database version must be a number.");this._config[ee]=B[ee]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},I.prototype.defineDriver=function(B,ee,re){var K=new w(function(ge,Se){try{var Ae=B._driver,ke=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){Se(ke);return}for(var Oe=Mi.concat("_initStorage"),Ye=0,dt=Oe.length;Ye<dt;Ye++){var St=Oe[Ye],_t=!to(an,St);if((_t||B[St])&&typeof B[St]!="function"){Se(ke);return}}var at=function(){for(var on=function(oi){return function(){var Qr=new Error("Method "+oi+" is not implemented by the current driver"),Mr=w.reject(Qr);return C(Mr,arguments[arguments.length-1]),Mr}},si=0,Rs=an.length;si<Rs;si++){var ai=an[si];B[ai]||(B[ai]=on(ai))}};at();var zt=function(on){Tt[Ae]&&console.info("Redefining LocalForage driver: "+Ae),Tt[Ae]=B,As[Ae]=on,ge()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(zt,Se):zt(!!B._support):zt(!0)}catch(mr){Se(mr)}});return S(K,ee,re),K},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(B,ee,re){var K=Tt[B]?w.resolve(Tt[B]):w.reject(new Error("Driver not found."));return S(K,ee,re),K},I.prototype.getSerializer=function(B){var ee=w.resolve(ue);return S(ee,B),ee},I.prototype.ready=function(B){var ee=this,re=ee._driverSet.then(function(){return ee._ready===null&&(ee._ready=ee._initDriver()),ee._ready});return S(re,B,B),re},I.prototype.setDriver=function(B,ee,re){var K=this;ks(B)||(B=[B]);var ge=this._getSupportedDrivers(B);function Se(){K._config.driver=K.driver()}function Ae(Ye){return K._extend(Ye),Se(),K._ready=K._initStorage(K._config),K._ready}function ke(Ye){return function(){var dt=0;function St(){for(;dt<Ye.length;){var _t=Ye[dt];return dt++,K._dbInfo=null,K._ready=null,K.getDriver(_t).then(Ae).catch(St)}Se();var at=new Error("No available storage method found.");return K._driverSet=w.reject(at),K._driverSet}return St()}}var Oe=this._driverSet!==null?this._driverSet.catch(function(){return w.resolve()}):w.resolve();return this._driverSet=Oe.then(function(){var Ye=ge[0];return K._dbInfo=null,K._ready=null,K.getDriver(Ye).then(function(dt){K._driver=dt._driver,Se(),K._wrapLibraryMethodsWithReady(),K._initDriver=ke(ge)})}).catch(function(){Se();var Ye=new Error("No available storage method found.");return K._driverSet=w.reject(Ye),K._driverSet}),S(this._driverSet,ee,re),this._driverSet},I.prototype.supports=function(B){return!!As[B]},I.prototype._extend=function(B){wr(this,B)},I.prototype._getSupportedDrivers=function(B){for(var ee=[],re=0,K=B.length;re<K;re++){var ge=B[re];this.supports(ge)&&ee.push(ge)}return ee},I.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,ee=Mi.length;B<ee;B++)ii(this,Mi[B])},I.prototype.createInstance=function(B){return new I(B)},I})(),Dr=new ro;i.exports=Dr},{3:3}]},{},[4])(4)})})(Au)),Au.exports}var my=py();const Wd=Mn(my);class Lp{constructor(t,n,i){this.urlCache={},this.storage=void 0,this.name=t,this.requester=n||Ds,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let t;typeof Wd>"u"&&(t=Wd),this.storage=t.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(t){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(t,n){let i=t.resources.map(a=>{let{href:o}=a,u=this.resolver(o),c=window.encodeURIComponent(u);return this.storage.getItem(c).then(f=>!f||n?this.requester(u,"binary").then(v=>this.storage.setItem(c,v)):f)});return Promise.all(i)}put(t,n,i){let a=window.encodeURIComponent(t);return this.storage.getItem(a).then(o=>o||this.requester(t,"binary",n,i).then(u=>this.storage.setItem(a,u)))}request(t,n,i,a){return this.online?this.requester(t,n,i,a).then(o=>(this.put(t),o)):this.retrieve(t,n)}retrieve(t,n){new wt;var i,a=new yn(t);return n||(n=a.extension),n=="blob"?i=this.getBlob(t):i=this.getText(t),i.then(o=>{var u=new wt,c;return o?(c=this.handleResponse(o,n),u.resolve(c)):u.reject({message:"File not found in storage: "+t,stack:new Error().stack}),u.promise})}handleResponse(t,n){var i;return n=="json"?i=JSON.parse(t):Cs(n)?i=nn(t,"text/xml"):n=="xhtml"?i=nn(t,"application/xhtml+xml"):n=="html"||n=="htm"?i=nn(t,"text/html"):i=t,i}getBlob(t,n){let i=window.encodeURIComponent(t);return this.storage.getItem(i).then(function(a){if(a)return n=n||Fi.lookup(t),new Blob([a],{type:n})})}getText(t,n){let i=window.encodeURIComponent(t);return n=n||Fi.lookup(t),this.storage.getItem(i).then(function(a){var o=new wt,u=new FileReader,c;if(a)return c=new Blob([a],{type:n}),u.addEventListener("loadend",()=>{o.resolve(u.result)}),u.readAsText(c,n),o.promise})}getBase64(t,n){let i=window.encodeURIComponent(t);return n=n||Fi.lookup(t),this.storage.getItem(i).then(a=>{var o=new wt,u=new FileReader,c;if(a)return c=new Blob([a],{type:n}),u.addEventListener("loadend",()=>{o.resolve(u.result)}),u.readAsDataURL(c,n),o.promise})}createUrl(t,n){var i=new wt,a=window.URL||window.webkitURL||window.mozURL,o,u,c=n&&n.base64;return t in this.urlCache?(i.resolve(this.urlCache[t]),i.promise):(c?(u=this.getBase64(t),u&&u.then((function(f){this.urlCache[t]=f,i.resolve(f)}).bind(this))):(u=this.getBlob(t),u&&u.then((function(f){o=a.createObjectURL(f),this.urlCache[t]=o,i.resolve(o)}).bind(this))),u||i.reject({message:"File not found in storage: "+t,stack:new Error().stack}),i.promise)}revokeUrl(t){var n=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[t];i&&n.revokeObjectURL(i)}destroy(){var t=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)t.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}sn(Lp.prototype);class Tu{constructor(t){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",t&&this.parse(t)}parse(t){if(!t)return this;const n=Nt(t,"display_options");return n?(gn(n,"option").forEach(a=>{let o="";switch(a.childNodes.length&&(o=a.childNodes[0].nodeValue),a.attributes.name.value){case"interactive":this.interactive=o;break;case"fixed-layout":this.fixedLayout=o;break;case"open-to-spread":this.openToSpread=o;break;case"orientation-lock":this.orientationLock=o;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const qd="META-INF/container.xml",vy="META-INF/com.apple.ibooks.display-options.xml",Zr={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class tc{constructor(t,n){typeof n>"u"&&typeof t!="string"&&!(t instanceof Blob)&&!(t instanceof ArrayBuffer)&&(n=t,t=void 0),this.settings=lr(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),lr(this.settings,n),this.opening=new wt,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new wt,spine:new wt,metadata:new wt,cover:new wt,navigation:new wt,pageList:new wt,resources:new wt,displayOptions:new wt},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Ds,this.spine=new N0,this.locations=new Dp(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),t&&this.open(t,this.settings.openAs).catch(i=>{var a=new Error("Cannot load book at "+t);this.emit(Me.BOOK.OPEN_FAILED,a)})}open(t,n){var i,a=n||this.determineType(t);return a===Zr.BINARY?(this.archived=!0,this.url=new Xr("/",""),i=this.openEpub(t)):a===Zr.BASE64?(this.archived=!0,this.url=new Xr("/",""),i=this.openEpub(t,a)):a===Zr.EPUB?(this.archived=!0,this.url=new Xr("/",""),i=this.request(t,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):a==Zr.OPF?(this.url=new Xr(t),i=this.openPackaging(this.url.Path.toString())):a==Zr.MANIFEST?(this.url=new Xr(t),i=this.openManifest(this.url.Path.toString())):(this.url=new Xr(t),i=this.openContainer(qd).then(this.openPackaging.bind(this))),i}openEpub(t,n){return this.unarchive(t,n||this.settings.encoding).then(()=>this.openContainer(qd)).then(i=>this.openPackaging(i))}openContainer(t){return this.load(t).then(n=>(this.container=new R0(n),this.resolve(this.container.packagePath)))}openPackaging(t){return this.path=new yn(t),this.load(t).then(n=>(this.packaging=new xd(n),this.unpack(this.packaging)))}openManifest(t){return this.path=new yn(t),this.load(t).then(n=>(this.packaging=new xd,this.packaging.load(n),this.unpack(this.packaging)))}load(t){var n=this.resolve(t);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(t,n){if(t){var i=t,a=t.indexOf("://")>-1;return a?t:(this.path&&(i=this.path.resolve(t)),n!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(t){var n=t;return t?(this.settings.canonical?n=this.settings.canonical(t):n=this.resolve(t,!0),n):""}determineType(t){var n,i,a;if(this.settings.encoding==="base64")return Zr.BASE64;if(typeof t!="string")return Zr.BINARY;if(n=new Xr(t),i=n.path(),a=i.extension,a&&(a=a.replace(/\?.*$/,"")),!a)return Zr.DIRECTORY;if(a==="epub")return Zr.EPUB;if(a==="opf")return Zr.OPF;if(a==="json")return Zr.MANIFEST}unpack(t){this.package=t,this.packaging.metadata.layout===""?this.load(this.url.resolve(vy)).then(n=>{this.displayOptions=new Tu(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new Tu,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Tu,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new P0(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(t){let n=t.navPath||t.ncxPath,i=t.toc;return i?new Promise((a,o)=>{this.navigation=new cu(i),t.pageList&&(this.pageList=new fu(t.pageList)),a(this.navigation)}):n?this.load(n,"xml").then(a=>(this.navigation=new cu(a),this.pageList=new fu(a),this.navigation)):new Promise((a,o)=>{this.navigation=new cu,this.pageList=new fu,a(this.navigation)})}section(t){return this.spine.get(t)}renderTo(t,n){return this.rendition=new ec(this,n),this.rendition.attachTo(t),this.rendition}setRequestCredentials(t){this.settings.requestCredentials=t}setRequestHeaders(t){this.settings.requestHeaders=t}unarchive(t,n){return this.archive=new dy,this.archive.open(t,n)}store(t){let n=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,a=this.settings.requestMethod||Ds.bind(this);return this.storage=new Lp(t,a,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let o=(u,c)=>{c.output=this.resources.substitute(u,c.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Xr("/",""),this.spine.hooks.serialize.register(o)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(o)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((t,n)=>{n.output=this.resources.substitute(t,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(t){var n=new xt(t),i=this.spine.get(n.spinePos),a=this.load.bind(this);return i?i.load(a).then(function(o){var u=n.toRange(i.document);return u}):new Promise((o,u)=>{u("CFI could not be found")})}key(t){var n=t||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${eo}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}sn(tc.prototype);function Un(h,t){return new tc(h,t)}Un.VERSION=eo;typeof global<"u"&&(global.EPUBJS_VERSION=eo);Un.Book=tc;Un.Rendition=ec;Un.Contents=Qu;Un.CFI=xt;Un.utils=E0;async function Vd(h){const t=Un(h);await t.ready;const n=await t.loaded.metadata;let i=null;try{const a=await t.coverUrl();if(a){const u=await(await fetch(a)).blob();i=await gy(u)}}catch(a){console.warn("Could not extract cover:",a)}return t.destroy(),{title:n.title||"Untitled",author:n.creator||"Unknown Author",cover:i}}function gy(h){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=n,i.readAsDataURL(h)})}function Hd(){return Date.now().toString(36)+Math.random().toString(36).substring(2,9)}function yy(){const{settings:h,updateSetting:t}=Gu(),[n,i]=de.useState([]),[a,o]=de.useState(!0),[u,c]=de.useState(!1),[f,v]=de.useState(!1),[x,w]=de.useState(!1),C=de.useRef(null),[S,j]=de.useState(""),[k,g]=de.useState(null),[E,_]=de.useState(!1),[R,M]=de.useState(""),[D,L]=de.useState(1),[F,U]=de.useState(null),[z,q]=de.useState(null),[ae,$]=de.useState(""),oe=de.useRef(null),xe=de.useCallback(async()=>{try{const ce=await Bg();i(ce)}catch(ce){console.error("Failed to load books:",ce)}finally{o(!1)}},[]);de.useEffect(()=>{xe()},[xe]);const we=async(ce=1)=>{const ze=S.trim();if(ze){_(!0),M(""),L(ce);try{const Ve=await(await fetch(`/api/search?q=${encodeURIComponent(ze)}&page=${ce}`)).json();Ve.error?(M(Ve.error),g(null)):(g(Ve.results||[]),U(Ve.pagination||null))}catch{M("Search failed. Please try again."),g(null)}finally{_(!1)}}},Te=ce=>{ce.key==="Enter"&&we(1)},ve=()=>{j(""),g(null),M(""),U(null),L(1)},te=async ce=>{const ze=ce.detailUrl;if(!z){q(ze),$("Fetching book info...");try{const Ve=await(await fetch(`/api/book-info?url=${encodeURIComponent(ce.detailUrl)}`)).json();if(Ve.error)throw new Error(Ve.error);const et=Ve.downloads.find(st=>st.format==="epub")||Ve.downloads[0];if(!et)throw new Error("No download link found for this book");$("Downloading EPUB...");const ot=await fetch("/api/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:et.action,id:et.id,filename:et.filename})});if((ot.headers.get("content-type")||"").includes("application/json")){const st=await ot.json();throw new Error(st.error||"Download failed")}if(!ot.ok)throw new Error(`Download failed with status ${ot.status}`);$("Importing to library...");const pt=await ot.arrayBuffer(),ht=await Vd(pt),bt={id:Hd(),title:ht.title||ce.title,author:ht.author||ce.author,cover:ht.cover||ce.cover,fileName:et.filename,fileSize:pt.byteLength,data:pt,addedAt:Date.now(),lastReadAt:Date.now(),progress:0};await qh(bt),await xe(),$(" Added to library!"),setTimeout(()=>{q(null),$("")},2e3)}catch(qe){console.error("Download failed:",qe),$(` ${qe.message}`),setTimeout(()=>{q(null),$("")},3e3)}}},pe=async ce=>{if(ce!=null&&ce.length){c(!0);for(const ze of ce)if(ze.name.endsWith(".epub"))try{const qe=await ze.arrayBuffer(),Ve=await Vd(qe),ft={id:Hd(),title:Ve.title,author:Ve.author,cover:Ve.cover,fileName:ze.name,fileSize:ze.size,data:qe,addedAt:Date.now(),lastReadAt:Date.now(),progress:0};await qh(ft)}catch(qe){console.error("Failed to add book:",ze.name,qe)}await xe(),c(!1)}},me=()=>{var ce;(ce=C.current)==null||ce.click()},W=ce=>{pe(ce.target.files),ce.target.value=""},ne=ce=>{ce.preventDefault(),v(!1),pe(ce.dataTransfer.files)},Le=ce=>{ce.preventDefault(),v(!0)},Ce=()=>{v(!1)},Be=ce=>{i(ze=>ze.filter(qe=>qe.id!==ce))},We=[...n].sort((ce,ze)=>{const qe=h.librarySortBy;return qe==="title"?(ce.title||"").localeCompare(ze.title||""):qe==="author"?(ce.author||"").localeCompare(ze.author||""):(ze[qe]||0)-(ce[qe]||0)}),Ge=k!==null||E||R;return O.jsxs("div",{className:`library-page page ${f?"drag-over":""}`,onDrop:ne,onDragOver:Le,onDragLeave:Ce,children:[O.jsx(Vg,{viewMode:h.libraryView,onToggleView:()=>t("libraryView",h.libraryView==="grid"?"list":"grid"),sortBy:h.librarySortBy,onSortChange:ce=>t("librarySortBy",ce),bookCount:n.length,onUpload:me,onShowSettings:()=>w(!0)}),O.jsx("div",{className:"search-section",children:O.jsxs("div",{className:"search-bar glass",children:[O.jsxs("svg",{className:"search-bar-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("circle",{cx:"11",cy:"11",r:"8"}),O.jsx("path",{d:"M21 21l-4.35-4.35"})]}),O.jsx("input",{ref:oe,type:"text",className:"search-input",placeholder:"Search books on OceanOfPDF...",value:S,onChange:ce=>j(ce.target.value),onKeyDown:Te}),S&&O.jsx("button",{className:"search-clear-btn",onClick:ve,title:"Clear search",children:""}),O.jsx("button",{className:"search-btn btn-primary",onClick:()=>we(1),disabled:E||!S.trim(),children:E?O.jsx("div",{className:"search-spinner"}):"Search"})]})}),O.jsx("input",{ref:C,type:"file",accept:".epub",multiple:!0,style:{display:"none"},onChange:W}),O.jsxs("main",{className:"library-content",children:[Ge&&O.jsxs("div",{className:"search-results-section animate-fade-in",children:[O.jsxs("div",{className:"search-results-header",children:[O.jsx("h2",{className:"search-results-title",children:E?"Searching...":R?"Error":"Search Results"}),k&&!E&&O.jsxs("span",{className:"search-results-count",children:[k.length," results found"]})]}),R&&O.jsxs("div",{className:"search-error animate-fade-in",children:[O.jsx("span",{className:"search-error-icon",children:""}),O.jsx("p",{children:R})]}),E&&O.jsxs("div",{className:"search-loading",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Searching OceanOfPDF..."})]}),k&&k.length===0&&!E&&O.jsx("div",{className:"search-no-results animate-fade-in",children:O.jsx("p",{children:"No books found. Try a different search term."})}),k&&k.length>0&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"search-results-grid stagger-children",children:k.map((ce,ze)=>O.jsxs("div",{className:"search-result-card glass",children:[O.jsx("div",{className:"search-result-cover",children:ce.cover?O.jsx("img",{src:ce.cover,alt:ce.title,loading:"lazy",onError:qe=>{qe.target.style.display="none"}}):O.jsx("div",{className:"search-result-no-cover",children:O.jsx("span",{children:""})})}),O.jsxs("div",{className:"search-result-info",children:[O.jsx("h3",{className:"search-result-title",children:ce.title}),O.jsx("p",{className:"search-result-author",children:ce.author}),ce.genre&&O.jsx("p",{className:"search-result-genre",children:ce.genre}),O.jsx("button",{className:`search-download-btn ${z===ce.detailUrl?"downloading":""}`,onClick:()=>te(ce),disabled:!!z,children:z===ce.detailUrl?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"search-spinner small"}),O.jsx("span",{children:ae})]}):O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"download-icon",children:""}),O.jsx("span",{children:"Get EPUB"})]})})]})]},ce.detailUrl+ze))}),F&&F.totalPages>1&&O.jsxs("div",{className:"search-pagination",children:[D>1&&O.jsx("button",{className:"pagination-btn",onClick:()=>we(D-1),children:" Prev"}),O.jsxs("span",{className:"pagination-info",children:["Page ",D," of ",F.totalPages]}),F.hasNext&&O.jsx("button",{className:"pagination-btn",onClick:()=>we(D+1),children:"Next "})]})]}),n.length>0&&O.jsx("div",{className:"search-library-divider",children:O.jsx("span",{children:"Your Library"})})]}),a?O.jsxs("div",{className:"library-loading",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Loading your library..."})]}):n.length===0&&!Ge?O.jsxs("div",{className:"library-empty animate-fade-in-up",children:[O.jsx("div",{className:"empty-illustration",children:O.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",children:[O.jsx("rect",{x:"20",y:"15",width:"35",height:"50",rx:"4",fill:"var(--surface)",stroke:"var(--border)",strokeWidth:"1.5"}),O.jsx("rect",{x:"25",y:"22",width:"18",height:"2",rx:"1",fill:"var(--accent)",opacity:"0.4"}),O.jsx("rect",{x:"25",y:"27",width:"22",height:"2",rx:"1",fill:"var(--text-secondary)",opacity:"0.3"}),O.jsx("rect",{x:"25",y:"32",width:"15",height:"2",rx:"1",fill:"var(--text-secondary)",opacity:"0.3"}),O.jsx("rect",{x:"65",y:"25",width:"35",height:"50",rx:"4",fill:"var(--surface)",stroke:"var(--border)",strokeWidth:"1.5"}),O.jsx("rect",{x:"70",y:"32",width:"18",height:"2",rx:"1",fill:"var(--accent)",opacity:"0.4"}),O.jsx("rect",{x:"70",y:"37",width:"22",height:"2",rx:"1",fill:"var(--text-secondary)",opacity:"0.3"}),O.jsx("rect",{x:"70",y:"42",width:"15",height:"2",rx:"1",fill:"var(--text-secondary)",opacity:"0.3"}),O.jsx("circle",{cx:"60",cy:"90",r:"16",fill:"var(--accent)",opacity:"0.1"}),O.jsx("text",{x:"60",y:"95",textAnchor:"middle",fill:"var(--accent)",fontSize:"20",fontWeight:"300",children:"+"})]})}),O.jsx("h2",{className:"empty-title",children:"Your library is empty"}),O.jsxs("p",{className:"empty-desc",children:["Search for books above or upload your EPUB files.",O.jsx("br",{}),"Drag & drop files here or tap the button below."]}),O.jsxs("button",{className:"btn btn-primary",onClick:me,children:[O.jsx("span",{children:"+"})," Add Your First Book"]})]}):O.jsx("div",{className:`library-grid ${h.libraryView==="list"?"library-list":""} stagger-children`,children:We.map(ce=>O.jsx(Hg,{book:ce,viewMode:h.libraryView,onDelete:Be},ce.id))})]}),u&&O.jsx("div",{className:"upload-overlay",children:O.jsxs("div",{className:"upload-modal glass-strong animate-scale-in",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Importing books..."})]})}),f&&O.jsx("div",{className:"drag-overlay animate-fade-in",children:O.jsxs("div",{className:"drag-content",children:[O.jsx("div",{className:"drag-icon",children:""}),O.jsx("p",{children:"Drop EPUB files here"})]})}),x&&O.jsx(cp,{onClose:()=>w(!1)})]})}function wy({visible:h,bookTitle:t,chapterTitle:n,progress:i,currentPage:a,totalPages:o,onBack:u,onToggleToc:c,onToggleSettings:f,onPrev:v,onNext:x,isPaginated:w}){return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:`reader-top-bar glass ${h?"visible":""}`,children:[O.jsx("button",{className:"btn-icon reader-btn",onClick:u,title:"Back to Library",children:""}),O.jsxs("div",{className:"reader-top-info",children:[O.jsx("span",{className:"reader-book-title",children:t}),n&&O.jsx("span",{className:"reader-chapter",children:n})]}),O.jsxs("div",{className:"reader-top-actions",children:[O.jsx("button",{className:"btn-icon reader-btn",onClick:c,title:"Table of Contents",children:""}),O.jsx("button",{className:"btn-icon reader-btn",onClick:f,title:"Settings",children:""})]})]}),O.jsxs("div",{className:`reader-bottom-bar glass ${h?"visible":""}`,children:[O.jsx("button",{className:"reader-nav-btn",onClick:v,title:"Previous",children:""}),O.jsxs("div",{className:"reader-progress-section",children:[O.jsx("div",{className:"reader-progress-bar",children:O.jsx("div",{className:"reader-progress-fill",style:{width:`${i}%`}})}),O.jsxs("div",{className:"reader-progress-info",children:[O.jsxs("span",{children:[i,"%"]}),o>0&&O.jsxs("span",{className:"reader-page-info",children:[a," / ",o]})]})]}),O.jsx("button",{className:"reader-nav-btn",onClick:x,title:"Next",children:""})]})]})}function xy({toc:h,currentHref:t,onSelect:n,onClose:i}){const a=(o,u=0)=>o.map((c,f)=>{var v;return O.jsxs("div",{children:[O.jsxs("button",{className:`toc-item ${u>0?"toc-sub":""} ${t===c.href?"active":""}`,style:{paddingLeft:20+u*20+"px"},onClick:()=>n(c.href),children:[O.jsx("span",{className:"toc-label",children:(v=c.label)==null?void 0:v.trim()}),u===0&&O.jsx("span",{className:"toc-arrow",children:""})]}),c.subitems&&c.subitems.length>0&&a(c.subitems,u+1)]},c.id||f)});return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"overlay",onClick:i}),O.jsxs("div",{className:"toc-panel glass-strong",children:[O.jsxs("div",{className:"toc-header",children:[O.jsx("h2",{className:"toc-title",children:"Contents"}),O.jsx("button",{className:"btn-icon",onClick:i,children:""})]}),O.jsx("div",{className:"toc-body stagger-children",children:h.length>0?a(h):O.jsx("p",{className:"toc-empty",children:"No table of contents available."})})]})]})}function _y({word:h,translation:t,loading:n,position:i,onClose:a}){return h?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"dict-backdrop",onClick:a}),O.jsxs("div",{className:"dict-popup glass-strong animate-fade-in-up",style:{top:Math.min(i.y+10,window.innerHeight-200)+"px",left:Math.max(16,Math.min(i.x-100,window.innerWidth-216))+"px"},children:[O.jsxs("div",{className:"dict-header",children:[O.jsx("span",{className:"dict-word",children:h}),O.jsx("button",{className:"dict-close",onClick:a,children:""})]}),O.jsx("div",{className:"dict-body",children:n?O.jsxs("div",{className:"dict-loading",children:[O.jsx("div",{className:"spinner-small"}),O.jsx("span",{children:"Translating..."})]}):t?O.jsx("div",{className:"dict-translation",children:t}):O.jsx("div",{className:"dict-error",children:"Translation not found"})})]})]}):null}function Ey(){const{bookId:h}=tg(),t=rp(),{settings:n}=Gu(),i=de.useRef(null),a=de.useRef(null),o=de.useRef(null),[u,c]=de.useState(null),[f,v]=de.useState(!0),[x,w]=de.useState(null),[C,S]=de.useState(0),[j,k]=de.useState(""),[g,E]=de.useState([]),[_,R]=de.useState(!0),[M,D]=de.useState(!1),[L,F]=de.useState(!1),[U,z]=de.useState(0),[q,ae]=de.useState(0),[$,oe]=de.useState(null),[xe,we]=de.useState(null),[Te,ve]=de.useState(!1),[te,pe]=de.useState({x:0,y:0}),me=de.useRef(null),W=de.useRef(null),ne=de.useRef(!0),Le=de.useRef(!1),Ce=de.useRef(!1),Be=de.useRef(n);de.useEffect(()=>{ne.current=_},[_]),de.useEffect(()=>{Le.current=M},[M]),de.useEffect(()=>{Ce.current=L},[L]),de.useEffect(()=>{Be.current=n},[n]);const We=de.useCallback(()=>{W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{!Le.current&&!Ce.current&&R(!1)},3500)},[]),Ge=de.useCallback(()=>{R(!0),We()},[We]),ce=de.useCallback(()=>{if(Le.current||Ce.current){D(!1),F(!1),R(!0),We();return}ne.current?R(!1):Ge()},[We,Ge]);function ze(Ie){var Pe,Xe;Ie.key==="ArrowRight"||Ie.key==="ArrowDown"?(Pe=o.current)==null||Pe.next():(Ie.key==="ArrowLeft"||Ie.key==="ArrowUp")&&((Xe=o.current)==null||Xe.prev())}const qe=de.useCallback(async(Ie,Pe,Xe)=>{var N,ue;oe(Ie),we(null),ve(!0),pe({x:Pe,y:Xe});try{const _e=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=it&dt=t&q=${encodeURIComponent(Ie)}`)).json(),Y=(ue=(N=_e==null?void 0:_e[0])==null?void 0:N[0])==null?void 0:ue[0];Y&&Y.toLowerCase()!==Ie.toLowerCase()?we(Y):we(null)}catch{we(null)}finally{ve(!1)}},[]),Ve=de.useCallback(()=>{oe(null),we(null)},[]),ft=de.useCallback(Ie=>{Ie.on("keyup",ze),Ie.hooks.content.register(Pe=>{try{const Xe=Pe.document;if(!Xe)return;const N=Xe.createTreeWalker(Xe.body,NodeFilter.SHOW_TEXT,null,!1);let ue;for(;ue=N.nextNode();)ue.nodeValue&&(ue.nodeValue.includes("")||ue.nodeValue.includes("&nbsp;"))&&(ue.nodeValue=ue.nodeValue.replace(/\.\u00a0/g,". ").replace(/\u00a0/g," ").replace(/\.&nbsp;/g,". ").replace(/&nbsp;/g," "));const ye=Xe.createElement("style");ye.textContent=`
                    * { -webkit-touch-callout: none !important; }
                `,Xe.head.appendChild(ye)}catch{}})},[ce]),et=de.useCallback((Ie,Pe)=>Xe=>{var Y,fe,p;if(Pe())return;const N=Xe.start.cfi;w(N);const ue=Ie.locations.percentageFromCfi(N),ye=Math.round(ue*100);S(ye),ae(Ie.locations.locationFromCfi(N)||0),zg(h,N,ye),lp(h,{progress:ye,lastReadAt:Date.now()});const _e=(fe=(Y=Ie.navigation)==null?void 0:Y.toc)==null?void 0:fe.find(b=>{var d;const P=b.href.split("#")[0];return(d=Xe.start.href)==null?void 0:d.includes(P)});_e&&k(((p=_e.label)==null?void 0:p.trim())||"")},[h]);function ot(Ie){return{width:"100%",height:"100%",flow:Ie!=="scroll"?"paginated":"scrolled",spread:"none",minSpreadWidth:99999,manager:"default"}}de.useEffect(()=>{let Ie=!1;const Pe=()=>Ie;return(async()=>{try{const Xe=await Pg(h);if(!Xe||Ie)return;c(Xe);const N=Un(Xe.data);a.current=N,await N.ready;const ue=N.renderTo(i.current,ot(n.readingMode));o.current=ue,yt(ue,n);const ye=await N.loaded.navigation;E(ye.toc||[]);const _e=await jg(h);_e!=null&&_e.cfi?await ue.display(_e.cfi):await ue.display(),await N.locations.generate(1024),z(N.locations.length()),ue.on("relocated",et(N,Pe)),ft(ue),v(!1),Ge()}catch(Xe){console.error("Failed to load book:",Xe),v(!1)}})(),()=>{if(Ie=!0,o.current)try{o.current.destroy()}catch{}if(a.current)try{a.current.destroy()}catch{}W.current&&clearTimeout(W.current)}},[h]),de.useEffect(()=>{o.current&&yt(o.current,n)},[n.font,n.fontSize,n.lineHeight,n.paragraphSpacing,n.margins,n.maxWidth,n.textAlign,n.theme,n.customTheme]),de.useEffect(()=>{if(!a.current||!i.current||f)return;const Ie=a.current,Pe=x;let Xe=!1;if(o.current)try{o.current.destroy()}catch{}i.current&&(i.current.innerHTML="");const N=Ie.renderTo(i.current,ot(n.readingMode));return o.current=N,yt(N,n),N.on("relocated",et(Ie,()=>Xe)),ft(N),Pe?N.display(Pe):N.display(),()=>{Xe=!0}},[n.readingMode]);function yt(Ie,Pe){const N=[...za,...Pe.customFonts||[]].find(Y=>Y.id===Pe.font)||za[0],ue=ja(Pe.theme,Pe.customTheme),ye=Pe.readingMode!=="scroll",_e={"font-family":N.family+" !important","font-size":Pe.fontSize+"px !important","line-height":Pe.lineHeight+" !important",color:ue.readerText+" !important",background:"transparent !important","text-align":Pe.textAlign+" !important"};ye||(_e.padding=Pe.margins+"px !important",_e["max-width"]=Pe.maxWidth+"px !important",_e.margin="0 auto !important"),Ie.themes.default({body:_e,p:{"margin-bottom":Pe.paragraphSpacing+"px !important","font-family":"inherit !important","font-size":"inherit !important","line-height":"inherit !important"},a:{color:ue.accent+" !important"},"h1, h2, h3, h4, h5, h6":{color:ue.readerText+" !important","font-family":N.family+" !important"},img:{"max-width":"100% !important",height:"auto !important"}})}const pt=Ie=>{var Pe;(Pe=o.current)==null||Pe.display(Ie),F(!1),R(!0),We()},ht=()=>t("/"),bt=n.readingMode!=="scroll",st=de.useRef(null),lt=de.useRef({velocity:0,lastTime:0,lastY:0,animationFrame:null}),Qe=de.useCallback(()=>{const Ie=i.current;return Ie?Ie.querySelector(".epub-container")||Ie:null},[]),nt=de.useCallback(()=>{lt.current.animationFrame&&(cancelAnimationFrame(lt.current.animationFrame),lt.current.animationFrame=null),lt.current.velocity=0},[]),Je=de.useCallback(()=>{const Ie=Qe();if(!Ie||Math.abs(lt.current.velocity)<.5)return;const Pe=.95,Xe=()=>{if(Math.abs(lt.current.velocity)<.5){lt.current.animationFrame=null;return}Ie.scrollTop-=lt.current.velocity,lt.current.velocity*=Pe,lt.current.animationFrame=requestAnimationFrame(Xe)};lt.current.animationFrame=requestAnimationFrame(Xe)},[Qe]),kt=de.useCallback((Ie,Pe)=>{var Xe,N,ue,ye,_e;try{const Y=((Xe=i.current)==null?void 0:Xe.querySelector("iframe"))||((ye=(ue=(N=o.current)==null?void 0:N.manager)==null?void 0:ue.container)==null?void 0:ye.querySelector("iframe"));if(!Y)return null;const fe=Y.getBoundingClientRect(),p=Ie-fe.left,b=Pe-fe.top;let P;try{P=Y.contentDocument||((_e=Y.contentWindow)==null?void 0:_e.document)}catch{return null}if(!P||!P.body)return null;let d;if(typeof P.caretRangeFromPoint=="function")d=P.caretRangeFromPoint(p,b);else if(typeof P.caretPositionFromPoint=="function"){const V=P.caretPositionFromPoint(p,b);V&&(d=P.createRange(),d.setStart(V.offsetNode,V.offset),d.collapse(!0))}if(d&&d.startContainer&&d.startContainer.nodeType===Node.TEXT_NODE){const V=d.startContainer.textContent,Q=d.startOffset;let A=Q,G=Q;if(Be.current.dictionaryMode==="sentence"){for(;A>0&&!/[.!?\n]/.test(V[A-1]);)A--;for(;G<V.length&&!/[.!?\n]/.test(V[G]);)G++;const ie=V.substring(A,G).trim();if(ie.length>=2)return ie}else{for(;A>0&&/[a-zA-Z']/.test(V[A-1]);)A--;for(;G<V.length&&/[a-zA-Z']/.test(V[G]);)G++;const ie=V.substring(A,G).replace(/'/g,"").trim();if(ie.length>=2)return ie}}}catch{}return null},[]),rr=de.useCallback(Ie=>{if(nt(),Ve(),Ie.touches.length===1){const Pe=Ie.touches[0];st.current={startX:Pe.clientX,startY:Pe.clientY,lastY:Pe.clientY,time:Date.now(),moved:!1,pullOffset:0,longPressTriggered:!1},lt.current.lastY=Pe.clientY,lt.current.lastTime=Date.now(),lt.current.velocity=0,i.current&&(i.current.style.transition="none");const Xe=Pe.clientX,N=Pe.clientY;me.current=setTimeout(()=>{st.current&&(st.current.longPressTriggered=!0);const ue=kt(Xe,N);ue&&qe(ue,Xe,N)},500)}},[nt,Ve,kt,qe]),Xt=de.useCallback(Ie=>{if(!st.current)return;const Pe=Ie.touches[0],Xe=Date.now(),N=Pe.clientY-st.current.lastY,ue=Xe-lt.current.lastTime;st.current.lastY=Pe.clientY;const ye=Math.abs(Pe.clientX-st.current.startX),_e=Math.abs(Pe.clientY-st.current.startY);if((ye>10||_e>10)&&(st.current.moved=!0,me.current&&(clearTimeout(me.current),me.current=null)),ue>0&&(lt.current.velocity=(Pe.clientY-lt.current.lastY)/(ue/16),lt.current.lastY=Pe.clientY,lt.current.lastTime=Xe),Be.current.readingMode==="scroll"&&st.current.moved){Ie.preventDefault();const Y=Qe();if(Y){const fe=Y.scrollTop<=0,p=Y.scrollTop+Y.clientHeight>=Y.scrollHeight-1;if(fe&&N>0||p&&N<0||st.current.pullOffset!==0){st.current.pullOffset+=N*.4;const P=Math.max(-120,Math.min(120,st.current.pullOffset));i.current.style.transform=`translateY(${P}px)`}else Y.scrollTop-=N}}},[Qe]),Rt=de.useCallback(Ie=>{var Q,A,G,ie;if(me.current&&(clearTimeout(me.current),me.current=null),!st.current)return;const Pe=Ie.changedTouches[0],Xe=Math.abs(Pe.clientX-st.current.startX),N=Math.abs(Pe.clientY-st.current.startY),ue=Date.now()-st.current.time,ye=st.current.moved,_e=st.current.pullOffset,Y=st.current.longPressTriggered;if(st.current=null,i.current&&(i.current.style.transition="transform 0.3s cubic-bezier(0.2, 0, 0, 1)",i.current.style.transform="translateY(0)"),Y)return;if(Math.abs(_e)>60){_e>0?(Q=o.current)==null||Q.prev():(A=o.current)==null||A.next();return}if(ye||Xe>20||N>20||ue>400){Be.current.readingMode==="scroll"&&Je();return}Ie.preventDefault(),Ie.stopPropagation();const p=Be.current.readingMode!=="scroll",b=i.current;if(!b)return;const P=b.getBoundingClientRect(),V=(Pe.clientX-P.left)/P.width;p?V<.2?(G=o.current)==null||G.prev():V>.8?(ie=o.current)==null||ie.next():ce():ce()},[ce,Je]),At=de.useRef(null),Kt=de.useCallback(Ie=>{const Pe=Ie.clientX,Xe=Ie.clientY;At.current={x:Pe,y:Xe,triggered:!1},me.current=setTimeout(()=>{At.current&&(At.current.triggered=!0);const N=kt(Pe,Xe);N&&qe(N,Pe,Xe)},500)},[kt,qe]),It=de.useCallback(()=>{me.current&&(clearTimeout(me.current),me.current=null),At.current=null},[]),Wt=de.useCallback(Ie=>{if(!At.current||!me.current)return;const Pe=Math.abs(Ie.clientX-At.current.x),Xe=Math.abs(Ie.clientY-At.current.y);(Pe>10||Xe>10)&&(clearTimeout(me.current),me.current=null)},[]),Qt=de.useCallback(Ie=>{var _e,Y,fe;if((_e=At.current)!=null&&_e.triggered){At.current=null;return}const Pe=i.current;if(!Pe)return;const Xe=Pe.getBoundingClientRect(),ue=(Ie.clientX-Xe.left)/Xe.width;Be.current.readingMode!=="scroll"?ue<.2?(Y=o.current)==null||Y.prev():ue>.8?(fe=o.current)==null||fe.next():ce():ce()},[ce]);return O.jsxs("div",{className:"reader-page",children:[f?O.jsxs("div",{className:"reader-loading",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Loading book..."})]}):O.jsx(wy,{visible:_,bookTitle:u==null?void 0:u.title,chapterTitle:j,progress:C,currentPage:q,totalPages:U,isPaginated:bt,onBack:ht,onToggleToc:()=>{F(!L),D(!1)},onToggleSettings:()=>{D(!M),F(!1)},onPrev:()=>{var Ie;return(Ie=o.current)==null?void 0:Ie.prev()},onNext:()=>{var Ie;return(Ie=o.current)==null?void 0:Ie.next()}}),n.readerBgImage&&O.jsx("div",{className:"reader-bg-image",style:{backgroundImage:`url(${n.readerBgImage})`,opacity:n.readerBgOpacity}}),O.jsx("div",{ref:i,className:`reader-viewer ${bt?"reader-paginated":"reader-scroll"}`}),!f&&O.jsx("div",{className:"reader-touch-overlay",onClick:Qt,onTouchStart:rr,onTouchMove:Xt,onTouchEnd:Rt,onMouseDown:Kt,onMouseUp:It,onMouseMove:Wt}),$&&O.jsx(_y,{word:$,translation:xe,loading:Te,position:te,onClose:Ve}),M&&O.jsx(cp,{onClose:()=>D(!1)}),L&&O.jsx(xy,{toc:g,currentHref:"",onSelect:pt,onClose:()=>F(!1)})]})}function by(){return O.jsx("div",{className:"app-container",children:O.jsxs(gg,{children:[O.jsx(Ru,{path:"/",element:O.jsx(yy,{})}),O.jsx(Ru,{path:"/read/:bookId",element:O.jsx(Ey,{})})]})})}bv.createRoot(document.getElementById("root")).render(O.jsx(Gd.StrictMode,{children:O.jsx(xg,{basename:"/DrewPub/",children:O.jsx(Wg,{children:O.jsx(by,{})})})}));
